function Y_(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const p in s)if(p!=="default"&&!(p in e)){const v=Object.getOwnPropertyDescriptor(s,p);v&&Object.defineProperty(e,p,v.get?v:{enumerable:!0,get:()=>s[p]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))s(p);new MutationObserver(p=>{for(const v of p)if(v.type==="childList")for(const x of v.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&s(x)}).observe(document,{childList:!0,subtree:!0});function r(p){const v={};return p.integrity&&(v.integrity=p.integrity),p.referrerpolicy&&(v.referrerPolicy=p.referrerpolicy),p.crossorigin==="use-credentials"?v.credentials="include":p.crossorigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function s(p){if(p.ep)return;p.ep=!0;const v=r(p);fetch(p.href,v)}})();var yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function W_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function s(){if(this instanceof s){var p=[null];p.push.apply(p,arguments);var v=Function.bind.apply(t,p);return new v}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var p=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,p.get?p:{enumerable:!0,get:function(){return e[s]}})}),r}var Do={},G_={get exports(){return Do},set exports(e){Do=e}},zl={},$={},X_={get exports(){return $},set exports(e){$=e}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts=Symbol.for("react.element"),V_=Symbol.for("react.portal"),K_=Symbol.for("react.fragment"),q_=Symbol.for("react.strict_mode"),Q_=Symbol.for("react.profiler"),Z_=Symbol.for("react.provider"),J_=Symbol.for("react.context"),e2=Symbol.for("react.forward_ref"),t2=Symbol.for("react.suspense"),r2=Symbol.for("react.memo"),n2=Symbol.for("react.lazy"),Ep=Symbol.iterator;function i2(e){return e===null||typeof e!="object"?null:(e=Ep&&e[Ep]||e["@@iterator"],typeof e=="function"?e:null)}var xv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_v=Object.assign,wv={};function Xa(e,t,r){this.props=e,this.context=t,this.refs=wv,this.updater=r||xv}Xa.prototype.isReactComponent={};Xa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cv(){}Cv.prototype=Xa.prototype;function Qf(e,t,r){this.props=e,this.context=t,this.refs=wv,this.updater=r||xv}var Zf=Qf.prototype=new Cv;Zf.constructor=Qf;_v(Zf,Xa.prototype);Zf.isPureReactComponent=!0;var kp=Array.isArray,Sv=Object.prototype.hasOwnProperty,Jf={current:null},bv={key:!0,ref:!0,__self:!0,__source:!0};function Tv(e,t,r){var s,p={},v=null,x=null;if(t!=null)for(s in t.ref!==void 0&&(x=t.ref),t.key!==void 0&&(v=""+t.key),t)Sv.call(t,s)&&!bv.hasOwnProperty(s)&&(p[s]=t[s]);var f=arguments.length-2;if(f===1)p.children=r;else if(1<f){for(var n=Array(f),c=0;c<f;c++)n[c]=arguments[c+2];p.children=n}if(e&&e.defaultProps)for(s in f=e.defaultProps,f)p[s]===void 0&&(p[s]=f[s]);return{$$typeof:ts,type:e,key:v,ref:x,props:p,_owner:Jf.current}}function a2(e,t){return{$$typeof:ts,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function eh(e){return typeof e=="object"&&e!==null&&e.$$typeof===ts}function o2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Op=/\/+/g;function Ku(e,t){return typeof e=="object"&&e!==null&&e.key!=null?o2(""+e.key):t.toString(36)}function Ys(e,t,r,s,p){var v=typeof e;(v==="undefined"||v==="boolean")&&(e=null);var x=!1;if(e===null)x=!0;else switch(v){case"string":case"number":x=!0;break;case"object":switch(e.$$typeof){case ts:case V_:x=!0}}if(x)return x=e,p=p(x),e=s===""?"."+Ku(x,0):s,kp(p)?(r="",e!=null&&(r=e.replace(Op,"$&/")+"/"),Ys(p,t,r,"",function(c){return c})):p!=null&&(eh(p)&&(p=a2(p,r+(!p.key||x&&x.key===p.key?"":(""+p.key).replace(Op,"$&/")+"/")+e)),t.push(p)),1;if(x=0,s=s===""?".":s+":",kp(e))for(var f=0;f<e.length;f++){v=e[f];var n=s+Ku(v,f);x+=Ys(v,t,r,n,p)}else if(n=i2(e),typeof n=="function")for(e=n.call(e),f=0;!(v=e.next()).done;)v=v.value,n=s+Ku(v,f++),x+=Ys(v,t,r,n,p);else if(v==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return x}function Cs(e,t,r){if(e==null)return e;var s=[],p=0;return Ys(e,s,"","",function(v){return t.call(r,v,p++)}),s}function s2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jr={current:null},Ws={transition:null},l2={ReactCurrentDispatcher:jr,ReactCurrentBatchConfig:Ws,ReactCurrentOwner:Jf};Tt.Children={map:Cs,forEach:function(e,t,r){Cs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Cs(e,function(){t++}),t},toArray:function(e){return Cs(e,function(t){return t})||[]},only:function(e){if(!eh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Tt.Component=Xa;Tt.Fragment=K_;Tt.Profiler=Q_;Tt.PureComponent=Qf;Tt.StrictMode=q_;Tt.Suspense=t2;Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l2;Tt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=_v({},e.props),p=e.key,v=e.ref,x=e._owner;if(t!=null){if(t.ref!==void 0&&(v=t.ref,x=Jf.current),t.key!==void 0&&(p=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(n in t)Sv.call(t,n)&&!bv.hasOwnProperty(n)&&(s[n]=t[n]===void 0&&f!==void 0?f[n]:t[n])}var n=arguments.length-2;if(n===1)s.children=r;else if(1<n){f=Array(n);for(var c=0;c<n;c++)f[c]=arguments[c+2];s.children=f}return{$$typeof:ts,type:e.type,key:p,ref:v,props:s,_owner:x}};Tt.createContext=function(e){return e={$$typeof:J_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Z_,_context:e},e.Consumer=e};Tt.createElement=Tv;Tt.createFactory=function(e){var t=Tv.bind(null,e);return t.type=e,t};Tt.createRef=function(){return{current:null}};Tt.forwardRef=function(e){return{$$typeof:e2,render:e}};Tt.isValidElement=eh;Tt.lazy=function(e){return{$$typeof:n2,_payload:{_status:-1,_result:e},_init:s2}};Tt.memo=function(e,t){return{$$typeof:r2,type:e,compare:t===void 0?null:t}};Tt.startTransition=function(e){var t=Ws.transition;Ws.transition={};try{e()}finally{Ws.transition=t}};Tt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Tt.useCallback=function(e,t){return jr.current.useCallback(e,t)};Tt.useContext=function(e){return jr.current.useContext(e)};Tt.useDebugValue=function(){};Tt.useDeferredValue=function(e){return jr.current.useDeferredValue(e)};Tt.useEffect=function(e,t){return jr.current.useEffect(e,t)};Tt.useId=function(){return jr.current.useId()};Tt.useImperativeHandle=function(e,t,r){return jr.current.useImperativeHandle(e,t,r)};Tt.useInsertionEffect=function(e,t){return jr.current.useInsertionEffect(e,t)};Tt.useLayoutEffect=function(e,t){return jr.current.useLayoutEffect(e,t)};Tt.useMemo=function(e,t){return jr.current.useMemo(e,t)};Tt.useReducer=function(e,t,r){return jr.current.useReducer(e,t,r)};Tt.useRef=function(e){return jr.current.useRef(e)};Tt.useState=function(e){return jr.current.useState(e)};Tt.useSyncExternalStore=function(e,t,r){return jr.current.useSyncExternalStore(e,t,r)};Tt.useTransition=function(){return jr.current.useTransition()};Tt.version="18.2.0";(function(e){e.exports=Tt})(X_);const Ir=qf($),Rc=Y_({__proto__:null,default:Ir},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u2=$,c2=Symbol.for("react.element"),f2=Symbol.for("react.fragment"),h2=Object.prototype.hasOwnProperty,d2=u2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p2={key:!0,ref:!0,__self:!0,__source:!0};function Ev(e,t,r){var s,p={},v=null,x=null;r!==void 0&&(v=""+r),t.key!==void 0&&(v=""+t.key),t.ref!==void 0&&(x=t.ref);for(s in t)h2.call(t,s)&&!p2.hasOwnProperty(s)&&(p[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)p[s]===void 0&&(p[s]=t[s]);return{$$typeof:c2,type:e,key:v,ref:x,props:p,_owner:d2.current}}zl.Fragment=f2;zl.jsx=Ev;zl.jsxs=Ev;(function(e){e.exports=zl})(G_);const $i=Do.Fragment,W=Do.jsx,vt=Do.jsxs;var Lc={},sl={},g2={get exports(){return sl},set exports(e){sl=e}},Jr={},Fc={},v2={get exports(){return Fc},set exports(e){Fc=e}},kv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ee,O){var j=ee.length;ee.push(O);e:for(;0<j;){var z=j-1>>>1,F=ee[z];if(0<p(F,O))ee[z]=O,ee[j]=F,j=z;else break e}}function r(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var O=ee[0],j=ee.pop();if(j!==O){ee[0]=j;e:for(var z=0,F=ee.length,U=F>>>1;z<U;){var L=2*(z+1)-1,k=ee[L],D=L+1,K=ee[D];if(0>p(k,j))D<F&&0>p(K,k)?(ee[z]=K,ee[D]=j,z=D):(ee[z]=k,ee[L]=j,z=L);else if(D<F&&0>p(K,j))ee[z]=K,ee[D]=j,z=D;else break e}}return O}function p(ee,O){var j=ee.sortIndex-O.sortIndex;return j!==0?j:ee.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var v=performance;e.unstable_now=function(){return v.now()}}else{var x=Date,f=x.now();e.unstable_now=function(){return x.now()-f}}var n=[],c=[],h=1,i=null,o=3,a=!1,u=!1,d=!1,l=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(ee){for(var O=r(c);O!==null;){if(O.callback===null)s(c);else if(O.startTime<=ee)s(c),O.sortIndex=O.expirationTime,t(n,O);else break;O=r(c)}}function _(ee){if(d=!1,y(ee),!u)if(r(n)!==null)u=!0,Oe(S);else{var O=r(c);O!==null&&me(_,O.startTime-ee)}}function S(ee,O){u=!1,d&&(d=!1,g(N),N=-1),a=!0;var j=o;try{for(y(O),i=r(n);i!==null&&(!(i.expirationTime>O)||ee&&!ve());){var z=i.callback;if(typeof z=="function"){i.callback=null,o=i.priorityLevel;var F=z(i.expirationTime<=O);O=e.unstable_now(),typeof F=="function"?i.callback=F:i===r(n)&&s(n),y(O)}else s(n);i=r(n)}if(i!==null)var U=!0;else{var L=r(c);L!==null&&me(_,L.startTime-O),U=!1}return U}finally{i=null,o=j,a=!1}}var T=!1,A=null,N=-1,Q=5,re=-1;function ve(){return!(e.unstable_now()-re<Q)}function we(){if(A!==null){var ee=e.unstable_now();re=ee;var O=!0;try{O=A(!0,ee)}finally{O?Te():(T=!1,A=null)}}else T=!1}var Te;if(typeof m=="function")Te=function(){m(we)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,xe=Ce.port2;Ce.port1.onmessage=we,Te=function(){xe.postMessage(null)}}else Te=function(){l(we,0)};function Oe(ee){A=ee,T||(T=!0,Te())}function me(ee,O){N=l(function(){ee(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){u||a||(u=!0,Oe(S))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return o},e.unstable_getFirstCallbackNode=function(){return r(n)},e.unstable_next=function(ee){switch(o){case 1:case 2:case 3:var O=3;break;default:O=o}var j=o;o=O;try{return ee()}finally{o=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,O){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var j=o;o=ee;try{return O()}finally{o=j}},e.unstable_scheduleCallback=function(ee,O,j){var z=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?z+j:z):j=z,ee){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=j+F,ee={id:h++,callback:O,priorityLevel:ee,startTime:j,expirationTime:F,sortIndex:-1},j>z?(ee.sortIndex=j,t(c,ee),r(n)===null&&ee===r(c)&&(d?(g(N),N=-1):d=!0,me(_,j-z))):(ee.sortIndex=F,t(n,ee),u||a||(u=!0,Oe(S))),ee},e.unstable_shouldYield=ve,e.unstable_wrapCallback=function(ee){var O=o;return function(){var j=o;o=O;try{return ee.apply(this,arguments)}finally{o=j}}}})(kv);(function(e){e.exports=kv})(v2);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov=$,Qr=Fc;function Fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pv=new Set,Ro={};function ea(e,t){Ia(e,t),Ia(e+"Capture",t)}function Ia(e,t){for(Ro[e]=t,e=0;e<t.length;e++)Pv.add(t[e])}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ic=Object.prototype.hasOwnProperty,m2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pp={},Ap={};function y2(e){return Ic.call(Ap,e)?!0:Ic.call(Pp,e)?!1:m2.test(e)?Ap[e]=!0:(Pp[e]=!0,!1)}function x2(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _2(e,t,r,s){if(t===null||typeof t>"u"||x2(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Br(e,t,r,s,p,v,x){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=p,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=v,this.removeEmptyString=x}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){br[e]=new Br(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];br[t]=new Br(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){br[e]=new Br(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){br[e]=new Br(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){br[e]=new Br(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){br[e]=new Br(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){br[e]=new Br(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){br[e]=new Br(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){br[e]=new Br(e,5,!1,e.toLowerCase(),null,!1,!1)});var th=/[\-:]([a-z])/g;function rh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(th,rh);br[t]=new Br(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(th,rh);br[t]=new Br(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(th,rh);br[t]=new Br(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){br[e]=new Br(e,1,!1,e.toLowerCase(),null,!1,!1)});br.xlinkHref=new Br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){br[e]=new Br(e,1,!1,e.toLowerCase(),null,!0,!0)});function nh(e,t,r,s){var p=br.hasOwnProperty(t)?br[t]:null;(p!==null?p.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_2(t,r,p,s)&&(r=null),s||p===null?y2(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):p.mustUseProperty?e[p.propertyName]=r===null?p.type===3?!1:"":r:(t=p.attributeName,s=p.attributeNamespace,r===null?e.removeAttribute(t):(p=p.type,r=p===3||p===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Jn=Ov.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ss=Symbol.for("react.element"),va=Symbol.for("react.portal"),ma=Symbol.for("react.fragment"),ih=Symbol.for("react.strict_mode"),Nc=Symbol.for("react.profiler"),Av=Symbol.for("react.provider"),Mv=Symbol.for("react.context"),ah=Symbol.for("react.forward_ref"),jc=Symbol.for("react.suspense"),Bc=Symbol.for("react.suspense_list"),oh=Symbol.for("react.memo"),li=Symbol.for("react.lazy"),Dv=Symbol.for("react.offscreen"),Mp=Symbol.iterator;function oo(e){return e===null||typeof e!="object"?null:(e=Mp&&e[Mp]||e["@@iterator"],typeof e=="function"?e:null)}var tr=Object.assign,qu;function vo(e){if(qu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);qu=t&&t[1]||""}return`
`+qu+e}var Qu=!1;function Zu(e,t){if(!e||Qu)return"";Qu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var p=c.stack.split(`
`),v=s.stack.split(`
`),x=p.length-1,f=v.length-1;1<=x&&0<=f&&p[x]!==v[f];)f--;for(;1<=x&&0<=f;x--,f--)if(p[x]!==v[f]){if(x!==1||f!==1)do if(x--,f--,0>f||p[x]!==v[f]){var n=`
`+p[x].replace(" at new "," at ");return e.displayName&&n.includes("<anonymous>")&&(n=n.replace("<anonymous>",e.displayName)),n}while(1<=x&&0<=f);break}}}finally{Qu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?vo(e):""}function w2(e){switch(e.tag){case 5:return vo(e.type);case 16:return vo("Lazy");case 13:return vo("Suspense");case 19:return vo("SuspenseList");case 0:case 2:case 15:return e=Zu(e.type,!1),e;case 11:return e=Zu(e.type.render,!1),e;case 1:return e=Zu(e.type,!0),e;default:return""}}function zc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ma:return"Fragment";case va:return"Portal";case Nc:return"Profiler";case ih:return"StrictMode";case jc:return"Suspense";case Bc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mv:return(e.displayName||"Context")+".Consumer";case Av:return(e._context.displayName||"Context")+".Provider";case ah:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oh:return t=e.displayName||null,t!==null?t:zc(e.type)||"Memo";case li:t=e._payload,e=e._init;try{return zc(e(t))}catch{}}return null}function C2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zc(t);case 8:return t===ih?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ki(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function S2(e){var t=Rv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var p=r.get,v=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return p.call(this)},set:function(x){s=""+x,v.call(this,x)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(x){s=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bs(e){e._valueTracker||(e._valueTracker=S2(e))}function Lv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Rv(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function ll(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Uc(e,t){var r=t.checked;return tr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Dp(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=ki(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fv(e,t){t=t.checked,t!=null&&nh(e,"checked",t,!1)}function Hc(e,t){Fv(e,t);var r=ki(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$c(e,t.type,r):t.hasOwnProperty("defaultValue")&&$c(e,t.type,ki(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rp(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function $c(e,t,r){(t!=="number"||ll(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var mo=Array.isArray;function Aa(e,t,r,s){if(e=e.options,t){t={};for(var p=0;p<r.length;p++)t["$"+r[p]]=!0;for(r=0;r<e.length;r++)p=t.hasOwnProperty("$"+e[r].value),e[r].selected!==p&&(e[r].selected=p),p&&s&&(e[r].defaultSelected=!0)}else{for(r=""+ki(r),t=null,p=0;p<e.length;p++){if(e[p].value===r){e[p].selected=!0,s&&(e[p].defaultSelected=!0);return}t!==null||e[p].disabled||(t=e[p])}t!==null&&(t.selected=!0)}}function Yc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Fe(91));return tr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Fe(92));if(mo(r)){if(1<r.length)throw Error(Fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ki(r)}}function Iv(e,t){var r=ki(t.value),s=ki(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Fp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Nv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Nv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ts,jv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,p){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,p)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ts=Ts||document.createElement("div"),Ts.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ts.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},b2=["Webkit","ms","Moz","O"];Object.keys(wo).forEach(function(e){b2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wo[t]=wo[e]})});function Bv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||wo.hasOwnProperty(e)&&wo[e]?(""+t).trim():t+"px"}function zv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,p=Bv(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,p):e[r]=p}}var T2=tr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gc(e,t){if(t){if(T2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Fe(62))}}function Xc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vc=null;function sh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kc=null,Ma=null,Da=null;function Ip(e){if(e=is(e)){if(typeof Kc!="function")throw Error(Fe(280));var t=e.stateNode;t&&(t=Wl(t),Kc(e.stateNode,e.type,t))}}function Uv(e){Ma?Da?Da.push(e):Da=[e]:Ma=e}function Hv(){if(Ma){var e=Ma,t=Da;if(Da=Ma=null,Ip(e),t)for(e=0;e<t.length;e++)Ip(t[e])}}function $v(e,t){return e(t)}function Yv(){}var Ju=!1;function Wv(e,t,r){if(Ju)return e(t,r);Ju=!0;try{return $v(e,t,r)}finally{Ju=!1,(Ma!==null||Da!==null)&&(Yv(),Hv())}}function Fo(e,t){var r=e.stateNode;if(r===null)return null;var s=Wl(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Fe(231,t,typeof r));return r}var qc=!1;if(Kn)try{var so={};Object.defineProperty(so,"passive",{get:function(){qc=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{qc=!1}function E2(e,t,r,s,p,v,x,f,n){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(h){this.onError(h)}}var Co=!1,ul=null,cl=!1,Qc=null,k2={onError:function(e){Co=!0,ul=e}};function O2(e,t,r,s,p,v,x,f,n){Co=!1,ul=null,E2.apply(k2,arguments)}function P2(e,t,r,s,p,v,x,f,n){if(O2.apply(this,arguments),Co){if(Co){var c=ul;Co=!1,ul=null}else throw Error(Fe(198));cl||(cl=!0,Qc=c)}}function ta(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Gv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Np(e){if(ta(e)!==e)throw Error(Fe(188))}function A2(e){var t=e.alternate;if(!t){if(t=ta(e),t===null)throw Error(Fe(188));return t!==e?null:e}for(var r=e,s=t;;){var p=r.return;if(p===null)break;var v=p.alternate;if(v===null){if(s=p.return,s!==null){r=s;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===r)return Np(p),e;if(v===s)return Np(p),t;v=v.sibling}throw Error(Fe(188))}if(r.return!==s.return)r=p,s=v;else{for(var x=!1,f=p.child;f;){if(f===r){x=!0,r=p,s=v;break}if(f===s){x=!0,s=p,r=v;break}f=f.sibling}if(!x){for(f=v.child;f;){if(f===r){x=!0,r=v,s=p;break}if(f===s){x=!0,s=v,r=p;break}f=f.sibling}if(!x)throw Error(Fe(189))}}if(r.alternate!==s)throw Error(Fe(190))}if(r.tag!==3)throw Error(Fe(188));return r.stateNode.current===r?e:t}function Xv(e){return e=A2(e),e!==null?Vv(e):null}function Vv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vv(e);if(t!==null)return t;e=e.sibling}return null}var Kv=Qr.unstable_scheduleCallback,jp=Qr.unstable_cancelCallback,M2=Qr.unstable_shouldYield,D2=Qr.unstable_requestPaint,ir=Qr.unstable_now,R2=Qr.unstable_getCurrentPriorityLevel,lh=Qr.unstable_ImmediatePriority,qv=Qr.unstable_UserBlockingPriority,fl=Qr.unstable_NormalPriority,L2=Qr.unstable_LowPriority,Qv=Qr.unstable_IdlePriority,Ul=null,Mn=null;function F2(e){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Ul,e,void 0,(e.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:j2,I2=Math.log,N2=Math.LN2;function j2(e){return e>>>=0,e===0?32:31-(I2(e)/N2|0)|0}var Es=64,ks=4194304;function yo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hl(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,p=e.suspendedLanes,v=e.pingedLanes,x=r&268435455;if(x!==0){var f=x&~p;f!==0?s=yo(f):(v&=x,v!==0&&(s=yo(v)))}else x=r&~p,x!==0?s=yo(x):v!==0&&(s=yo(v));if(s===0)return 0;if(t!==0&&t!==s&&!(t&p)&&(p=s&-s,v=t&-t,p>=v||p===16&&(v&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Sn(t),p=1<<r,s|=e[r],t&=~p;return s}function B2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z2(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,p=e.expirationTimes,v=e.pendingLanes;0<v;){var x=31-Sn(v),f=1<<x,n=p[x];n===-1?(!(f&r)||f&s)&&(p[x]=B2(f,t)):n<=t&&(e.expiredLanes|=f),v&=~f}}function Zc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zv(){var e=Es;return Es<<=1,!(Es&4194240)&&(Es=64),e}function ec(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function rs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Sn(t),e[t]=r}function U2(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var p=31-Sn(r),v=1<<p;t[p]=0,s[p]=-1,e[p]=-1,r&=~v}}function uh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Sn(r),p=1<<s;p&t|e[s]&t&&(e[s]|=t),r&=~p}}var Bt=0;function Jv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var e0,ch,t0,r0,n0,Jc=!1,Os=[],vi=null,mi=null,yi=null,Io=new Map,No=new Map,fi=[],H2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bp(e,t){switch(e){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":Io.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(t.pointerId)}}function lo(e,t,r,s,p,v){return e===null||e.nativeEvent!==v?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:v,targetContainers:[p]},t!==null&&(t=is(t),t!==null&&ch(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,p!==null&&t.indexOf(p)===-1&&t.push(p),e)}function $2(e,t,r,s,p){switch(t){case"focusin":return vi=lo(vi,e,t,r,s,p),!0;case"dragenter":return mi=lo(mi,e,t,r,s,p),!0;case"mouseover":return yi=lo(yi,e,t,r,s,p),!0;case"pointerover":var v=p.pointerId;return Io.set(v,lo(Io.get(v)||null,e,t,r,s,p)),!0;case"gotpointercapture":return v=p.pointerId,No.set(v,lo(No.get(v)||null,e,t,r,s,p)),!0}return!1}function i0(e){var t=zi(e.target);if(t!==null){var r=ta(t);if(r!==null){if(t=r.tag,t===13){if(t=Gv(r),t!==null){e.blockedOn=t,n0(e.priority,function(){t0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ef(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Vc=s,r.target.dispatchEvent(s),Vc=null}else return t=is(r),t!==null&&ch(t),e.blockedOn=r,!1;t.shift()}return!0}function zp(e,t,r){Gs(e)&&r.delete(t)}function Y2(){Jc=!1,vi!==null&&Gs(vi)&&(vi=null),mi!==null&&Gs(mi)&&(mi=null),yi!==null&&Gs(yi)&&(yi=null),Io.forEach(zp),No.forEach(zp)}function uo(e,t){e.blockedOn===t&&(e.blockedOn=null,Jc||(Jc=!0,Qr.unstable_scheduleCallback(Qr.unstable_NormalPriority,Y2)))}function jo(e){function t(p){return uo(p,e)}if(0<Os.length){uo(Os[0],e);for(var r=1;r<Os.length;r++){var s=Os[r];s.blockedOn===e&&(s.blockedOn=null)}}for(vi!==null&&uo(vi,e),mi!==null&&uo(mi,e),yi!==null&&uo(yi,e),Io.forEach(t),No.forEach(t),r=0;r<fi.length;r++)s=fi[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<fi.length&&(r=fi[0],r.blockedOn===null);)i0(r),r.blockedOn===null&&fi.shift()}var Ra=Jn.ReactCurrentBatchConfig,dl=!0;function W2(e,t,r,s){var p=Bt,v=Ra.transition;Ra.transition=null;try{Bt=1,fh(e,t,r,s)}finally{Bt=p,Ra.transition=v}}function G2(e,t,r,s){var p=Bt,v=Ra.transition;Ra.transition=null;try{Bt=4,fh(e,t,r,s)}finally{Bt=p,Ra.transition=v}}function fh(e,t,r,s){if(dl){var p=ef(e,t,r,s);if(p===null)cc(e,t,s,pl,r),Bp(e,s);else if($2(p,e,t,r,s))s.stopPropagation();else if(Bp(e,s),t&4&&-1<H2.indexOf(e)){for(;p!==null;){var v=is(p);if(v!==null&&e0(v),v=ef(e,t,r,s),v===null&&cc(e,t,s,pl,r),v===p)break;p=v}p!==null&&s.stopPropagation()}else cc(e,t,s,null,r)}}var pl=null;function ef(e,t,r,s){if(pl=null,e=sh(s),e=zi(e),e!==null)if(t=ta(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Gv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pl=e,null}function a0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R2()){case lh:return 1;case qv:return 4;case fl:case L2:return 16;case Qv:return 536870912;default:return 16}default:return 16}}var di=null,hh=null,Xs=null;function o0(){if(Xs)return Xs;var e,t=hh,r=t.length,s,p="value"in di?di.value:di.textContent,v=p.length;for(e=0;e<r&&t[e]===p[e];e++);var x=r-e;for(s=1;s<=x&&t[r-s]===p[v-s];s++);return Xs=p.slice(e,1<s?1-s:void 0)}function Vs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ps(){return!0}function Up(){return!1}function en(e){function t(r,s,p,v,x){this._reactName=r,this._targetInst=p,this.type=s,this.nativeEvent=v,this.target=x,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(r=e[f],this[f]=r?r(v):v[f]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ps:Up,this.isPropagationStopped=Up,this}return tr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ps)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ps)},persist:function(){},isPersistent:Ps}),t}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dh=en(Va),ns=tr({},Va,{view:0,detail:0}),X2=en(ns),tc,rc,co,Hl=tr({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ph,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==co&&(co&&e.type==="mousemove"?(tc=e.screenX-co.screenX,rc=e.screenY-co.screenY):rc=tc=0,co=e),tc)},movementY:function(e){return"movementY"in e?e.movementY:rc}}),Hp=en(Hl),V2=tr({},Hl,{dataTransfer:0}),K2=en(V2),q2=tr({},ns,{relatedTarget:0}),nc=en(q2),Q2=tr({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),Z2=en(Q2),J2=tr({},Va,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ew=en(J2),tw=tr({},Va,{data:0}),$p=en(tw),rw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iw[e])?!!t[e]:!1}function ph(){return aw}var ow=tr({},ns,{key:function(e){if(e.key){var t=rw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ph,charCode:function(e){return e.type==="keypress"?Vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sw=en(ow),lw=tr({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yp=en(lw),uw=tr({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ph}),cw=en(uw),fw=tr({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),hw=en(fw),dw=tr({},Hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pw=en(dw),gw=[9,13,27,32],gh=Kn&&"CompositionEvent"in window,So=null;Kn&&"documentMode"in document&&(So=document.documentMode);var vw=Kn&&"TextEvent"in window&&!So,s0=Kn&&(!gh||So&&8<So&&11>=So),Wp=String.fromCharCode(32),Gp=!1;function l0(e,t){switch(e){case"keyup":return gw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ya=!1;function mw(e,t){switch(e){case"compositionend":return u0(t);case"keypress":return t.which!==32?null:(Gp=!0,Wp);case"textInput":return e=t.data,e===Wp&&Gp?null:e;default:return null}}function yw(e,t){if(ya)return e==="compositionend"||!gh&&l0(e,t)?(e=o0(),Xs=hh=di=null,ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return s0&&t.locale!=="ko"?null:t.data;default:return null}}var xw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xw[e.type]:t==="textarea"}function c0(e,t,r,s){Uv(s),t=gl(t,"onChange"),0<t.length&&(r=new dh("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var bo=null,Bo=null;function _w(e){w0(e,0)}function $l(e){var t=wa(e);if(Lv(t))return e}function ww(e,t){if(e==="change")return t}var f0=!1;if(Kn){var ic;if(Kn){var ac="oninput"in document;if(!ac){var Vp=document.createElement("div");Vp.setAttribute("oninput","return;"),ac=typeof Vp.oninput=="function"}ic=ac}else ic=!1;f0=ic&&(!document.documentMode||9<document.documentMode)}function Kp(){bo&&(bo.detachEvent("onpropertychange",h0),Bo=bo=null)}function h0(e){if(e.propertyName==="value"&&$l(Bo)){var t=[];c0(t,Bo,e,sh(e)),Wv(_w,t)}}function Cw(e,t,r){e==="focusin"?(Kp(),bo=t,Bo=r,bo.attachEvent("onpropertychange",h0)):e==="focusout"&&Kp()}function Sw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $l(Bo)}function bw(e,t){if(e==="click")return $l(t)}function Tw(e,t){if(e==="input"||e==="change")return $l(t)}function Ew(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var En=typeof Object.is=="function"?Object.is:Ew;function zo(e,t){if(En(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var p=r[s];if(!Ic.call(t,p)||!En(e[p],t[p]))return!1}return!0}function qp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qp(e,t){var r=qp(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qp(r)}}function d0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?d0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function p0(){for(var e=window,t=ll();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ll(e.document)}return t}function vh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kw(e){var t=p0(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&d0(r.ownerDocument.documentElement,r)){if(s!==null&&vh(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var p=r.textContent.length,v=Math.min(s.start,p);s=s.end===void 0?v:Math.min(s.end,p),!e.extend&&v>s&&(p=s,s=v,v=p),p=Qp(r,v);var x=Qp(r,s);p&&x&&(e.rangeCount!==1||e.anchorNode!==p.node||e.anchorOffset!==p.offset||e.focusNode!==x.node||e.focusOffset!==x.offset)&&(t=t.createRange(),t.setStart(p.node,p.offset),e.removeAllRanges(),v>s?(e.addRange(t),e.extend(x.node,x.offset)):(t.setEnd(x.node,x.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ow=Kn&&"documentMode"in document&&11>=document.documentMode,xa=null,tf=null,To=null,rf=!1;function Zp(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;rf||xa==null||xa!==ll(s)||(s=xa,"selectionStart"in s&&vh(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),To&&zo(To,s)||(To=s,s=gl(tf,"onSelect"),0<s.length&&(t=new dh("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=xa)))}function As(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _a={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionend:As("Transition","TransitionEnd")},oc={},g0={};Kn&&(g0=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Yl(e){if(oc[e])return oc[e];if(!_a[e])return e;var t=_a[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in g0)return oc[e]=t[r];return e}var v0=Yl("animationend"),m0=Yl("animationiteration"),y0=Yl("animationstart"),x0=Yl("transitionend"),_0=new Map,Jp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(e,t){_0.set(e,t),ea(t,[e])}for(var sc=0;sc<Jp.length;sc++){var lc=Jp[sc],Pw=lc.toLowerCase(),Aw=lc[0].toUpperCase()+lc.slice(1);Pi(Pw,"on"+Aw)}Pi(v0,"onAnimationEnd");Pi(m0,"onAnimationIteration");Pi(y0,"onAnimationStart");Pi("dblclick","onDoubleClick");Pi("focusin","onFocus");Pi("focusout","onBlur");Pi(x0,"onTransitionEnd");Ia("onMouseEnter",["mouseout","mouseover"]);Ia("onMouseLeave",["mouseout","mouseover"]);Ia("onPointerEnter",["pointerout","pointerover"]);Ia("onPointerLeave",["pointerout","pointerover"]);ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mw=new Set("cancel close invalid load scroll toggle".split(" ").concat(xo));function eg(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,P2(s,t,void 0,e),e.currentTarget=null}function w0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],p=s.event;s=s.listeners;e:{var v=void 0;if(t)for(var x=s.length-1;0<=x;x--){var f=s[x],n=f.instance,c=f.currentTarget;if(f=f.listener,n!==v&&p.isPropagationStopped())break e;eg(p,f,c),v=n}else for(x=0;x<s.length;x++){if(f=s[x],n=f.instance,c=f.currentTarget,f=f.listener,n!==v&&p.isPropagationStopped())break e;eg(p,f,c),v=n}}}if(cl)throw e=Qc,cl=!1,Qc=null,e}function Wt(e,t){var r=t[lf];r===void 0&&(r=t[lf]=new Set);var s=e+"__bubble";r.has(s)||(C0(t,e,2,!1),r.add(s))}function uc(e,t,r){var s=0;t&&(s|=4),C0(r,e,s,t)}var Ms="_reactListening"+Math.random().toString(36).slice(2);function Uo(e){if(!e[Ms]){e[Ms]=!0,Pv.forEach(function(r){r!=="selectionchange"&&(Mw.has(r)||uc(r,!1,e),uc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ms]||(t[Ms]=!0,uc("selectionchange",!1,t))}}function C0(e,t,r,s){switch(a0(t)){case 1:var p=W2;break;case 4:p=G2;break;default:p=fh}r=p.bind(null,t,r,e),p=void 0,!qc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(p=!0),s?p!==void 0?e.addEventListener(t,r,{capture:!0,passive:p}):e.addEventListener(t,r,!0):p!==void 0?e.addEventListener(t,r,{passive:p}):e.addEventListener(t,r,!1)}function cc(e,t,r,s,p){var v=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var x=s.tag;if(x===3||x===4){var f=s.stateNode.containerInfo;if(f===p||f.nodeType===8&&f.parentNode===p)break;if(x===4)for(x=s.return;x!==null;){var n=x.tag;if((n===3||n===4)&&(n=x.stateNode.containerInfo,n===p||n.nodeType===8&&n.parentNode===p))return;x=x.return}for(;f!==null;){if(x=zi(f),x===null)return;if(n=x.tag,n===5||n===6){s=v=x;continue e}f=f.parentNode}}s=s.return}Wv(function(){var c=v,h=sh(r),i=[];e:{var o=_0.get(e);if(o!==void 0){var a=dh,u=e;switch(e){case"keypress":if(Vs(r)===0)break e;case"keydown":case"keyup":a=sw;break;case"focusin":u="focus",a=nc;break;case"focusout":u="blur",a=nc;break;case"beforeblur":case"afterblur":a=nc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=Hp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=K2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=cw;break;case v0:case m0:case y0:a=Z2;break;case x0:a=hw;break;case"scroll":a=X2;break;case"wheel":a=pw;break;case"copy":case"cut":case"paste":a=ew;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=Yp}var d=(t&4)!==0,l=!d&&e==="scroll",g=d?o!==null?o+"Capture":null:o;d=[];for(var m=c,y;m!==null;){y=m;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,g!==null&&(_=Fo(m,g),_!=null&&d.push(Ho(m,_,y)))),l)break;m=m.return}0<d.length&&(o=new a(o,u,null,r,h),i.push({event:o,listeners:d}))}}if(!(t&7)){e:{if(o=e==="mouseover"||e==="pointerover",a=e==="mouseout"||e==="pointerout",o&&r!==Vc&&(u=r.relatedTarget||r.fromElement)&&(zi(u)||u[qn]))break e;if((a||o)&&(o=h.window===h?h:(o=h.ownerDocument)?o.defaultView||o.parentWindow:window,a?(u=r.relatedTarget||r.toElement,a=c,u=u?zi(u):null,u!==null&&(l=ta(u),u!==l||u.tag!==5&&u.tag!==6)&&(u=null)):(a=null,u=c),a!==u)){if(d=Hp,_="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(d=Yp,_="onPointerLeave",g="onPointerEnter",m="pointer"),l=a==null?o:wa(a),y=u==null?o:wa(u),o=new d(_,m+"leave",a,r,h),o.target=l,o.relatedTarget=y,_=null,zi(h)===c&&(d=new d(g,m+"enter",u,r,h),d.target=y,d.relatedTarget=l,_=d),l=_,a&&u)t:{for(d=a,g=u,m=0,y=d;y;y=ha(y))m++;for(y=0,_=g;_;_=ha(_))y++;for(;0<m-y;)d=ha(d),m--;for(;0<y-m;)g=ha(g),y--;for(;m--;){if(d===g||g!==null&&d===g.alternate)break t;d=ha(d),g=ha(g)}d=null}else d=null;a!==null&&tg(i,o,a,d,!1),u!==null&&l!==null&&tg(i,l,u,d,!0)}}e:{if(o=c?wa(c):window,a=o.nodeName&&o.nodeName.toLowerCase(),a==="select"||a==="input"&&o.type==="file")var S=ww;else if(Xp(o))if(f0)S=Tw;else{S=Sw;var T=Cw}else(a=o.nodeName)&&a.toLowerCase()==="input"&&(o.type==="checkbox"||o.type==="radio")&&(S=bw);if(S&&(S=S(e,c))){c0(i,S,r,h);break e}T&&T(e,o,c),e==="focusout"&&(T=o._wrapperState)&&T.controlled&&o.type==="number"&&$c(o,"number",o.value)}switch(T=c?wa(c):window,e){case"focusin":(Xp(T)||T.contentEditable==="true")&&(xa=T,tf=c,To=null);break;case"focusout":To=tf=xa=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,Zp(i,r,h);break;case"selectionchange":if(Ow)break;case"keydown":case"keyup":Zp(i,r,h)}var A;if(gh)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ya?l0(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(s0&&r.locale!=="ko"&&(ya||N!=="onCompositionStart"?N==="onCompositionEnd"&&ya&&(A=o0()):(di=h,hh="value"in di?di.value:di.textContent,ya=!0)),T=gl(c,N),0<T.length&&(N=new $p(N,e,null,r,h),i.push({event:N,listeners:T}),A?N.data=A:(A=u0(r),A!==null&&(N.data=A)))),(A=vw?mw(e,r):yw(e,r))&&(c=gl(c,"onBeforeInput"),0<c.length&&(h=new $p("onBeforeInput","beforeinput",null,r,h),i.push({event:h,listeners:c}),h.data=A))}w0(i,t)})}function Ho(e,t,r){return{instance:e,listener:t,currentTarget:r}}function gl(e,t){for(var r=t+"Capture",s=[];e!==null;){var p=e,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=Fo(e,r),v!=null&&s.unshift(Ho(e,v,p)),v=Fo(e,t),v!=null&&s.push(Ho(e,v,p))),e=e.return}return s}function ha(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tg(e,t,r,s,p){for(var v=t._reactName,x=[];r!==null&&r!==s;){var f=r,n=f.alternate,c=f.stateNode;if(n!==null&&n===s)break;f.tag===5&&c!==null&&(f=c,p?(n=Fo(r,v),n!=null&&x.unshift(Ho(r,n,f))):p||(n=Fo(r,v),n!=null&&x.push(Ho(r,n,f)))),r=r.return}x.length!==0&&e.push({event:t,listeners:x})}var Dw=/\r\n?/g,Rw=/\u0000|\uFFFD/g;function rg(e){return(typeof e=="string"?e:""+e).replace(Dw,`
`).replace(Rw,"")}function Ds(e,t,r){if(t=rg(t),rg(e)!==t&&r)throw Error(Fe(425))}function vl(){}var nf=null,af=null;function of(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sf=typeof setTimeout=="function"?setTimeout:void 0,Lw=typeof clearTimeout=="function"?clearTimeout:void 0,ng=typeof Promise=="function"?Promise:void 0,Fw=typeof queueMicrotask=="function"?queueMicrotask:typeof ng<"u"?function(e){return ng.resolve(null).then(e).catch(Iw)}:sf;function Iw(e){setTimeout(function(){throw e})}function fc(e,t){var r=t,s=0;do{var p=r.nextSibling;if(e.removeChild(r),p&&p.nodeType===8)if(r=p.data,r==="/$"){if(s===0){e.removeChild(p),jo(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=p}while(r);jo(t)}function xi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ig(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ka=Math.random().toString(36).slice(2),An="__reactFiber$"+Ka,$o="__reactProps$"+Ka,qn="__reactContainer$"+Ka,lf="__reactEvents$"+Ka,Nw="__reactListeners$"+Ka,jw="__reactHandles$"+Ka;function zi(e){var t=e[An];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qn]||r[An]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ig(e);e!==null;){if(r=e[An])return r;e=ig(e)}return t}e=r,r=e.parentNode}return null}function is(e){return e=e[An]||e[qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Fe(33))}function Wl(e){return e[$o]||null}var uf=[],Ca=-1;function Ai(e){return{current:e}}function Gt(e){0>Ca||(e.current=uf[Ca],uf[Ca]=null,Ca--)}function Yt(e,t){Ca++,uf[Ca]=e.current,e.current=t}var Oi={},Ar=Ai(Oi),$r=Ai(!1),Ki=Oi;function Na(e,t){var r=e.type.contextTypes;if(!r)return Oi;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in r)p[v]=t[v];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=p),p}function Yr(e){return e=e.childContextTypes,e!=null}function ml(){Gt($r),Gt(Ar)}function ag(e,t,r){if(Ar.current!==Oi)throw Error(Fe(168));Yt(Ar,t),Yt($r,r)}function S0(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var p in s)if(!(p in t))throw Error(Fe(108,C2(e)||"Unknown",p));return tr({},r,s)}function yl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oi,Ki=Ar.current,Yt(Ar,e),Yt($r,$r.current),!0}function og(e,t,r){var s=e.stateNode;if(!s)throw Error(Fe(169));r?(e=S0(e,t,Ki),s.__reactInternalMemoizedMergedChildContext=e,Gt($r),Gt(Ar),Yt(Ar,e)):Gt($r),Yt($r,r)}var Hn=null,Gl=!1,hc=!1;function b0(e){Hn===null?Hn=[e]:Hn.push(e)}function Bw(e){Gl=!0,b0(e)}function Mi(){if(!hc&&Hn!==null){hc=!0;var e=0,t=Bt;try{var r=Hn;for(Bt=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Hn=null,Gl=!1}catch(p){throw Hn!==null&&(Hn=Hn.slice(e+1)),Kv(lh,Mi),p}finally{Bt=t,hc=!1}}return null}var Sa=[],ba=0,xl=null,_l=0,nn=[],an=0,qi=null,Yn=1,Wn="";function Ni(e,t){Sa[ba++]=_l,Sa[ba++]=xl,xl=e,_l=t}function T0(e,t,r){nn[an++]=Yn,nn[an++]=Wn,nn[an++]=qi,qi=e;var s=Yn;e=Wn;var p=32-Sn(s)-1;s&=~(1<<p),r+=1;var v=32-Sn(t)+p;if(30<v){var x=p-p%5;v=(s&(1<<x)-1).toString(32),s>>=x,p-=x,Yn=1<<32-Sn(t)+p|r<<p|s,Wn=v+e}else Yn=1<<v|r<<p|s,Wn=e}function mh(e){e.return!==null&&(Ni(e,1),T0(e,1,0))}function yh(e){for(;e===xl;)xl=Sa[--ba],Sa[ba]=null,_l=Sa[--ba],Sa[ba]=null;for(;e===qi;)qi=nn[--an],nn[an]=null,Wn=nn[--an],nn[an]=null,Yn=nn[--an],nn[an]=null}var Kr=null,Vr=null,qt=!1,_n=null;function E0(e,t){var r=on(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function sg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Kr=e,Vr=xi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Kr=e,Vr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=qi!==null?{id:Yn,overflow:Wn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=on(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Kr=e,Vr=null,!0):!1;default:return!1}}function cf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ff(e){if(qt){var t=Vr;if(t){var r=t;if(!sg(e,t)){if(cf(e))throw Error(Fe(418));t=xi(r.nextSibling);var s=Kr;t&&sg(e,t)?E0(s,r):(e.flags=e.flags&-4097|2,qt=!1,Kr=e)}}else{if(cf(e))throw Error(Fe(418));e.flags=e.flags&-4097|2,qt=!1,Kr=e}}}function lg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kr=e}function Rs(e){if(e!==Kr)return!1;if(!qt)return lg(e),qt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!of(e.type,e.memoizedProps)),t&&(t=Vr)){if(cf(e))throw k0(),Error(Fe(418));for(;t;)E0(e,t),t=xi(t.nextSibling)}if(lg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Vr=xi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Vr=null}}else Vr=Kr?xi(e.stateNode.nextSibling):null;return!0}function k0(){for(var e=Vr;e;)e=xi(e.nextSibling)}function ja(){Vr=Kr=null,qt=!1}function xh(e){_n===null?_n=[e]:_n.push(e)}var zw=Jn.ReactCurrentBatchConfig;function yn(e,t){if(e&&e.defaultProps){t=tr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var wl=Ai(null),Cl=null,Ta=null,_h=null;function wh(){_h=Ta=Cl=null}function Ch(e){var t=wl.current;Gt(wl),e._currentValue=t}function hf(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function La(e,t){Cl=e,_h=Ta=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Hr=!0),e.firstContext=null)}function un(e){var t=e._currentValue;if(_h!==e)if(e={context:e,memoizedValue:t,next:null},Ta===null){if(Cl===null)throw Error(Fe(308));Ta=e,Cl.dependencies={lanes:0,firstContext:e}}else Ta=Ta.next=e;return t}var Ui=null;function Sh(e){Ui===null?Ui=[e]:Ui.push(e)}function O0(e,t,r,s){var p=t.interleaved;return p===null?(r.next=r,Sh(t)):(r.next=p.next,p.next=r),t.interleaved=r,Qn(e,s)}function Qn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ui=!1;function bh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _i(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Mt&2){var p=s.pending;return p===null?t.next=t:(t.next=p.next,p.next=t),s.pending=t,Qn(e,r)}return p=s.interleaved,p===null?(t.next=t,Sh(s)):(t.next=p.next,p.next=t),s.interleaved=t,Qn(e,r)}function Ks(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,uh(e,r)}}function ug(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var p=null,v=null;if(r=r.firstBaseUpdate,r!==null){do{var x={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};v===null?p=v=x:v=v.next=x,r=r.next}while(r!==null);v===null?p=v=t:v=v.next=t}else p=v=t;r={baseState:s.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Sl(e,t,r,s){var p=e.updateQueue;ui=!1;var v=p.firstBaseUpdate,x=p.lastBaseUpdate,f=p.shared.pending;if(f!==null){p.shared.pending=null;var n=f,c=n.next;n.next=null,x===null?v=c:x.next=c,x=n;var h=e.alternate;h!==null&&(h=h.updateQueue,f=h.lastBaseUpdate,f!==x&&(f===null?h.firstBaseUpdate=c:f.next=c,h.lastBaseUpdate=n))}if(v!==null){var i=p.baseState;x=0,h=c=n=null,f=v;do{var o=f.lane,a=f.eventTime;if((s&o)===o){h!==null&&(h=h.next={eventTime:a,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var u=e,d=f;switch(o=t,a=r,d.tag){case 1:if(u=d.payload,typeof u=="function"){i=u.call(a,i,o);break e}i=u;break e;case 3:u.flags=u.flags&-65537|128;case 0:if(u=d.payload,o=typeof u=="function"?u.call(a,i,o):u,o==null)break e;i=tr({},i,o);break e;case 2:ui=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,o=p.effects,o===null?p.effects=[f]:o.push(f))}else a={eventTime:a,lane:o,tag:f.tag,payload:f.payload,callback:f.callback,next:null},h===null?(c=h=a,n=i):h=h.next=a,x|=o;if(f=f.next,f===null){if(f=p.shared.pending,f===null)break;o=f,f=o.next,o.next=null,p.lastBaseUpdate=o,p.shared.pending=null}}while(1);if(h===null&&(n=i),p.baseState=n,p.firstBaseUpdate=c,p.lastBaseUpdate=h,t=p.shared.interleaved,t!==null){p=t;do x|=p.lane,p=p.next;while(p!==t)}else v===null&&(p.shared.lanes=0);Zi|=x,e.lanes=x,e.memoizedState=i}}function cg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],p=s.callback;if(p!==null){if(s.callback=null,s=r,typeof p!="function")throw Error(Fe(191,p));p.call(s)}}}var A0=new Ov.Component().refs;function df(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:tr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Xl={isMounted:function(e){return(e=e._reactInternals)?ta(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Nr(),p=Ci(e),v=Xn(s,p);v.payload=t,r!=null&&(v.callback=r),t=_i(e,v,p),t!==null&&(bn(t,e,p,s),Ks(t,e,p))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Nr(),p=Ci(e),v=Xn(s,p);v.tag=1,v.payload=t,r!=null&&(v.callback=r),t=_i(e,v,p),t!==null&&(bn(t,e,p,s),Ks(t,e,p))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Nr(),s=Ci(e),p=Xn(r,s);p.tag=2,t!=null&&(p.callback=t),t=_i(e,p,s),t!==null&&(bn(t,e,s,r),Ks(t,e,s))}};function fg(e,t,r,s,p,v,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,v,x):t.prototype&&t.prototype.isPureReactComponent?!zo(r,s)||!zo(p,v):!0}function M0(e,t,r){var s=!1,p=Oi,v=t.contextType;return typeof v=="object"&&v!==null?v=un(v):(p=Yr(t)?Ki:Ar.current,s=t.contextTypes,v=(s=s!=null)?Na(e,p):Oi),t=new t(r,v),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=p,e.__reactInternalMemoizedMaskedChildContext=v),t}function hg(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Xl.enqueueReplaceState(t,t.state,null)}function pf(e,t,r,s){var p=e.stateNode;p.props=r,p.state=e.memoizedState,p.refs=A0,bh(e);var v=t.contextType;typeof v=="object"&&v!==null?p.context=un(v):(v=Yr(t)?Ki:Ar.current,p.context=Na(e,v)),p.state=e.memoizedState,v=t.getDerivedStateFromProps,typeof v=="function"&&(df(e,t,v,r),p.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(t=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),t!==p.state&&Xl.enqueueReplaceState(p,p.state,null),Sl(e,r,p,s),p.state=e.memoizedState),typeof p.componentDidMount=="function"&&(e.flags|=4194308)}function fo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Fe(309));var s=r.stateNode}if(!s)throw Error(Fe(147,e));var p=s,v=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===v?t.ref:(t=function(x){var f=p.refs;f===A0&&(f=p.refs={}),x===null?delete f[v]:f[v]=x},t._stringRef=v,t)}if(typeof e!="string")throw Error(Fe(284));if(!r._owner)throw Error(Fe(290,e))}return e}function Ls(e,t){throw e=Object.prototype.toString.call(t),Error(Fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dg(e){var t=e._init;return t(e._payload)}function D0(e){function t(g,m){if(e){var y=g.deletions;y===null?(g.deletions=[m],g.flags|=16):y.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function s(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function p(g,m){return g=Si(g,m),g.index=0,g.sibling=null,g}function v(g,m,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<m?(g.flags|=2,m):y):(g.flags|=2,m)):(g.flags|=1048576,m)}function x(g){return e&&g.alternate===null&&(g.flags|=2),g}function f(g,m,y,_){return m===null||m.tag!==6?(m=xc(y,g.mode,_),m.return=g,m):(m=p(m,y),m.return=g,m)}function n(g,m,y,_){var S=y.type;return S===ma?h(g,m,y.props.children,_,y.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===li&&dg(S)===m.type)?(_=p(m,y.props),_.ref=fo(g,m,y),_.return=g,_):(_=tl(y.type,y.key,y.props,null,g.mode,_),_.ref=fo(g,m,y),_.return=g,_)}function c(g,m,y,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=_c(y,g.mode,_),m.return=g,m):(m=p(m,y.children||[]),m.return=g,m)}function h(g,m,y,_,S){return m===null||m.tag!==7?(m=Wi(y,g.mode,_,S),m.return=g,m):(m=p(m,y),m.return=g,m)}function i(g,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=xc(""+m,g.mode,y),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ss:return y=tl(m.type,m.key,m.props,null,g.mode,y),y.ref=fo(g,null,m),y.return=g,y;case va:return m=_c(m,g.mode,y),m.return=g,m;case li:var _=m._init;return i(g,_(m._payload),y)}if(mo(m)||oo(m))return m=Wi(m,g.mode,y,null),m.return=g,m;Ls(g,m)}return null}function o(g,m,y,_){var S=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:f(g,m,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ss:return y.key===S?n(g,m,y,_):null;case va:return y.key===S?c(g,m,y,_):null;case li:return S=y._init,o(g,m,S(y._payload),_)}if(mo(y)||oo(y))return S!==null?null:h(g,m,y,_,null);Ls(g,y)}return null}function a(g,m,y,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(y)||null,f(m,g,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ss:return g=g.get(_.key===null?y:_.key)||null,n(m,g,_,S);case va:return g=g.get(_.key===null?y:_.key)||null,c(m,g,_,S);case li:var T=_._init;return a(g,m,y,T(_._payload),S)}if(mo(_)||oo(_))return g=g.get(y)||null,h(m,g,_,S,null);Ls(m,_)}return null}function u(g,m,y,_){for(var S=null,T=null,A=m,N=m=0,Q=null;A!==null&&N<y.length;N++){A.index>N?(Q=A,A=null):Q=A.sibling;var re=o(g,A,y[N],_);if(re===null){A===null&&(A=Q);break}e&&A&&re.alternate===null&&t(g,A),m=v(re,m,N),T===null?S=re:T.sibling=re,T=re,A=Q}if(N===y.length)return r(g,A),qt&&Ni(g,N),S;if(A===null){for(;N<y.length;N++)A=i(g,y[N],_),A!==null&&(m=v(A,m,N),T===null?S=A:T.sibling=A,T=A);return qt&&Ni(g,N),S}for(A=s(g,A);N<y.length;N++)Q=a(A,g,N,y[N],_),Q!==null&&(e&&Q.alternate!==null&&A.delete(Q.key===null?N:Q.key),m=v(Q,m,N),T===null?S=Q:T.sibling=Q,T=Q);return e&&A.forEach(function(ve){return t(g,ve)}),qt&&Ni(g,N),S}function d(g,m,y,_){var S=oo(y);if(typeof S!="function")throw Error(Fe(150));if(y=S.call(y),y==null)throw Error(Fe(151));for(var T=S=null,A=m,N=m=0,Q=null,re=y.next();A!==null&&!re.done;N++,re=y.next()){A.index>N?(Q=A,A=null):Q=A.sibling;var ve=o(g,A,re.value,_);if(ve===null){A===null&&(A=Q);break}e&&A&&ve.alternate===null&&t(g,A),m=v(ve,m,N),T===null?S=ve:T.sibling=ve,T=ve,A=Q}if(re.done)return r(g,A),qt&&Ni(g,N),S;if(A===null){for(;!re.done;N++,re=y.next())re=i(g,re.value,_),re!==null&&(m=v(re,m,N),T===null?S=re:T.sibling=re,T=re);return qt&&Ni(g,N),S}for(A=s(g,A);!re.done;N++,re=y.next())re=a(A,g,N,re.value,_),re!==null&&(e&&re.alternate!==null&&A.delete(re.key===null?N:re.key),m=v(re,m,N),T===null?S=re:T.sibling=re,T=re);return e&&A.forEach(function(we){return t(g,we)}),qt&&Ni(g,N),S}function l(g,m,y,_){if(typeof y=="object"&&y!==null&&y.type===ma&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ss:e:{for(var S=y.key,T=m;T!==null;){if(T.key===S){if(S=y.type,S===ma){if(T.tag===7){r(g,T.sibling),m=p(T,y.props.children),m.return=g,g=m;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===li&&dg(S)===T.type){r(g,T.sibling),m=p(T,y.props),m.ref=fo(g,T,y),m.return=g,g=m;break e}r(g,T);break}else t(g,T);T=T.sibling}y.type===ma?(m=Wi(y.props.children,g.mode,_,y.key),m.return=g,g=m):(_=tl(y.type,y.key,y.props,null,g.mode,_),_.ref=fo(g,m,y),_.return=g,g=_)}return x(g);case va:e:{for(T=y.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){r(g,m.sibling),m=p(m,y.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=_c(y,g.mode,_),m.return=g,g=m}return x(g);case li:return T=y._init,l(g,m,T(y._payload),_)}if(mo(y))return u(g,m,y,_);if(oo(y))return d(g,m,y,_);Ls(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(r(g,m.sibling),m=p(m,y),m.return=g,g=m):(r(g,m),m=xc(y,g.mode,_),m.return=g,g=m),x(g)):r(g,m)}return l}var Ba=D0(!0),R0=D0(!1),as={},Dn=Ai(as),Yo=Ai(as),Wo=Ai(as);function Hi(e){if(e===as)throw Error(Fe(174));return e}function Th(e,t){switch(Yt(Wo,t),Yt(Yo,e),Yt(Dn,as),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wc(t,e)}Gt(Dn),Yt(Dn,t)}function za(){Gt(Dn),Gt(Yo),Gt(Wo)}function L0(e){Hi(Wo.current);var t=Hi(Dn.current),r=Wc(t,e.type);t!==r&&(Yt(Yo,e),Yt(Dn,r))}function Eh(e){Yo.current===e&&(Gt(Dn),Gt(Yo))}var Jt=Ai(0);function bl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dc=[];function kh(){for(var e=0;e<dc.length;e++)dc[e]._workInProgressVersionPrimary=null;dc.length=0}var qs=Jn.ReactCurrentDispatcher,pc=Jn.ReactCurrentBatchConfig,Qi=0,er=null,ur=null,mr=null,Tl=!1,Eo=!1,Go=0,Uw=0;function Er(){throw Error(Fe(321))}function Oh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!En(e[r],t[r]))return!1;return!0}function Ph(e,t,r,s,p,v){if(Qi=v,er=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qs.current=e===null||e.memoizedState===null?Ww:Gw,e=r(s,p),Eo){v=0;do{if(Eo=!1,Go=0,25<=v)throw Error(Fe(301));v+=1,mr=ur=null,t.updateQueue=null,qs.current=Xw,e=r(s,p)}while(Eo)}if(qs.current=El,t=ur!==null&&ur.next!==null,Qi=0,mr=ur=er=null,Tl=!1,t)throw Error(Fe(300));return e}function Ah(){var e=Go!==0;return Go=0,e}function Pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?er.memoizedState=mr=e:mr=mr.next=e,mr}function cn(){if(ur===null){var e=er.alternate;e=e!==null?e.memoizedState:null}else e=ur.next;var t=mr===null?er.memoizedState:mr.next;if(t!==null)mr=t,ur=e;else{if(e===null)throw Error(Fe(310));ur=e,e={memoizedState:ur.memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},mr===null?er.memoizedState=mr=e:mr=mr.next=e}return mr}function Xo(e,t){return typeof t=="function"?t(e):t}function gc(e){var t=cn(),r=t.queue;if(r===null)throw Error(Fe(311));r.lastRenderedReducer=e;var s=ur,p=s.baseQueue,v=r.pending;if(v!==null){if(p!==null){var x=p.next;p.next=v.next,v.next=x}s.baseQueue=p=v,r.pending=null}if(p!==null){v=p.next,s=s.baseState;var f=x=null,n=null,c=v;do{var h=c.lane;if((Qi&h)===h)n!==null&&(n=n.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:e(s,c.action);else{var i={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};n===null?(f=n=i,x=s):n=n.next=i,er.lanes|=h,Zi|=h}c=c.next}while(c!==null&&c!==v);n===null?x=s:n.next=f,En(s,t.memoizedState)||(Hr=!0),t.memoizedState=s,t.baseState=x,t.baseQueue=n,r.lastRenderedState=s}if(e=r.interleaved,e!==null){p=e;do v=p.lane,er.lanes|=v,Zi|=v,p=p.next;while(p!==e)}else p===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function vc(e){var t=cn(),r=t.queue;if(r===null)throw Error(Fe(311));r.lastRenderedReducer=e;var s=r.dispatch,p=r.pending,v=t.memoizedState;if(p!==null){r.pending=null;var x=p=p.next;do v=e(v,x.action),x=x.next;while(x!==p);En(v,t.memoizedState)||(Hr=!0),t.memoizedState=v,t.baseQueue===null&&(t.baseState=v),r.lastRenderedState=v}return[v,s]}function F0(){}function I0(e,t){var r=er,s=cn(),p=t(),v=!En(s.memoizedState,p);if(v&&(s.memoizedState=p,Hr=!0),s=s.queue,Mh(B0.bind(null,r,s,e),[e]),s.getSnapshot!==t||v||mr!==null&&mr.memoizedState.tag&1){if(r.flags|=2048,Vo(9,j0.bind(null,r,s,p,t),void 0,null),yr===null)throw Error(Fe(349));Qi&30||N0(r,t,p)}return p}function N0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function j0(e,t,r,s){t.value=r,t.getSnapshot=s,z0(t)&&U0(e)}function B0(e,t,r){return r(function(){z0(t)&&U0(e)})}function z0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!En(e,r)}catch{return!0}}function U0(e){var t=Qn(e,1);t!==null&&bn(t,e,1,-1)}function pg(e){var t=Pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yw.bind(null,er,e),[t.memoizedState,e]}function Vo(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function H0(){return cn().memoizedState}function Qs(e,t,r,s){var p=Pn();er.flags|=e,p.memoizedState=Vo(1|t,r,void 0,s===void 0?null:s)}function Vl(e,t,r,s){var p=cn();s=s===void 0?null:s;var v=void 0;if(ur!==null){var x=ur.memoizedState;if(v=x.destroy,s!==null&&Oh(s,x.deps)){p.memoizedState=Vo(t,r,v,s);return}}er.flags|=e,p.memoizedState=Vo(1|t,r,v,s)}function gg(e,t){return Qs(8390656,8,e,t)}function Mh(e,t){return Vl(2048,8,e,t)}function $0(e,t){return Vl(4,2,e,t)}function Y0(e,t){return Vl(4,4,e,t)}function W0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function G0(e,t,r){return r=r!=null?r.concat([e]):null,Vl(4,4,W0.bind(null,t,e),r)}function Dh(){}function X0(e,t){var r=cn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Oh(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function V0(e,t){var r=cn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Oh(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function K0(e,t,r){return Qi&21?(En(r,t)||(r=Zv(),er.lanes|=r,Zi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Hr=!0),e.memoizedState=r)}function Hw(e,t){var r=Bt;Bt=r!==0&&4>r?r:4,e(!0);var s=pc.transition;pc.transition={};try{e(!1),t()}finally{Bt=r,pc.transition=s}}function q0(){return cn().memoizedState}function $w(e,t,r){var s=Ci(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Q0(e))Z0(t,r);else if(r=O0(e,t,r,s),r!==null){var p=Nr();bn(r,e,s,p),J0(r,t,s)}}function Yw(e,t,r){var s=Ci(e),p={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Q0(e))Z0(t,p);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=t.lastRenderedReducer,v!==null))try{var x=t.lastRenderedState,f=v(x,r);if(p.hasEagerState=!0,p.eagerState=f,En(f,x)){var n=t.interleaved;n===null?(p.next=p,Sh(t)):(p.next=n.next,n.next=p),t.interleaved=p;return}}catch{}finally{}r=O0(e,t,p,s),r!==null&&(p=Nr(),bn(r,e,s,p),J0(r,t,s))}}function Q0(e){var t=e.alternate;return e===er||t!==null&&t===er}function Z0(e,t){Eo=Tl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function J0(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,uh(e,r)}}var El={readContext:un,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},Ww={readContext:un,useCallback:function(e,t){return Pn().memoizedState=[e,t===void 0?null:t],e},useContext:un,useEffect:gg,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Qs(4194308,4,W0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Qs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qs(4,2,e,t)},useMemo:function(e,t){var r=Pn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Pn();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=$w.bind(null,er,e),[s.memoizedState,e]},useRef:function(e){var t=Pn();return e={current:e},t.memoizedState=e},useState:pg,useDebugValue:Dh,useDeferredValue:function(e){return Pn().memoizedState=e},useTransition:function(){var e=pg(!1),t=e[0];return e=Hw.bind(null,e[1]),Pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=er,p=Pn();if(qt){if(r===void 0)throw Error(Fe(407));r=r()}else{if(r=t(),yr===null)throw Error(Fe(349));Qi&30||N0(s,t,r)}p.memoizedState=r;var v={value:r,getSnapshot:t};return p.queue=v,gg(B0.bind(null,s,v,e),[e]),s.flags|=2048,Vo(9,j0.bind(null,s,v,r,t),void 0,null),r},useId:function(){var e=Pn(),t=yr.identifierPrefix;if(qt){var r=Wn,s=Yn;r=(s&~(1<<32-Sn(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Go++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Uw++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gw={readContext:un,useCallback:X0,useContext:un,useEffect:Mh,useImperativeHandle:G0,useInsertionEffect:$0,useLayoutEffect:Y0,useMemo:V0,useReducer:gc,useRef:H0,useState:function(){return gc(Xo)},useDebugValue:Dh,useDeferredValue:function(e){var t=cn();return K0(t,ur.memoizedState,e)},useTransition:function(){var e=gc(Xo)[0],t=cn().memoizedState;return[e,t]},useMutableSource:F0,useSyncExternalStore:I0,useId:q0,unstable_isNewReconciler:!1},Xw={readContext:un,useCallback:X0,useContext:un,useEffect:Mh,useImperativeHandle:G0,useInsertionEffect:$0,useLayoutEffect:Y0,useMemo:V0,useReducer:vc,useRef:H0,useState:function(){return vc(Xo)},useDebugValue:Dh,useDeferredValue:function(e){var t=cn();return ur===null?t.memoizedState=e:K0(t,ur.memoizedState,e)},useTransition:function(){var e=vc(Xo)[0],t=cn().memoizedState;return[e,t]},useMutableSource:F0,useSyncExternalStore:I0,useId:q0,unstable_isNewReconciler:!1};function Ua(e,t){try{var r="",s=t;do r+=w2(s),s=s.return;while(s);var p=r}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:e,source:t,stack:p,digest:null}}function mc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function gf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Vw=typeof WeakMap=="function"?WeakMap:Map;function em(e,t,r){r=Xn(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Ol||(Ol=!0,Tf=s),gf(e,t)},r}function tm(e,t,r){r=Xn(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var p=t.value;r.payload=function(){return s(p)},r.callback=function(){gf(e,t)}}var v=e.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(r.callback=function(){gf(e,t),typeof s!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var x=t.stack;this.componentDidCatch(t.value,{componentStack:x!==null?x:""})}),r}function vg(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Vw;var p=new Set;s.set(t,p)}else p=s.get(t),p===void 0&&(p=new Set,s.set(t,p));p.has(r)||(p.add(r),e=lC.bind(null,e,t,r),t.then(e,e))}function mg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yg(e,t,r,s,p){return e.mode&1?(e.flags|=65536,e.lanes=p,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Xn(-1,1),t.tag=2,_i(r,t,1))),r.lanes|=1),e)}var Kw=Jn.ReactCurrentOwner,Hr=!1;function Lr(e,t,r,s){t.child=e===null?R0(t,null,r,s):Ba(t,e.child,r,s)}function xg(e,t,r,s,p){r=r.render;var v=t.ref;return La(t,p),s=Ph(e,t,r,s,v,p),r=Ah(),e!==null&&!Hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~p,Zn(e,t,p)):(qt&&r&&mh(t),t.flags|=1,Lr(e,t,s,p),t.child)}function _g(e,t,r,s,p){if(e===null){var v=r.type;return typeof v=="function"&&!zh(v)&&v.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=v,rm(e,t,v,s,p)):(e=tl(r.type,null,s,t,t.mode,p),e.ref=t.ref,e.return=t,t.child=e)}if(v=e.child,!(e.lanes&p)){var x=v.memoizedProps;if(r=r.compare,r=r!==null?r:zo,r(x,s)&&e.ref===t.ref)return Zn(e,t,p)}return t.flags|=1,e=Si(v,s),e.ref=t.ref,e.return=t,t.child=e}function rm(e,t,r,s,p){if(e!==null){var v=e.memoizedProps;if(zo(v,s)&&e.ref===t.ref)if(Hr=!1,t.pendingProps=s=v,(e.lanes&p)!==0)e.flags&131072&&(Hr=!0);else return t.lanes=e.lanes,Zn(e,t,p)}return vf(e,t,r,s,p)}function nm(e,t,r){var s=t.pendingProps,p=s.children,v=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(ka,Xr),Xr|=r;else{if(!(r&1073741824))return e=v!==null?v.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Yt(ka,Xr),Xr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=v!==null?v.baseLanes:r,Yt(ka,Xr),Xr|=s}else v!==null?(s=v.baseLanes|r,t.memoizedState=null):s=r,Yt(ka,Xr),Xr|=s;return Lr(e,t,p,r),t.child}function im(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function vf(e,t,r,s,p){var v=Yr(r)?Ki:Ar.current;return v=Na(t,v),La(t,p),r=Ph(e,t,r,s,v,p),s=Ah(),e!==null&&!Hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~p,Zn(e,t,p)):(qt&&s&&mh(t),t.flags|=1,Lr(e,t,r,p),t.child)}function wg(e,t,r,s,p){if(Yr(r)){var v=!0;yl(t)}else v=!1;if(La(t,p),t.stateNode===null)Zs(e,t),M0(t,r,s),pf(t,r,s,p),s=!0;else if(e===null){var x=t.stateNode,f=t.memoizedProps;x.props=f;var n=x.context,c=r.contextType;typeof c=="object"&&c!==null?c=un(c):(c=Yr(r)?Ki:Ar.current,c=Na(t,c));var h=r.getDerivedStateFromProps,i=typeof h=="function"||typeof x.getSnapshotBeforeUpdate=="function";i||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(f!==s||n!==c)&&hg(t,x,s,c),ui=!1;var o=t.memoizedState;x.state=o,Sl(t,s,x,p),n=t.memoizedState,f!==s||o!==n||$r.current||ui?(typeof h=="function"&&(df(t,r,h,s),n=t.memoizedState),(f=ui||fg(t,r,f,s,o,n,c))?(i||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=n),x.props=s,x.state=n,x.context=c,s=f):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{x=t.stateNode,P0(e,t),f=t.memoizedProps,c=t.type===t.elementType?f:yn(t.type,f),x.props=c,i=t.pendingProps,o=x.context,n=r.contextType,typeof n=="object"&&n!==null?n=un(n):(n=Yr(r)?Ki:Ar.current,n=Na(t,n));var a=r.getDerivedStateFromProps;(h=typeof a=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(f!==i||o!==n)&&hg(t,x,s,n),ui=!1,o=t.memoizedState,x.state=o,Sl(t,s,x,p);var u=t.memoizedState;f!==i||o!==u||$r.current||ui?(typeof a=="function"&&(df(t,r,a,s),u=t.memoizedState),(c=ui||fg(t,r,c,s,o,u,n)||!1)?(h||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(s,u,n),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(s,u,n)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||f===e.memoizedProps&&o===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&o===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=u),x.props=s,x.state=u,x.context=n,s=c):(typeof x.componentDidUpdate!="function"||f===e.memoizedProps&&o===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&o===e.memoizedState||(t.flags|=1024),s=!1)}return mf(e,t,r,s,v,p)}function mf(e,t,r,s,p,v){im(e,t);var x=(t.flags&128)!==0;if(!s&&!x)return p&&og(t,r,!1),Zn(e,t,v);s=t.stateNode,Kw.current=t;var f=x&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&x?(t.child=Ba(t,e.child,null,v),t.child=Ba(t,null,f,v)):Lr(e,t,f,v),t.memoizedState=s.state,p&&og(t,r,!0),t.child}function am(e){var t=e.stateNode;t.pendingContext?ag(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ag(e,t.context,!1),Th(e,t.containerInfo)}function Cg(e,t,r,s,p){return ja(),xh(p),t.flags|=256,Lr(e,t,r,s),t.child}var yf={dehydrated:null,treeContext:null,retryLane:0};function xf(e){return{baseLanes:e,cachePool:null,transitions:null}}function om(e,t,r){var s=t.pendingProps,p=Jt.current,v=!1,x=(t.flags&128)!==0,f;if((f=x)||(f=e!==null&&e.memoizedState===null?!1:(p&2)!==0),f?(v=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(p|=1),Yt(Jt,p&1),e===null)return ff(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(x=s.children,e=s.fallback,v?(s=t.mode,v=t.child,x={mode:"hidden",children:x},!(s&1)&&v!==null?(v.childLanes=0,v.pendingProps=x):v=Ql(x,s,0,null),e=Wi(e,s,r,null),v.return=t,e.return=t,v.sibling=e,t.child=v,t.child.memoizedState=xf(r),t.memoizedState=yf,e):Rh(t,x));if(p=e.memoizedState,p!==null&&(f=p.dehydrated,f!==null))return qw(e,t,x,s,f,p,r);if(v){v=s.fallback,x=t.mode,p=e.child,f=p.sibling;var n={mode:"hidden",children:s.children};return!(x&1)&&t.child!==p?(s=t.child,s.childLanes=0,s.pendingProps=n,t.deletions=null):(s=Si(p,n),s.subtreeFlags=p.subtreeFlags&14680064),f!==null?v=Si(f,v):(v=Wi(v,x,r,null),v.flags|=2),v.return=t,s.return=t,s.sibling=v,t.child=s,s=v,v=t.child,x=e.child.memoizedState,x=x===null?xf(r):{baseLanes:x.baseLanes|r,cachePool:null,transitions:x.transitions},v.memoizedState=x,v.childLanes=e.childLanes&~r,t.memoizedState=yf,s}return v=e.child,e=v.sibling,s=Si(v,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Rh(e,t){return t=Ql({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fs(e,t,r,s){return s!==null&&xh(s),Ba(t,e.child,null,r),e=Rh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qw(e,t,r,s,p,v,x){if(r)return t.flags&256?(t.flags&=-257,s=mc(Error(Fe(422))),Fs(e,t,x,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(v=s.fallback,p=t.mode,s=Ql({mode:"visible",children:s.children},p,0,null),v=Wi(v,p,x,null),v.flags|=2,s.return=t,v.return=t,s.sibling=v,t.child=s,t.mode&1&&Ba(t,e.child,null,x),t.child.memoizedState=xf(x),t.memoizedState=yf,v);if(!(t.mode&1))return Fs(e,t,x,null);if(p.data==="$!"){if(s=p.nextSibling&&p.nextSibling.dataset,s)var f=s.dgst;return s=f,v=Error(Fe(419)),s=mc(v,s,void 0),Fs(e,t,x,s)}if(f=(x&e.childLanes)!==0,Hr||f){if(s=yr,s!==null){switch(x&-x){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(s.suspendedLanes|x)?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,Qn(e,p),bn(s,e,p,-1))}return Bh(),s=mc(Error(Fe(421))),Fs(e,t,x,s)}return p.data==="$?"?(t.flags|=128,t.child=e.child,t=uC.bind(null,e),p._reactRetry=t,null):(e=v.treeContext,Vr=xi(p.nextSibling),Kr=t,qt=!0,_n=null,e!==null&&(nn[an++]=Yn,nn[an++]=Wn,nn[an++]=qi,Yn=e.id,Wn=e.overflow,qi=t),t=Rh(t,s.children),t.flags|=4096,t)}function Sg(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),hf(e.return,t,r)}function yc(e,t,r,s,p){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:p}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=s,v.tail=r,v.tailMode=p)}function sm(e,t,r){var s=t.pendingProps,p=s.revealOrder,v=s.tail;if(Lr(e,t,s.children,r),s=Jt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sg(e,r,t);else if(e.tag===19)Sg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Yt(Jt,s),!(t.mode&1))t.memoizedState=null;else switch(p){case"forwards":for(r=t.child,p=null;r!==null;)e=r.alternate,e!==null&&bl(e)===null&&(p=r),r=r.sibling;r=p,r===null?(p=t.child,t.child=null):(p=r.sibling,r.sibling=null),yc(t,!1,p,r,v);break;case"backwards":for(r=null,p=t.child,t.child=null;p!==null;){if(e=p.alternate,e!==null&&bl(e)===null){t.child=p;break}e=p.sibling,p.sibling=r,r=p,p=e}yc(t,!0,r,null,v);break;case"together":yc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Zi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Fe(153));if(t.child!==null){for(e=t.child,r=Si(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Si(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Qw(e,t,r){switch(t.tag){case 3:am(t),ja();break;case 5:L0(t);break;case 1:Yr(t.type)&&yl(t);break;case 4:Th(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,p=t.memoizedProps.value;Yt(wl,s._currentValue),s._currentValue=p;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Yt(Jt,Jt.current&1),t.flags|=128,null):r&t.child.childLanes?om(e,t,r):(Yt(Jt,Jt.current&1),e=Zn(e,t,r),e!==null?e.sibling:null);Yt(Jt,Jt.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return sm(e,t,r);t.flags|=128}if(p=t.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Yt(Jt,Jt.current),s)break;return null;case 22:case 23:return t.lanes=0,nm(e,t,r)}return Zn(e,t,r)}var lm,_f,um,cm;lm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_f=function(){};um=function(e,t,r,s){var p=e.memoizedProps;if(p!==s){e=t.stateNode,Hi(Dn.current);var v=null;switch(r){case"input":p=Uc(e,p),s=Uc(e,s),v=[];break;case"select":p=tr({},p,{value:void 0}),s=tr({},s,{value:void 0}),v=[];break;case"textarea":p=Yc(e,p),s=Yc(e,s),v=[];break;default:typeof p.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=vl)}Gc(r,s);var x;r=null;for(c in p)if(!s.hasOwnProperty(c)&&p.hasOwnProperty(c)&&p[c]!=null)if(c==="style"){var f=p[c];for(x in f)f.hasOwnProperty(x)&&(r||(r={}),r[x]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ro.hasOwnProperty(c)?v||(v=[]):(v=v||[]).push(c,null));for(c in s){var n=s[c];if(f=p!=null?p[c]:void 0,s.hasOwnProperty(c)&&n!==f&&(n!=null||f!=null))if(c==="style")if(f){for(x in f)!f.hasOwnProperty(x)||n&&n.hasOwnProperty(x)||(r||(r={}),r[x]="");for(x in n)n.hasOwnProperty(x)&&f[x]!==n[x]&&(r||(r={}),r[x]=n[x])}else r||(v||(v=[]),v.push(c,r)),r=n;else c==="dangerouslySetInnerHTML"?(n=n?n.__html:void 0,f=f?f.__html:void 0,n!=null&&f!==n&&(v=v||[]).push(c,n)):c==="children"?typeof n!="string"&&typeof n!="number"||(v=v||[]).push(c,""+n):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(c)?(n!=null&&c==="onScroll"&&Wt("scroll",e),v||f===n||(v=[])):(v=v||[]).push(c,n))}r&&(v=v||[]).push("style",r);var c=v;(t.updateQueue=c)&&(t.flags|=4)}};cm=function(e,t,r,s){r!==s&&(t.flags|=4)};function ho(e,t){if(!qt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function kr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var p=e.child;p!==null;)r|=p.lanes|p.childLanes,s|=p.subtreeFlags&14680064,s|=p.flags&14680064,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)r|=p.lanes|p.childLanes,s|=p.subtreeFlags,s|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Zw(e,t,r){var s=t.pendingProps;switch(yh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(t),null;case 1:return Yr(t.type)&&ml(),kr(t),null;case 3:return s=t.stateNode,za(),Gt($r),Gt(Ar),kh(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_n!==null&&(Of(_n),_n=null))),_f(e,t),kr(t),null;case 5:Eh(t);var p=Hi(Wo.current);if(r=t.type,e!==null&&t.stateNode!=null)um(e,t,r,s,p),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Fe(166));return kr(t),null}if(e=Hi(Dn.current),Rs(t)){s=t.stateNode,r=t.type;var v=t.memoizedProps;switch(s[An]=t,s[$o]=v,e=(t.mode&1)!==0,r){case"dialog":Wt("cancel",s),Wt("close",s);break;case"iframe":case"object":case"embed":Wt("load",s);break;case"video":case"audio":for(p=0;p<xo.length;p++)Wt(xo[p],s);break;case"source":Wt("error",s);break;case"img":case"image":case"link":Wt("error",s),Wt("load",s);break;case"details":Wt("toggle",s);break;case"input":Dp(s,v),Wt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!v.multiple},Wt("invalid",s);break;case"textarea":Lp(s,v),Wt("invalid",s)}Gc(r,v),p=null;for(var x in v)if(v.hasOwnProperty(x)){var f=v[x];x==="children"?typeof f=="string"?s.textContent!==f&&(v.suppressHydrationWarning!==!0&&Ds(s.textContent,f,e),p=["children",f]):typeof f=="number"&&s.textContent!==""+f&&(v.suppressHydrationWarning!==!0&&Ds(s.textContent,f,e),p=["children",""+f]):Ro.hasOwnProperty(x)&&f!=null&&x==="onScroll"&&Wt("scroll",s)}switch(r){case"input":bs(s),Rp(s,v,!0);break;case"textarea":bs(s),Fp(s);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(s.onclick=vl)}s=p,t.updateQueue=s,s!==null&&(t.flags|=4)}else{x=p.nodeType===9?p:p.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Nv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=x.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=x.createElement(r,{is:s.is}):(e=x.createElement(r),r==="select"&&(x=e,s.multiple?x.multiple=!0:s.size&&(x.size=s.size))):e=x.createElementNS(e,r),e[An]=t,e[$o]=s,lm(e,t,!1,!1),t.stateNode=e;e:{switch(x=Xc(r,s),r){case"dialog":Wt("cancel",e),Wt("close",e),p=s;break;case"iframe":case"object":case"embed":Wt("load",e),p=s;break;case"video":case"audio":for(p=0;p<xo.length;p++)Wt(xo[p],e);p=s;break;case"source":Wt("error",e),p=s;break;case"img":case"image":case"link":Wt("error",e),Wt("load",e),p=s;break;case"details":Wt("toggle",e),p=s;break;case"input":Dp(e,s),p=Uc(e,s),Wt("invalid",e);break;case"option":p=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},p=tr({},s,{value:void 0}),Wt("invalid",e);break;case"textarea":Lp(e,s),p=Yc(e,s),Wt("invalid",e);break;default:p=s}Gc(r,p),f=p;for(v in f)if(f.hasOwnProperty(v)){var n=f[v];v==="style"?zv(e,n):v==="dangerouslySetInnerHTML"?(n=n?n.__html:void 0,n!=null&&jv(e,n)):v==="children"?typeof n=="string"?(r!=="textarea"||n!=="")&&Lo(e,n):typeof n=="number"&&Lo(e,""+n):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(Ro.hasOwnProperty(v)?n!=null&&v==="onScroll"&&Wt("scroll",e):n!=null&&nh(e,v,n,x))}switch(r){case"input":bs(e),Rp(e,s,!1);break;case"textarea":bs(e),Fp(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ki(s.value));break;case"select":e.multiple=!!s.multiple,v=s.value,v!=null?Aa(e,!!s.multiple,v,!1):s.defaultValue!=null&&Aa(e,!!s.multiple,s.defaultValue,!0);break;default:typeof p.onClick=="function"&&(e.onclick=vl)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kr(t),null;case 6:if(e&&t.stateNode!=null)cm(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Fe(166));if(r=Hi(Wo.current),Hi(Dn.current),Rs(t)){if(s=t.stateNode,r=t.memoizedProps,s[An]=t,(v=s.nodeValue!==r)&&(e=Kr,e!==null))switch(e.tag){case 3:Ds(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ds(s.nodeValue,r,(e.mode&1)!==0)}v&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[An]=t,t.stateNode=s}return kr(t),null;case 13:if(Gt(Jt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qt&&Vr!==null&&t.mode&1&&!(t.flags&128))k0(),ja(),t.flags|=98560,v=!1;else if(v=Rs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!v)throw Error(Fe(318));if(v=t.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(Fe(317));v[An]=t}else ja(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kr(t),v=!1}else _n!==null&&(Of(_n),_n=null),v=!0;if(!v)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Jt.current&1?cr===0&&(cr=3):Bh())),t.updateQueue!==null&&(t.flags|=4),kr(t),null);case 4:return za(),_f(e,t),e===null&&Uo(t.stateNode.containerInfo),kr(t),null;case 10:return Ch(t.type._context),kr(t),null;case 17:return Yr(t.type)&&ml(),kr(t),null;case 19:if(Gt(Jt),v=t.memoizedState,v===null)return kr(t),null;if(s=(t.flags&128)!==0,x=v.rendering,x===null)if(s)ho(v,!1);else{if(cr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(x=bl(e),x!==null){for(t.flags|=128,ho(v,!1),s=x.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)v=r,e=s,v.flags&=14680066,x=v.alternate,x===null?(v.childLanes=0,v.lanes=e,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=x.childLanes,v.lanes=x.lanes,v.child=x.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=x.memoizedProps,v.memoizedState=x.memoizedState,v.updateQueue=x.updateQueue,v.type=x.type,e=x.dependencies,v.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Yt(Jt,Jt.current&1|2),t.child}e=e.sibling}v.tail!==null&&ir()>Ha&&(t.flags|=128,s=!0,ho(v,!1),t.lanes=4194304)}else{if(!s)if(e=bl(x),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ho(v,!0),v.tail===null&&v.tailMode==="hidden"&&!x.alternate&&!qt)return kr(t),null}else 2*ir()-v.renderingStartTime>Ha&&r!==1073741824&&(t.flags|=128,s=!0,ho(v,!1),t.lanes=4194304);v.isBackwards?(x.sibling=t.child,t.child=x):(r=v.last,r!==null?r.sibling=x:t.child=x,v.last=x)}return v.tail!==null?(t=v.tail,v.rendering=t,v.tail=t.sibling,v.renderingStartTime=ir(),t.sibling=null,r=Jt.current,Yt(Jt,s?r&1|2:r&1),t):(kr(t),null);case 22:case 23:return jh(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Xr&1073741824&&(kr(t),t.subtreeFlags&6&&(t.flags|=8192)):kr(t),null;case 24:return null;case 25:return null}throw Error(Fe(156,t.tag))}function Jw(e,t){switch(yh(t),t.tag){case 1:return Yr(t.type)&&ml(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return za(),Gt($r),Gt(Ar),kh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Eh(t),null;case 13:if(Gt(Jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Fe(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gt(Jt),null;case 4:return za(),null;case 10:return Ch(t.type._context),null;case 22:case 23:return jh(),null;case 24:return null;default:return null}}var Is=!1,Pr=!1,eC=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function Ea(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){rr(e,t,s)}else r.current=null}function wf(e,t,r){try{r()}catch(s){rr(e,t,s)}}var bg=!1;function tC(e,t){if(nf=dl,e=p0(),vh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var p=s.anchorOffset,v=s.focusNode;s=s.focusOffset;try{r.nodeType,v.nodeType}catch{r=null;break e}var x=0,f=-1,n=-1,c=0,h=0,i=e,o=null;t:for(;;){for(var a;i!==r||p!==0&&i.nodeType!==3||(f=x+p),i!==v||s!==0&&i.nodeType!==3||(n=x+s),i.nodeType===3&&(x+=i.nodeValue.length),(a=i.firstChild)!==null;)o=i,i=a;for(;;){if(i===e)break t;if(o===r&&++c===p&&(f=x),o===v&&++h===s&&(n=x),(a=i.nextSibling)!==null)break;i=o,o=i.parentNode}i=a}r=f===-1||n===-1?null:{start:f,end:n}}else r=null}r=r||{start:0,end:0}}else r=null;for(af={focusedElem:e,selectionRange:r},dl=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){t=Ke;try{var u=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(u!==null){var d=u.memoizedProps,l=u.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?d:yn(t.type,d),l);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Fe(163))}}catch(_){rr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}return u=bg,bg=!1,u}function ko(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var p=s=s.next;do{if((p.tag&e)===e){var v=p.destroy;p.destroy=void 0,v!==void 0&&wf(t,r,v)}p=p.next}while(p!==s)}}function Kl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Cf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function fm(e){var t=e.alternate;t!==null&&(e.alternate=null,fm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[An],delete t[$o],delete t[lf],delete t[Nw],delete t[jw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hm(e){return e.tag===5||e.tag===3||e.tag===4}function Tg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sf(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=vl));else if(s!==4&&(e=e.child,e!==null))for(Sf(e,t,r),e=e.sibling;e!==null;)Sf(e,t,r),e=e.sibling}function bf(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(bf(e,t,r),e=e.sibling;e!==null;)bf(e,t,r),e=e.sibling}var Cr=null,xn=!1;function si(e,t,r){for(r=r.child;r!==null;)dm(e,t,r),r=r.sibling}function dm(e,t,r){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Ul,r)}catch{}switch(r.tag){case 5:Pr||Ea(r,t);case 6:var s=Cr,p=xn;Cr=null,si(e,t,r),Cr=s,xn=p,Cr!==null&&(xn?(e=Cr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Cr.removeChild(r.stateNode));break;case 18:Cr!==null&&(xn?(e=Cr,r=r.stateNode,e.nodeType===8?fc(e.parentNode,r):e.nodeType===1&&fc(e,r),jo(e)):fc(Cr,r.stateNode));break;case 4:s=Cr,p=xn,Cr=r.stateNode.containerInfo,xn=!0,si(e,t,r),Cr=s,xn=p;break;case 0:case 11:case 14:case 15:if(!Pr&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){p=s=s.next;do{var v=p,x=v.destroy;v=v.tag,x!==void 0&&(v&2||v&4)&&wf(r,t,x),p=p.next}while(p!==s)}si(e,t,r);break;case 1:if(!Pr&&(Ea(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(f){rr(r,t,f)}si(e,t,r);break;case 21:si(e,t,r);break;case 22:r.mode&1?(Pr=(s=Pr)||r.memoizedState!==null,si(e,t,r),Pr=s):si(e,t,r);break;default:si(e,t,r)}}function Eg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new eC),t.forEach(function(s){var p=cC.bind(null,e,s);r.has(s)||(r.add(s),s.then(p,p))})}}function mn(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var p=r[s];try{var v=e,x=t,f=x;e:for(;f!==null;){switch(f.tag){case 5:Cr=f.stateNode,xn=!1;break e;case 3:Cr=f.stateNode.containerInfo,xn=!0;break e;case 4:Cr=f.stateNode.containerInfo,xn=!0;break e}f=f.return}if(Cr===null)throw Error(Fe(160));dm(v,x,p),Cr=null,xn=!1;var n=p.alternate;n!==null&&(n.return=null),p.return=null}catch(c){rr(p,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pm(t,e),t=t.sibling}function pm(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mn(t,e),On(e),s&4){try{ko(3,e,e.return),Kl(3,e)}catch(d){rr(e,e.return,d)}try{ko(5,e,e.return)}catch(d){rr(e,e.return,d)}}break;case 1:mn(t,e),On(e),s&512&&r!==null&&Ea(r,r.return);break;case 5:if(mn(t,e),On(e),s&512&&r!==null&&Ea(r,r.return),e.flags&32){var p=e.stateNode;try{Lo(p,"")}catch(d){rr(e,e.return,d)}}if(s&4&&(p=e.stateNode,p!=null)){var v=e.memoizedProps,x=r!==null?r.memoizedProps:v,f=e.type,n=e.updateQueue;if(e.updateQueue=null,n!==null)try{f==="input"&&v.type==="radio"&&v.name!=null&&Fv(p,v),Xc(f,x);var c=Xc(f,v);for(x=0;x<n.length;x+=2){var h=n[x],i=n[x+1];h==="style"?zv(p,i):h==="dangerouslySetInnerHTML"?jv(p,i):h==="children"?Lo(p,i):nh(p,h,i,c)}switch(f){case"input":Hc(p,v);break;case"textarea":Iv(p,v);break;case"select":var o=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var a=v.value;a!=null?Aa(p,!!v.multiple,a,!1):o!==!!v.multiple&&(v.defaultValue!=null?Aa(p,!!v.multiple,v.defaultValue,!0):Aa(p,!!v.multiple,v.multiple?[]:"",!1))}p[$o]=v}catch(d){rr(e,e.return,d)}}break;case 6:if(mn(t,e),On(e),s&4){if(e.stateNode===null)throw Error(Fe(162));p=e.stateNode,v=e.memoizedProps;try{p.nodeValue=v}catch(d){rr(e,e.return,d)}}break;case 3:if(mn(t,e),On(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{jo(t.containerInfo)}catch(d){rr(e,e.return,d)}break;case 4:mn(t,e),On(e);break;case 13:mn(t,e),On(e),p=e.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(Ih=ir())),s&4&&Eg(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Pr=(c=Pr)||h,mn(t,e),Pr=c):mn(t,e),On(e),s&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(Ke=e,h=e.child;h!==null;){for(i=Ke=h;Ke!==null;){switch(o=Ke,a=o.child,o.tag){case 0:case 11:case 14:case 15:ko(4,o,o.return);break;case 1:Ea(o,o.return);var u=o.stateNode;if(typeof u.componentWillUnmount=="function"){s=o,r=o.return;try{t=s,u.props=t.memoizedProps,u.state=t.memoizedState,u.componentWillUnmount()}catch(d){rr(s,r,d)}}break;case 5:Ea(o,o.return);break;case 22:if(o.memoizedState!==null){Og(i);continue}}a!==null?(a.return=o,Ke=a):Og(i)}h=h.sibling}e:for(h=null,i=e;;){if(i.tag===5){if(h===null){h=i;try{p=i.stateNode,c?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(f=i.stateNode,n=i.memoizedProps.style,x=n!=null&&n.hasOwnProperty("display")?n.display:null,f.style.display=Bv("display",x))}catch(d){rr(e,e.return,d)}}}else if(i.tag===6){if(h===null)try{i.stateNode.nodeValue=c?"":i.memoizedProps}catch(d){rr(e,e.return,d)}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;h===i&&(h=null),i=i.return}h===i&&(h=null),i.sibling.return=i.return,i=i.sibling}}break;case 19:mn(t,e),On(e),s&4&&Eg(e);break;case 21:break;default:mn(t,e),On(e)}}function On(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(hm(r)){var s=r;break e}r=r.return}throw Error(Fe(160))}switch(s.tag){case 5:var p=s.stateNode;s.flags&32&&(Lo(p,""),s.flags&=-33);var v=Tg(e);bf(e,v,p);break;case 3:case 4:var x=s.stateNode.containerInfo,f=Tg(e);Sf(e,f,x);break;default:throw Error(Fe(161))}}catch(n){rr(e,e.return,n)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rC(e,t,r){Ke=e,gm(e)}function gm(e,t,r){for(var s=(e.mode&1)!==0;Ke!==null;){var p=Ke,v=p.child;if(p.tag===22&&s){var x=p.memoizedState!==null||Is;if(!x){var f=p.alternate,n=f!==null&&f.memoizedState!==null||Pr;f=Is;var c=Pr;if(Is=x,(Pr=n)&&!c)for(Ke=p;Ke!==null;)x=Ke,n=x.child,x.tag===22&&x.memoizedState!==null?Pg(p):n!==null?(n.return=x,Ke=n):Pg(p);for(;v!==null;)Ke=v,gm(v),v=v.sibling;Ke=p,Is=f,Pr=c}kg(e)}else p.subtreeFlags&8772&&v!==null?(v.return=p,Ke=v):kg(e)}}function kg(e){for(;Ke!==null;){var t=Ke;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pr||Kl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Pr)if(r===null)s.componentDidMount();else{var p=t.elementType===t.type?r.memoizedProps:yn(t.type,r.memoizedProps);s.componentDidUpdate(p,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var v=t.updateQueue;v!==null&&cg(t,v,s);break;case 3:var x=t.updateQueue;if(x!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}cg(t,x,r)}break;case 5:var f=t.stateNode;if(r===null&&t.flags&4){r=f;var n=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break;case"img":n.src&&(r.src=n.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var i=h.dehydrated;i!==null&&jo(i)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Fe(163))}Pr||t.flags&512&&Cf(t)}catch(o){rr(t,t.return,o)}}if(t===e){Ke=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ke=r;break}Ke=t.return}}function Og(e){for(;Ke!==null;){var t=Ke;if(t===e){Ke=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ke=r;break}Ke=t.return}}function Pg(e){for(;Ke!==null;){var t=Ke;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Kl(4,t)}catch(n){rr(t,r,n)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var p=t.return;try{s.componentDidMount()}catch(n){rr(t,p,n)}}var v=t.return;try{Cf(t)}catch(n){rr(t,v,n)}break;case 5:var x=t.return;try{Cf(t)}catch(n){rr(t,x,n)}}}catch(n){rr(t,t.return,n)}if(t===e){Ke=null;break}var f=t.sibling;if(f!==null){f.return=t.return,Ke=f;break}Ke=t.return}}var nC=Math.ceil,kl=Jn.ReactCurrentDispatcher,Lh=Jn.ReactCurrentOwner,ln=Jn.ReactCurrentBatchConfig,Mt=0,yr=null,lr=null,Sr=0,Xr=0,ka=Ai(0),cr=0,Ko=null,Zi=0,ql=0,Fh=0,Oo=null,Ur=null,Ih=0,Ha=1/0,Un=null,Ol=!1,Tf=null,wi=null,Ns=!1,pi=null,Pl=0,Po=0,Ef=null,Js=-1,el=0;function Nr(){return Mt&6?ir():Js!==-1?Js:Js=ir()}function Ci(e){return e.mode&1?Mt&2&&Sr!==0?Sr&-Sr:zw.transition!==null?(el===0&&(el=Zv()),el):(e=Bt,e!==0||(e=window.event,e=e===void 0?16:a0(e.type)),e):1}function bn(e,t,r,s){if(50<Po)throw Po=0,Ef=null,Error(Fe(185));rs(e,r,s),(!(Mt&2)||e!==yr)&&(e===yr&&(!(Mt&2)&&(ql|=r),cr===4&&hi(e,Sr)),Wr(e,s),r===1&&Mt===0&&!(t.mode&1)&&(Ha=ir()+500,Gl&&Mi()))}function Wr(e,t){var r=e.callbackNode;z2(e,t);var s=hl(e,e===yr?Sr:0);if(s===0)r!==null&&jp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&jp(r),t===1)e.tag===0?Bw(Ag.bind(null,e)):b0(Ag.bind(null,e)),Fw(function(){!(Mt&6)&&Mi()}),r=null;else{switch(Jv(s)){case 1:r=lh;break;case 4:r=qv;break;case 16:r=fl;break;case 536870912:r=Qv;break;default:r=fl}r=Sm(r,vm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function vm(e,t){if(Js=-1,el=0,Mt&6)throw Error(Fe(327));var r=e.callbackNode;if(Fa()&&e.callbackNode!==r)return null;var s=hl(e,e===yr?Sr:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Al(e,s);else{t=s;var p=Mt;Mt|=2;var v=ym();(yr!==e||Sr!==t)&&(Un=null,Ha=ir()+500,Yi(e,t));do try{oC();break}catch(f){mm(e,f)}while(1);wh(),kl.current=v,Mt=p,lr!==null?t=0:(yr=null,Sr=0,t=cr)}if(t!==0){if(t===2&&(p=Zc(e),p!==0&&(s=p,t=kf(e,p))),t===1)throw r=Ko,Yi(e,0),hi(e,s),Wr(e,ir()),r;if(t===6)hi(e,s);else{if(p=e.current.alternate,!(s&30)&&!iC(p)&&(t=Al(e,s),t===2&&(v=Zc(e),v!==0&&(s=v,t=kf(e,v))),t===1))throw r=Ko,Yi(e,0),hi(e,s),Wr(e,ir()),r;switch(e.finishedWork=p,e.finishedLanes=s,t){case 0:case 1:throw Error(Fe(345));case 2:ji(e,Ur,Un);break;case 3:if(hi(e,s),(s&130023424)===s&&(t=Ih+500-ir(),10<t)){if(hl(e,0)!==0)break;if(p=e.suspendedLanes,(p&s)!==s){Nr(),e.pingedLanes|=e.suspendedLanes&p;break}e.timeoutHandle=sf(ji.bind(null,e,Ur,Un),t);break}ji(e,Ur,Un);break;case 4:if(hi(e,s),(s&4194240)===s)break;for(t=e.eventTimes,p=-1;0<s;){var x=31-Sn(s);v=1<<x,x=t[x],x>p&&(p=x),s&=~v}if(s=p,s=ir()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*nC(s/1960))-s,10<s){e.timeoutHandle=sf(ji.bind(null,e,Ur,Un),s);break}ji(e,Ur,Un);break;case 5:ji(e,Ur,Un);break;default:throw Error(Fe(329))}}}return Wr(e,ir()),e.callbackNode===r?vm.bind(null,e):null}function kf(e,t){var r=Oo;return e.current.memoizedState.isDehydrated&&(Yi(e,t).flags|=256),e=Al(e,t),e!==2&&(t=Ur,Ur=r,t!==null&&Of(t)),e}function Of(e){Ur===null?Ur=e:Ur.push.apply(Ur,e)}function iC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var p=r[s],v=p.getSnapshot;p=p.value;try{if(!En(v(),p))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hi(e,t){for(t&=~Fh,t&=~ql,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Sn(t),s=1<<r;e[r]=-1,t&=~s}}function Ag(e){if(Mt&6)throw Error(Fe(327));Fa();var t=hl(e,0);if(!(t&1))return Wr(e,ir()),null;var r=Al(e,t);if(e.tag!==0&&r===2){var s=Zc(e);s!==0&&(t=s,r=kf(e,s))}if(r===1)throw r=Ko,Yi(e,0),hi(e,t),Wr(e,ir()),r;if(r===6)throw Error(Fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ji(e,Ur,Un),Wr(e,ir()),null}function Nh(e,t){var r=Mt;Mt|=1;try{return e(t)}finally{Mt=r,Mt===0&&(Ha=ir()+500,Gl&&Mi())}}function Ji(e){pi!==null&&pi.tag===0&&!(Mt&6)&&Fa();var t=Mt;Mt|=1;var r=ln.transition,s=Bt;try{if(ln.transition=null,Bt=1,e)return e()}finally{Bt=s,ln.transition=r,Mt=t,!(Mt&6)&&Mi()}}function jh(){Xr=ka.current,Gt(ka)}function Yi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Lw(r)),lr!==null)for(r=lr.return;r!==null;){var s=r;switch(yh(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ml();break;case 3:za(),Gt($r),Gt(Ar),kh();break;case 5:Eh(s);break;case 4:za();break;case 13:Gt(Jt);break;case 19:Gt(Jt);break;case 10:Ch(s.type._context);break;case 22:case 23:jh()}r=r.return}if(yr=e,lr=e=Si(e.current,null),Sr=Xr=t,cr=0,Ko=null,Fh=ql=Zi=0,Ur=Oo=null,Ui!==null){for(t=0;t<Ui.length;t++)if(r=Ui[t],s=r.interleaved,s!==null){r.interleaved=null;var p=s.next,v=r.pending;if(v!==null){var x=v.next;v.next=p,s.next=x}r.pending=s}Ui=null}return e}function mm(e,t){do{var r=lr;try{if(wh(),qs.current=El,Tl){for(var s=er.memoizedState;s!==null;){var p=s.queue;p!==null&&(p.pending=null),s=s.next}Tl=!1}if(Qi=0,mr=ur=er=null,Eo=!1,Go=0,Lh.current=null,r===null||r.return===null){cr=1,Ko=t,lr=null;break}e:{var v=e,x=r.return,f=r,n=t;if(t=Sr,f.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){var c=n,h=f,i=h.tag;if(!(h.mode&1)&&(i===0||i===11||i===15)){var o=h.alternate;o?(h.updateQueue=o.updateQueue,h.memoizedState=o.memoizedState,h.lanes=o.lanes):(h.updateQueue=null,h.memoizedState=null)}var a=mg(x);if(a!==null){a.flags&=-257,yg(a,x,f,v,t),a.mode&1&&vg(v,c,t),t=a,n=c;var u=t.updateQueue;if(u===null){var d=new Set;d.add(n),t.updateQueue=d}else u.add(n);break e}else{if(!(t&1)){vg(v,c,t),Bh();break e}n=Error(Fe(426))}}else if(qt&&f.mode&1){var l=mg(x);if(l!==null){!(l.flags&65536)&&(l.flags|=256),yg(l,x,f,v,t),xh(Ua(n,f));break e}}v=n=Ua(n,f),cr!==4&&(cr=2),Oo===null?Oo=[v]:Oo.push(v),v=x;do{switch(v.tag){case 3:v.flags|=65536,t&=-t,v.lanes|=t;var g=em(v,n,t);ug(v,g);break e;case 1:f=n;var m=v.type,y=v.stateNode;if(!(v.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(wi===null||!wi.has(y)))){v.flags|=65536,t&=-t,v.lanes|=t;var _=tm(v,f,t);ug(v,_);break e}}v=v.return}while(v!==null)}_m(r)}catch(S){t=S,lr===r&&r!==null&&(lr=r=r.return);continue}break}while(1)}function ym(){var e=kl.current;return kl.current=El,e===null?El:e}function Bh(){(cr===0||cr===3||cr===2)&&(cr=4),yr===null||!(Zi&268435455)&&!(ql&268435455)||hi(yr,Sr)}function Al(e,t){var r=Mt;Mt|=2;var s=ym();(yr!==e||Sr!==t)&&(Un=null,Yi(e,t));do try{aC();break}catch(p){mm(e,p)}while(1);if(wh(),Mt=r,kl.current=s,lr!==null)throw Error(Fe(261));return yr=null,Sr=0,cr}function aC(){for(;lr!==null;)xm(lr)}function oC(){for(;lr!==null&&!M2();)xm(lr)}function xm(e){var t=Cm(e.alternate,e,Xr);e.memoizedProps=e.pendingProps,t===null?_m(e):lr=t,Lh.current=null}function _m(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Jw(r,t),r!==null){r.flags&=32767,lr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{cr=6,lr=null;return}}else if(r=Zw(r,t,Xr),r!==null){lr=r;return}if(t=t.sibling,t!==null){lr=t;return}lr=t=e}while(t!==null);cr===0&&(cr=5)}function ji(e,t,r){var s=Bt,p=ln.transition;try{ln.transition=null,Bt=1,sC(e,t,r,s)}finally{ln.transition=p,Bt=s}return null}function sC(e,t,r,s){do Fa();while(pi!==null);if(Mt&6)throw Error(Fe(327));r=e.finishedWork;var p=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Fe(177));e.callbackNode=null,e.callbackPriority=0;var v=r.lanes|r.childLanes;if(U2(e,v),e===yr&&(lr=yr=null,Sr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ns||(Ns=!0,Sm(fl,function(){return Fa(),null})),v=(r.flags&15990)!==0,r.subtreeFlags&15990||v){v=ln.transition,ln.transition=null;var x=Bt;Bt=1;var f=Mt;Mt|=4,Lh.current=null,tC(e,r),pm(r,e),kw(af),dl=!!nf,af=nf=null,e.current=r,rC(r),D2(),Mt=f,Bt=x,ln.transition=v}else e.current=r;if(Ns&&(Ns=!1,pi=e,Pl=p),v=e.pendingLanes,v===0&&(wi=null),F2(r.stateNode),Wr(e,ir()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)p=t[r],s(p.value,{componentStack:p.stack,digest:p.digest});if(Ol)throw Ol=!1,e=Tf,Tf=null,e;return Pl&1&&e.tag!==0&&Fa(),v=e.pendingLanes,v&1?e===Ef?Po++:(Po=0,Ef=e):Po=0,Mi(),null}function Fa(){if(pi!==null){var e=Jv(Pl),t=ln.transition,r=Bt;try{if(ln.transition=null,Bt=16>e?16:e,pi===null)var s=!1;else{if(e=pi,pi=null,Pl=0,Mt&6)throw Error(Fe(331));var p=Mt;for(Mt|=4,Ke=e.current;Ke!==null;){var v=Ke,x=v.child;if(Ke.flags&16){var f=v.deletions;if(f!==null){for(var n=0;n<f.length;n++){var c=f[n];for(Ke=c;Ke!==null;){var h=Ke;switch(h.tag){case 0:case 11:case 15:ko(8,h,v)}var i=h.child;if(i!==null)i.return=h,Ke=i;else for(;Ke!==null;){h=Ke;var o=h.sibling,a=h.return;if(fm(h),h===c){Ke=null;break}if(o!==null){o.return=a,Ke=o;break}Ke=a}}}var u=v.alternate;if(u!==null){var d=u.child;if(d!==null){u.child=null;do{var l=d.sibling;d.sibling=null,d=l}while(d!==null)}}Ke=v}}if(v.subtreeFlags&2064&&x!==null)x.return=v,Ke=x;else e:for(;Ke!==null;){if(v=Ke,v.flags&2048)switch(v.tag){case 0:case 11:case 15:ko(9,v,v.return)}var g=v.sibling;if(g!==null){g.return=v.return,Ke=g;break e}Ke=v.return}}var m=e.current;for(Ke=m;Ke!==null;){x=Ke;var y=x.child;if(x.subtreeFlags&2064&&y!==null)y.return=x,Ke=y;else e:for(x=m;Ke!==null;){if(f=Ke,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:Kl(9,f)}}catch(S){rr(f,f.return,S)}if(f===x){Ke=null;break e}var _=f.sibling;if(_!==null){_.return=f.return,Ke=_;break e}Ke=f.return}}if(Mt=p,Mi(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Ul,e)}catch{}s=!0}return s}finally{Bt=r,ln.transition=t}}return!1}function Mg(e,t,r){t=Ua(r,t),t=em(e,t,1),e=_i(e,t,1),t=Nr(),e!==null&&(rs(e,1,t),Wr(e,t))}function rr(e,t,r){if(e.tag===3)Mg(e,e,r);else for(;t!==null;){if(t.tag===3){Mg(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(wi===null||!wi.has(s))){e=Ua(r,e),e=tm(t,e,1),t=_i(t,e,1),e=Nr(),t!==null&&(rs(t,1,e),Wr(t,e));break}}t=t.return}}function lC(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Nr(),e.pingedLanes|=e.suspendedLanes&r,yr===e&&(Sr&r)===r&&(cr===4||cr===3&&(Sr&130023424)===Sr&&500>ir()-Ih?Yi(e,0):Fh|=r),Wr(e,t)}function wm(e,t){t===0&&(e.mode&1?(t=ks,ks<<=1,!(ks&130023424)&&(ks=4194304)):t=1);var r=Nr();e=Qn(e,t),e!==null&&(rs(e,t,r),Wr(e,r))}function uC(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),wm(e,r)}function cC(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,p=e.memoizedState;p!==null&&(r=p.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Fe(314))}s!==null&&s.delete(t),wm(e,r)}var Cm;Cm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$r.current)Hr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Hr=!1,Qw(e,t,r);Hr=!!(e.flags&131072)}else Hr=!1,qt&&t.flags&1048576&&T0(t,_l,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Zs(e,t),e=t.pendingProps;var p=Na(t,Ar.current);La(t,r),p=Ph(null,t,s,e,p,r);var v=Ah();return t.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yr(s)?(v=!0,yl(t)):v=!1,t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,bh(t),p.updater=Xl,t.stateNode=p,p._reactInternals=t,pf(t,s,e,r),t=mf(null,t,s,!0,v,r)):(t.tag=0,qt&&v&&mh(t),Lr(null,t,p,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Zs(e,t),e=t.pendingProps,p=s._init,s=p(s._payload),t.type=s,p=t.tag=hC(s),e=yn(s,e),p){case 0:t=vf(null,t,s,e,r);break e;case 1:t=wg(null,t,s,e,r);break e;case 11:t=xg(null,t,s,e,r);break e;case 14:t=_g(null,t,s,yn(s.type,e),r);break e}throw Error(Fe(306,s,""))}return t;case 0:return s=t.type,p=t.pendingProps,p=t.elementType===s?p:yn(s,p),vf(e,t,s,p,r);case 1:return s=t.type,p=t.pendingProps,p=t.elementType===s?p:yn(s,p),wg(e,t,s,p,r);case 3:e:{if(am(t),e===null)throw Error(Fe(387));s=t.pendingProps,v=t.memoizedState,p=v.element,P0(e,t),Sl(t,s,null,r);var x=t.memoizedState;if(s=x.element,v.isDehydrated)if(v={element:s,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},t.updateQueue.baseState=v,t.memoizedState=v,t.flags&256){p=Ua(Error(Fe(423)),t),t=Cg(e,t,s,r,p);break e}else if(s!==p){p=Ua(Error(Fe(424)),t),t=Cg(e,t,s,r,p);break e}else for(Vr=xi(t.stateNode.containerInfo.firstChild),Kr=t,qt=!0,_n=null,r=R0(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ja(),s===p){t=Zn(e,t,r);break e}Lr(e,t,s,r)}t=t.child}return t;case 5:return L0(t),e===null&&ff(t),s=t.type,p=t.pendingProps,v=e!==null?e.memoizedProps:null,x=p.children,of(s,p)?x=null:v!==null&&of(s,v)&&(t.flags|=32),im(e,t),Lr(e,t,x,r),t.child;case 6:return e===null&&ff(t),null;case 13:return om(e,t,r);case 4:return Th(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ba(t,null,s,r):Lr(e,t,s,r),t.child;case 11:return s=t.type,p=t.pendingProps,p=t.elementType===s?p:yn(s,p),xg(e,t,s,p,r);case 7:return Lr(e,t,t.pendingProps,r),t.child;case 8:return Lr(e,t,t.pendingProps.children,r),t.child;case 12:return Lr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,p=t.pendingProps,v=t.memoizedProps,x=p.value,Yt(wl,s._currentValue),s._currentValue=x,v!==null)if(En(v.value,x)){if(v.children===p.children&&!$r.current){t=Zn(e,t,r);break e}}else for(v=t.child,v!==null&&(v.return=t);v!==null;){var f=v.dependencies;if(f!==null){x=v.child;for(var n=f.firstContext;n!==null;){if(n.context===s){if(v.tag===1){n=Xn(-1,r&-r),n.tag=2;var c=v.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?n.next=n:(n.next=h.next,h.next=n),c.pending=n}}v.lanes|=r,n=v.alternate,n!==null&&(n.lanes|=r),hf(v.return,r,t),f.lanes|=r;break}n=n.next}}else if(v.tag===10)x=v.type===t.type?null:v.child;else if(v.tag===18){if(x=v.return,x===null)throw Error(Fe(341));x.lanes|=r,f=x.alternate,f!==null&&(f.lanes|=r),hf(x,r,t),x=v.sibling}else x=v.child;if(x!==null)x.return=v;else for(x=v;x!==null;){if(x===t){x=null;break}if(v=x.sibling,v!==null){v.return=x.return,x=v;break}x=x.return}v=x}Lr(e,t,p.children,r),t=t.child}return t;case 9:return p=t.type,s=t.pendingProps.children,La(t,r),p=un(p),s=s(p),t.flags|=1,Lr(e,t,s,r),t.child;case 14:return s=t.type,p=yn(s,t.pendingProps),p=yn(s.type,p),_g(e,t,s,p,r);case 15:return rm(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,p=t.pendingProps,p=t.elementType===s?p:yn(s,p),Zs(e,t),t.tag=1,Yr(s)?(e=!0,yl(t)):e=!1,La(t,r),M0(t,s,p),pf(t,s,p,r),mf(null,t,s,!0,e,r);case 19:return sm(e,t,r);case 22:return nm(e,t,r)}throw Error(Fe(156,t.tag))};function Sm(e,t){return Kv(e,t)}function fC(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,r,s){return new fC(e,t,r,s)}function zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hC(e){if(typeof e=="function")return zh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ah)return 11;if(e===oh)return 14}return 2}function Si(e,t){var r=e.alternate;return r===null?(r=on(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function tl(e,t,r,s,p,v){var x=2;if(s=e,typeof e=="function")zh(e)&&(x=1);else if(typeof e=="string")x=5;else e:switch(e){case ma:return Wi(r.children,p,v,t);case ih:x=8,p|=8;break;case Nc:return e=on(12,r,t,p|2),e.elementType=Nc,e.lanes=v,e;case jc:return e=on(13,r,t,p),e.elementType=jc,e.lanes=v,e;case Bc:return e=on(19,r,t,p),e.elementType=Bc,e.lanes=v,e;case Dv:return Ql(r,p,v,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Av:x=10;break e;case Mv:x=9;break e;case ah:x=11;break e;case oh:x=14;break e;case li:x=16,s=null;break e}throw Error(Fe(130,e==null?e:typeof e,""))}return t=on(x,r,t,p),t.elementType=e,t.type=s,t.lanes=v,t}function Wi(e,t,r,s){return e=on(7,e,s,t),e.lanes=r,e}function Ql(e,t,r,s){return e=on(22,e,s,t),e.elementType=Dv,e.lanes=r,e.stateNode={isHidden:!1},e}function xc(e,t,r){return e=on(6,e,null,t),e.lanes=r,e}function _c(e,t,r){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dC(e,t,r,s,p){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ec(0),this.expirationTimes=ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.identifierPrefix=s,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Uh(e,t,r,s,p,v,x,f,n){return e=new dC(e,t,r,f,n),t===1?(t=1,v===!0&&(t|=8)):t=0,v=on(3,null,null,t),e.current=v,v.stateNode=e,v.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},bh(v),e}function pC(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:va,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function bm(e){if(!e)return Oi;e=e._reactInternals;e:{if(ta(e)!==e||e.tag!==1)throw Error(Fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Fe(171))}if(e.tag===1){var r=e.type;if(Yr(r))return S0(e,r,t)}return t}function Tm(e,t,r,s,p,v,x,f,n){return e=Uh(r,s,!0,e,p,v,x,f,n),e.context=bm(null),r=e.current,s=Nr(),p=Ci(r),v=Xn(s,p),v.callback=t??null,_i(r,v,p),e.current.lanes=p,rs(e,p,s),Wr(e,s),e}function Zl(e,t,r,s){var p=t.current,v=Nr(),x=Ci(p);return r=bm(r),t.context===null?t.context=r:t.pendingContext=r,t=Xn(v,x),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=_i(p,t,x),e!==null&&(bn(e,p,x,v),Ks(e,p,x)),x}function Ml(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hh(e,t){Dg(e,t),(e=e.alternate)&&Dg(e,t)}function gC(){return null}var Em=typeof reportError=="function"?reportError:function(e){console.error(e)};function $h(e){this._internalRoot=e}Jl.prototype.render=$h.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Fe(409));Zl(e,t,null,null)};Jl.prototype.unmount=$h.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ji(function(){Zl(null,e,null,null)}),t[qn]=null}};function Jl(e){this._internalRoot=e}Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=r0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fi.length&&t!==0&&t<fi[r].priority;r++);fi.splice(r,0,e),r===0&&i0(e)}};function Yh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function eu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rg(){}function vC(e,t,r,s,p){if(p){if(typeof s=="function"){var v=s;s=function(){var c=Ml(x);v.call(c)}}var x=Tm(t,s,e,0,null,!1,!1,"",Rg);return e._reactRootContainer=x,e[qn]=x.current,Uo(e.nodeType===8?e.parentNode:e),Ji(),x}for(;p=e.lastChild;)e.removeChild(p);if(typeof s=="function"){var f=s;s=function(){var c=Ml(n);f.call(c)}}var n=Uh(e,0,!1,null,null,!1,!1,"",Rg);return e._reactRootContainer=n,e[qn]=n.current,Uo(e.nodeType===8?e.parentNode:e),Ji(function(){Zl(t,n,r,s)}),n}function tu(e,t,r,s,p){var v=r._reactRootContainer;if(v){var x=v;if(typeof p=="function"){var f=p;p=function(){var n=Ml(x);f.call(n)}}Zl(t,x,e,p)}else x=vC(r,t,e,p,s);return Ml(x)}e0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=yo(t.pendingLanes);r!==0&&(uh(t,r|1),Wr(t,ir()),!(Mt&6)&&(Ha=ir()+500,Mi()))}break;case 13:Ji(function(){var s=Qn(e,1);if(s!==null){var p=Nr();bn(s,e,1,p)}}),Hh(e,1)}};ch=function(e){if(e.tag===13){var t=Qn(e,134217728);if(t!==null){var r=Nr();bn(t,e,134217728,r)}Hh(e,134217728)}};t0=function(e){if(e.tag===13){var t=Ci(e),r=Qn(e,t);if(r!==null){var s=Nr();bn(r,e,t,s)}Hh(e,t)}};r0=function(){return Bt};n0=function(e,t){var r=Bt;try{return Bt=e,t()}finally{Bt=r}};Kc=function(e,t,r){switch(t){case"input":if(Hc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var p=Wl(s);if(!p)throw Error(Fe(90));Lv(s),Hc(s,p)}}}break;case"textarea":Iv(e,r);break;case"select":t=r.value,t!=null&&Aa(e,!!r.multiple,t,!1)}};$v=Nh;Yv=Ji;var mC={usingClientEntryPoint:!1,Events:[is,wa,Wl,Uv,Hv,Nh]},po={findFiberByHostInstance:zi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},yC={bundleType:po.bundleType,version:po.version,rendererPackageName:po.rendererPackageName,rendererConfig:po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xv(e),e===null?null:e.stateNode},findFiberByHostInstance:po.findFiberByHostInstance||gC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!js.isDisabled&&js.supportsFiber)try{Ul=js.inject(yC),Mn=js}catch{}}Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mC;Jr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yh(t))throw Error(Fe(200));return pC(e,t,null,r)};Jr.createRoot=function(e,t){if(!Yh(e))throw Error(Fe(299));var r=!1,s="",p=Em;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Uh(e,1,!1,null,null,r,!1,s,p),e[qn]=t.current,Uo(e.nodeType===8?e.parentNode:e),new $h(t)};Jr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Fe(188)):(e=Object.keys(e).join(","),Error(Fe(268,e)));return e=Xv(t),e=e===null?null:e.stateNode,e};Jr.flushSync=function(e){return Ji(e)};Jr.hydrate=function(e,t,r){if(!eu(t))throw Error(Fe(200));return tu(null,e,t,!0,r)};Jr.hydrateRoot=function(e,t,r){if(!Yh(e))throw Error(Fe(405));var s=r!=null&&r.hydratedSources||null,p=!1,v="",x=Em;if(r!=null&&(r.unstable_strictMode===!0&&(p=!0),r.identifierPrefix!==void 0&&(v=r.identifierPrefix),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),t=Tm(t,null,e,1,r??null,p,!1,v,x),e[qn]=t.current,Uo(e),s)for(e=0;e<s.length;e++)r=s[e],p=r._getVersion,p=p(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,p]:t.mutableSourceEagerHydrationData.push(r,p);return new Jl(t)};Jr.render=function(e,t,r){if(!eu(t))throw Error(Fe(200));return tu(null,e,t,!1,r)};Jr.unmountComponentAtNode=function(e){if(!eu(e))throw Error(Fe(40));return e._reactRootContainer?(Ji(function(){tu(null,null,e,!1,function(){e._reactRootContainer=null,e[qn]=null})}),!0):!1};Jr.unstable_batchedUpdates=Nh;Jr.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!eu(r))throw Error(Fe(200));if(e==null||e._reactInternals===void 0)throw Error(Fe(38));return tu(e,t,r,!1,s)};Jr.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}t(),e.exports=Jr})(g2);const Oa=qf(sl);var Lg=sl;Lc.createRoot=Lg.createRoot,Lc.hydrateRoot=Lg.hydrateRoot;/**
 * @remix-run/router v1.3.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},qo.apply(this,arguments)}var gi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gi||(gi={}));const Fg="popstate";function xC(e){e===void 0&&(e={});function t(p,v){let{pathname:x="/",search:f="",hash:n=""}=ra(p.location.hash.substr(1));return Pf("",{pathname:x,search:f,hash:n},v.state&&v.state.usr||null,v.state&&v.state.key||"default")}function r(p,v){let x=p.document.querySelector("base"),f="";if(x&&x.getAttribute("href")){let n=p.location.href,c=n.indexOf("#");f=c===-1?n:n.slice(0,c)}return f+"#"+(typeof v=="string"?v:Qo(v))}function s(p,v){_C(p.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(v)+")")}return CC(t,r,s,e)}function fr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _C(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wC(){return Math.random().toString(36).substr(2,8)}function Ig(e,t){return{usr:e.state,key:e.key,idx:t}}function Pf(e,t,r,s){return r===void 0&&(r=null),qo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ra(t):t,{state:r,key:t&&t.key||s||wC()})}function Qo(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function ra(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function CC(e,t,r,s){s===void 0&&(s={});let{window:p=document.defaultView,v5Compat:v=!1}=s,x=p.history,f=gi.Pop,n=null,c=h();c==null&&(c=0,x.replaceState(qo({},x.state,{idx:c}),""));function h(){return(x.state||{idx:null}).idx}function i(){f=gi.Pop;let l=h(),g=l==null?null:l-c;c=l,n&&n({action:f,location:d.location,delta:g})}function o(l,g){f=gi.Push;let m=Pf(d.location,l,g);r&&r(m,l),c=h()+1;let y=Ig(m,c),_=d.createHref(m);try{x.pushState(y,"",_)}catch{p.location.assign(_)}v&&n&&n({action:f,location:d.location,delta:1})}function a(l,g){f=gi.Replace;let m=Pf(d.location,l,g);r&&r(m,l),c=h();let y=Ig(m,c),_=d.createHref(m);x.replaceState(y,"",_),v&&n&&n({action:f,location:d.location,delta:0})}function u(l){let g=p.location.origin!=="null"?p.location.origin:p.location.href,m=typeof l=="string"?l:Qo(l);return fr(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let d={get action(){return f},get location(){return e(p,x)},listen(l){if(n)throw new Error("A history only accepts one active listener");return p.addEventListener(Fg,i),n=l,()=>{p.removeEventListener(Fg,i),n=null}},createHref(l){return t(p,l)},createURL:u,encodeLocation(l){let g=u(l);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:o,replace:a,go(l){return x.go(l)}};return d}var Ng;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ng||(Ng={}));function SC(e,t,r){r===void 0&&(r="/");let s=typeof t=="string"?ra(t):t,p=Pm(s.pathname||"/",r);if(p==null)return null;let v=km(e);bC(v);let x=null;for(let f=0;x==null&&f<v.length;++f)x=RC(v[f],IC(p));return x}function km(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let p=(v,x,f)=>{let n={relativePath:f===void 0?v.path||"":f,caseSensitive:v.caseSensitive===!0,childrenIndex:x,route:v};n.relativePath.startsWith("/")&&(fr(n.relativePath.startsWith(s),'Absolute route path "'+n.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),n.relativePath=n.relativePath.slice(s.length));let c=bi([s,n.relativePath]),h=r.concat(n);v.children&&v.children.length>0&&(fr(v.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),km(v.children,t,h,c)),!(v.path==null&&!v.index)&&t.push({path:c,score:MC(c,v.index),routesMeta:h})};return e.forEach((v,x)=>{var f;if(v.path===""||!((f=v.path)!=null&&f.includes("?")))p(v,x);else for(let n of Om(v.path))p(v,x,n)}),t}function Om(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,p=r.endsWith("?"),v=r.replace(/\?$/,"");if(s.length===0)return p?[v,""]:[v];let x=Om(s.join("/")),f=[];return f.push(...x.map(n=>n===""?v:[v,n].join("/"))),p&&f.push(...x),f.map(n=>e.startsWith("/")&&n===""?"/":n)}function bC(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:DC(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const TC=/^:\w+$/,EC=3,kC=2,OC=1,PC=10,AC=-2,jg=e=>e==="*";function MC(e,t){let r=e.split("/"),s=r.length;return r.some(jg)&&(s+=AC),t&&(s+=kC),r.filter(p=>!jg(p)).reduce((p,v)=>p+(TC.test(v)?EC:v===""?OC:PC),s)}function DC(e,t){return e.length===t.length&&e.slice(0,-1).every((s,p)=>s===t[p])?e[e.length-1]-t[t.length-1]:0}function RC(e,t){let{routesMeta:r}=e,s={},p="/",v=[];for(let x=0;x<r.length;++x){let f=r[x],n=x===r.length-1,c=p==="/"?t:t.slice(p.length)||"/",h=LC({path:f.relativePath,caseSensitive:f.caseSensitive,end:n},c);if(!h)return null;Object.assign(s,h.params);let i=f.route;v.push({params:s,pathname:bi([p,h.pathname]),pathnameBase:zC(bi([p,h.pathnameBase])),route:i}),h.pathnameBase!=="/"&&(p=bi([p,h.pathnameBase]))}return v}function LC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=FC(e.path,e.caseSensitive,e.end),p=t.match(r);if(!p)return null;let v=p[0],x=v.replace(/(.)\/+$/,"$1"),f=p.slice(1);return{params:s.reduce((c,h,i)=>{if(h==="*"){let o=f[i]||"";x=v.slice(0,v.length-o.length).replace(/(.)\/+$/,"$1")}return c[h]=NC(f[i]||"",h),c},{}),pathname:v,pathnameBase:x,pattern:e}}function FC(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Wh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],p="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(x,f)=>(s.push(f),"/([^\\/]+)"));return e.endsWith("*")?(s.push("*"),p+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?p+="\\/*$":e!==""&&e!=="/"&&(p+="(?:(?=\\/|$))"),[new RegExp(p,t?void 0:"i"),s]}function IC(e){try{return decodeURI(e)}catch(t){return Wh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function NC(e,t){try{return decodeURIComponent(e)}catch(r){return Wh(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function Pm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function Wh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jC(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:p=""}=typeof e=="string"?ra(e):e;return{pathname:r?r.startsWith("/")?r:BC(r,t):t,search:UC(s),hash:HC(p)}}function BC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(p=>{p===".."?r.length>1&&r.pop():p!=="."&&r.push(p)}),r.length>1?r.join("/"):"/"}function wc(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Am(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Mm(e,t,r,s){s===void 0&&(s=!1);let p;typeof e=="string"?p=ra(e):(p=qo({},e),fr(!p.pathname||!p.pathname.includes("?"),wc("?","pathname","search",p)),fr(!p.pathname||!p.pathname.includes("#"),wc("#","pathname","hash",p)),fr(!p.search||!p.search.includes("#"),wc("#","search","hash",p)));let v=e===""||p.pathname==="",x=v?"/":p.pathname,f;if(s||x==null)f=r;else{let i=t.length-1;if(x.startsWith("..")){let o=x.split("/");for(;o[0]==="..";)o.shift(),i-=1;p.pathname=o.join("/")}f=i>=0?t[i]:"/"}let n=jC(p,f),c=x&&x!=="/"&&x.endsWith("/"),h=(v||x===".")&&r.endsWith("/");return!n.pathname.endsWith("/")&&(c||h)&&(n.pathname+="/"),n}const bi=e=>e.join("/").replace(/\/\/+/g,"/"),zC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),UC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,HC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $C(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const YC=["post","put","patch","delete"];[...YC];/**
 * React Router v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Af.apply(this,arguments)}function WC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const GC=typeof Object.is=="function"?Object.is:WC,{useState:XC,useEffect:VC,useLayoutEffect:KC,useDebugValue:qC}=Rc;function QC(e,t,r){const s=t(),[{inst:p},v]=XC({inst:{value:s,getSnapshot:t}});return KC(()=>{p.value=s,p.getSnapshot=t,Cc(p)&&v({inst:p})},[e,s,t]),VC(()=>(Cc(p)&&v({inst:p}),e(()=>{Cc(p)&&v({inst:p})})),[e]),qC(s),s}function Cc(e){const t=e.getSnapshot,r=e.value;try{const s=t();return!GC(r,s)}catch{return!0}}function ZC(e,t,r){return t()}const JC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eS=!JC,tS=eS?ZC:QC;"useSyncExternalStore"in Rc&&(e=>e.useSyncExternalStore)(Rc);const Dm=$.createContext(null),Rm=$.createContext(null),ru=$.createContext(null),nu=$.createContext(null),qa=$.createContext({outlet:null,matches:[]}),Lm=$.createContext(null);function rS(e,t){let{relative:r}=t===void 0?{}:t;os()||fr(!1);let{basename:s,navigator:p}=$.useContext(ru),{hash:v,pathname:x,search:f}=Fm(e,{relative:r}),n=x;return s!=="/"&&(n=x==="/"?s:bi([s,x])),p.createHref({pathname:n,search:f,hash:v})}function os(){return $.useContext(nu)!=null}function iu(){return os()||fr(!1),$.useContext(nu).location}function nS(){os()||fr(!1);let{basename:e,navigator:t}=$.useContext(ru),{matches:r}=$.useContext(qa),{pathname:s}=iu(),p=JSON.stringify(Am(r).map(f=>f.pathnameBase)),v=$.useRef(!1);return $.useEffect(()=>{v.current=!0}),$.useCallback(function(f,n){if(n===void 0&&(n={}),!v.current)return;if(typeof f=="number"){t.go(f);return}let c=Mm(f,JSON.parse(p),s,n.relative==="path");e!=="/"&&(c.pathname=c.pathname==="/"?e:bi([e,c.pathname])),(n.replace?t.replace:t.push)(c,n.state,n)},[e,t,p,s])}function Fm(e,t){let{relative:r}=t===void 0?{}:t,{matches:s}=$.useContext(qa),{pathname:p}=iu(),v=JSON.stringify(Am(s).map(x=>x.pathnameBase));return $.useMemo(()=>Mm(e,JSON.parse(v),p,r==="path"),[e,v,p,r])}function iS(e,t){os()||fr(!1);let{navigator:r}=$.useContext(ru),s=$.useContext(Rm),{matches:p}=$.useContext(qa),v=p[p.length-1],x=v?v.params:{};v&&v.pathname;let f=v?v.pathnameBase:"/";v&&v.route;let n=iu(),c;if(t){var h;let d=typeof t=="string"?ra(t):t;f==="/"||(h=d.pathname)!=null&&h.startsWith(f)||fr(!1),c=d}else c=n;let i=c.pathname||"/",o=f==="/"?i:i.slice(f.length)||"/",a=SC(e,{pathname:o}),u=lS(a&&a.map(d=>Object.assign({},d,{params:Object.assign({},x,d.params),pathname:bi([f,r.encodeLocation?r.encodeLocation(d.pathname).pathname:d.pathname]),pathnameBase:d.pathnameBase==="/"?f:bi([f,r.encodeLocation?r.encodeLocation(d.pathnameBase).pathname:d.pathnameBase])})),p,s||void 0);return t&&u?$.createElement(nu.Provider,{value:{location:Af({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:gi.Pop}},u):u}function aS(){let e=hS(),t=$C(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,p={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},v=null;return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),r?$.createElement("pre",{style:p},r):null,v)}class oS extends $.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location?{error:t.error,location:t.location}:{error:t.error||r.error,location:r.location}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?$.createElement(qa.Provider,{value:this.props.routeContext},$.createElement(Lm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sS(e){let{routeContext:t,match:r,children:s}=e,p=$.useContext(Dm);return p&&p.static&&p.staticContext&&r.route.errorElement&&(p.staticContext._deepestRenderedBoundaryId=r.route.id),$.createElement(qa.Provider,{value:t},s)}function lS(e,t,r){if(t===void 0&&(t=[]),e==null)if(r!=null&&r.errors)e=r.matches;else return null;let s=e,p=r==null?void 0:r.errors;if(p!=null){let v=s.findIndex(x=>x.route.id&&(p==null?void 0:p[x.route.id]));v>=0||fr(!1),s=s.slice(0,Math.min(s.length,v+1))}return s.reduceRight((v,x,f)=>{let n=x.route.id?p==null?void 0:p[x.route.id]:null,c=r?x.route.errorElement||$.createElement(aS,null):null,h=t.concat(s.slice(0,f+1)),i=()=>$.createElement(sS,{match:x,routeContext:{outlet:v,matches:h}},n?c:x.route.element!==void 0?x.route.element:v);return r&&(x.route.errorElement||f===0)?$.createElement(oS,{location:r.location,component:c,error:n,children:i(),routeContext:{outlet:null,matches:h}}):i()},null)}var Bg;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(Bg||(Bg={}));var Dl;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Dl||(Dl={}));function uS(e){let t=$.useContext(Rm);return t||fr(!1),t}function cS(e){let t=$.useContext(qa);return t||fr(!1),t}function fS(e){let t=cS(),r=t.matches[t.matches.length-1];return r.route.id||fr(!1),r.route.id}function hS(){var e;let t=$.useContext(Lm),r=uS(Dl.UseRouteError),s=fS(Dl.UseRouteError);return t||((e=r.errors)==null?void 0:e[s])}function rl(e){fr(!1)}function dS(e){let{basename:t="/",children:r=null,location:s,navigationType:p=gi.Pop,navigator:v,static:x=!1}=e;os()&&fr(!1);let f=t.replace(/^\/*/,"/"),n=$.useMemo(()=>({basename:f,navigator:v,static:x}),[f,v,x]);typeof s=="string"&&(s=ra(s));let{pathname:c="/",search:h="",hash:i="",state:o=null,key:a="default"}=s,u=$.useMemo(()=>{let d=Pm(c,f);return d==null?null:{pathname:d,search:h,hash:i,state:o,key:a}},[f,c,h,i,o,a]);return u==null?null:$.createElement(ru.Provider,{value:n},$.createElement(nu.Provider,{children:r,value:{location:u,navigationType:p}}))}function pS(e){let{children:t,location:r}=e,s=$.useContext(Dm),p=s&&!t?s.router.routes:Mf(t);return iS(p,r)}var zg;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(zg||(zg={}));new Promise(()=>{});function Mf(e,t){t===void 0&&(t=[]);let r=[];return $.Children.forEach(e,(s,p)=>{if(!$.isValidElement(s))return;if(s.type===$.Fragment){r.push.apply(r,Mf(s.props.children,t));return}s.type!==rl&&fr(!1),!s.props.index||!s.props.children||fr(!1);let v=[...t,p],x={id:s.props.id||v.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,hasErrorBoundary:s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle};s.props.children&&(x.children=Mf(s.props.children,v)),r.push(x)}),r}/**
 * React Router DOM v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Df.apply(this,arguments)}function gS(e,t){if(e==null)return{};var r={},s=Object.keys(e),p,v;for(v=0;v<s.length;v++)p=s[v],!(t.indexOf(p)>=0)&&(r[p]=e[p]);return r}function vS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mS(e,t){return e.button===0&&(!t||t==="_self")&&!vS(e)}const yS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function xS(e){let{basename:t,children:r,window:s}=e,p=$.useRef();p.current==null&&(p.current=xC({window:s,v5Compat:!0}));let v=p.current,[x,f]=$.useState({action:v.action,location:v.location});return $.useLayoutEffect(()=>v.listen(f),[v]),$.createElement(dS,{basename:t,children:r,location:x.location,navigationType:x.action,navigator:v})}const _S=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nl=$.forwardRef(function(t,r){let{onClick:s,relative:p,reloadDocument:v,replace:x,state:f,target:n,to:c,preventScrollReset:h}=t,i=gS(t,yS),o=typeof c=="string"?c:Qo(c),a=/^[a-z+]+:\/\//i.test(o)||o.startsWith("//"),u=o,d=!1;if(_S&&a){let y=new URL(window.location.href),_=o.startsWith("//")?new URL(y.protocol+o):new URL(o);_.origin===y.origin?u=_.pathname+_.search+_.hash:d=!0}let l=rS(u,{relative:p}),g=wS(u,{replace:x,state:f,target:n,preventScrollReset:h,relative:p});function m(y){s&&s(y),y.defaultPrevented||g(y)}return $.createElement("a",Df({},i,{href:a?o:l,onClick:d||v?s:m,ref:r,target:n}))});var Ug;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ug||(Ug={}));var Hg;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Hg||(Hg={}));function wS(e,t){let{target:r,replace:s,state:p,preventScrollReset:v,relative:x}=t===void 0?{}:t,f=nS(),n=iu(),c=Fm(e,{relative:x});return $.useCallback(h=>{if(mS(h,r)){h.preventDefault();let i=s!==void 0?s:Qo(n)===Qo(c);f(e,{replace:i,state:p,preventScrollReset:v,relative:x})}},[n,f,c,s,p,r,e,v,x])}const Im="/pawgenics/assets/approve-1d56891e.png",Nm="/pawgenics/assets/map-b32c89c2.png",jm="/pawgenics/assets/propose-041eeb2b.png",Bm="/pawgenics/assets/puppy-9d042a90.png",CS="/pawgenics/assets/approval-c413d029.svg",SS="/pawgenics/assets/ear1-fea28943.svg",bS="/pawgenics/assets/ear2-5bdf339e.svg",TS="/pawgenics/assets/eye1-7866f731.svg",ES="/pawgenics/assets/head1-13082cca.svg",kS="/pawgenics/assets/key-44cd0f90.svg",OS="/pawgenics/assets/mouth1-a95a405b.svg",PS="/pawgenics/assets/muzzle1-30332e7a.svg",AS="/pawgenics/assets/nose1-7fb82503.svg",MS="/pawgenics/assets/proposal-fd9fae81.svg";var Tn={};const DS={},RS=Object.freeze(Object.defineProperty({__proto__:null,default:DS},Symbol.toStringTag,{value:"Module"})),il=W_(RS);(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.3.0"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var r=il,s=new r.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=s.document,t.jsdomImplForWrapper=il.implForWrapper,t.nodeCanvas=il.Canvas,t.window=s,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function f(a,u){if(this.__eventListeners[a]){var d=this.__eventListeners[a];u?d[d.indexOf(u)]=!1:t.util.array.fill(d,!1)}}function n(a,u){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var d in a)this.on(d,a[d]);else this.__eventListeners[a]||(this.__eventListeners[a]=[]),this.__eventListeners[a].push(u);return this}function c(a,u){var d=function(){u.apply(this,arguments),this.off(a,d)}.bind(this);this.on(a,d)}function h(a,u){if(arguments.length===1)for(var d in a)c.call(this,d,a[d]);else c.call(this,a,u);return this}function i(a,u){if(!this.__eventListeners)return this;if(arguments.length===0)for(a in this.__eventListeners)f.call(this,a);else if(arguments.length===1&&typeof arguments[0]=="object")for(var d in a)f.call(this,d,a[d]);else f.call(this,a,u);return this}function o(a,u){if(!this.__eventListeners)return this;var d=this.__eventListeners[a];if(!d)return this;for(var l=0,g=d.length;l<g;l++)d[l]&&d[l].call(this,u||{});return this.__eventListeners[a]=d.filter(function(m){return m!==!1}),this}t.Observable={fire:o,on:n,once:h,off:i}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var f=0,n=arguments.length;f<n;f++)this._onObjectAdded(arguments[f]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(f,n,c){var h=this._objects;return c?h[n]=f:h.splice(n,0,f),this._onObjectAdded&&this._onObjectAdded(f),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var f=this._objects,n,c=!1,h=0,i=arguments.length;h<i;h++)n=f.indexOf(arguments[h]),n!==-1&&(c=!0,f.splice(n,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[h]));return this.renderOnAddRemove&&c&&this.requestRenderAll(),this},forEachObject:function(f,n){for(var c=this.getObjects(),h=0,i=c.length;h<i;h++)f.call(n,c[h],h,c);return this},getObjects:function(f){return typeof f>"u"?this._objects.concat():this._objects.filter(function(n){return n.type===f})},item:function(f){return this._objects[f]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(f,n){return this._objects.indexOf(f)>-1?!0:n?this._objects.some(function(c){return typeof c.contains=="function"&&c.contains(f,!0)}):!1},complexity:function(){return this._objects.reduce(function(f,n){return f+=n.complexity?n.complexity():0,f},0)}},t.CommonMethods={_setOptions:function(f){for(var n in f)this.set(n,f[n])},_initGradient:function(f,n){f&&f.colorStops&&!(f instanceof t.Gradient)&&this.set(n,new t.Gradient(f))},_initPattern:function(f,n,c){f&&f.source&&!(f instanceof t.Pattern)?this.set(n,new t.Pattern(f,c)):c&&c()},_setObject:function(f){for(var n in f)this._set(n,f[n])},set:function(f,n){return typeof f=="object"?this._setObject(f):this._set(f,n),this},_set:function(f,n){this[f]=n},toggle:function(f){var n=this.get(f);return typeof n=="boolean"&&this.set(f,!n),this},get:function(f){return this[f]}},function(f){var n=Math.sqrt,c=Math.atan2,h=Math.pow,i=Math.PI/180,o=Math.PI/2;t.util={cos:function(a){if(a===0)return 1;a<0&&(a=-a);var u=a/o;switch(u){case 1:case 3:return 0;case 2:return-1}return Math.cos(a)},sin:function(a){if(a===0)return 0;var u=a/o,d=1;switch(a<0&&(d=-1),u){case 1:return d;case 2:return 0;case 3:return-d}return Math.sin(a)},removeFromArray:function(a,u){var d=a.indexOf(u);return d!==-1&&a.splice(d,1),a},getRandomInt:function(a,u){return Math.floor(Math.random()*(u-a+1))+a},degreesToRadians:function(a){return a*i},radiansToDegrees:function(a){return a/i},rotatePoint:function(a,u,d){var l=new t.Point(a.x-u.x,a.y-u.y),g=t.util.rotateVector(l,d);return new t.Point(g.x,g.y).addEquals(u)},rotateVector:function(a,u){var d=t.util.sin(u),l=t.util.cos(u),g=a.x*l-a.y*d,m=a.x*d+a.y*l;return{x:g,y:m}},createVector:function(a,u){return new t.Point(u.x-a.x,u.y-a.y)},calcAngleBetweenVectors:function(a,u){return Math.acos((a.x*u.x+a.y*u.y)/(Math.hypot(a.x,a.y)*Math.hypot(u.x,u.y)))},getHatVector:function(a){return new t.Point(a.x,a.y).multiply(1/Math.hypot(a.x,a.y))},getBisector:function(a,u,d){var l=t.util.createVector(a,u),g=t.util.createVector(a,d),m=t.util.calcAngleBetweenVectors(l,g),y=t.util.calcAngleBetweenVectors(t.util.rotateVector(l,m),g),_=m*(y===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(l,_)),angle:m}},projectStrokeOnPoints:function(a,u,d){var l=[],g=u.strokeWidth/2,m=u.strokeUniform?new t.Point(1/u.scaleX,1/u.scaleY):new t.Point(1,1),y=function(_){var S=g/Math.hypot(_.x,_.y);return new t.Point(_.x*S*m.x,_.y*S*m.y)};return a.length<=1||a.forEach(function(_,S){var T=new t.Point(_.x,_.y),A,N;S===0?(N=a[S+1],A=d?y(t.util.createVector(N,T)).addEquals(T):a[a.length-1]):S===a.length-1?(A=a[S-1],N=d?y(t.util.createVector(A,T)).addEquals(T):a[0]):(A=a[S-1],N=a[S+1]);var Q=t.util.getBisector(T,A,N),re=Q.vector,ve=Q.angle,we,Te;if(u.strokeLineJoin==="miter"&&(we=-g/Math.sin(ve/2),Te=new t.Point(re.x*we*m.x,re.y*we*m.y),Math.hypot(Te.x,Te.y)/g<=u.strokeMiterLimit)){l.push(T.add(Te)),l.push(T.subtract(Te));return}we=-g*Math.SQRT2,Te=new t.Point(re.x*we*m.x,re.y*we*m.y),l.push(T.add(Te)),l.push(T.subtract(Te))}),l},transformPoint:function(a,u,d){return d?new t.Point(u[0]*a.x+u[2]*a.y,u[1]*a.x+u[3]*a.y):new t.Point(u[0]*a.x+u[2]*a.y+u[4],u[1]*a.x+u[3]*a.y+u[5])},makeBoundingBoxFromPoints:function(a,u){if(u)for(var d=0;d<a.length;d++)a[d]=t.util.transformPoint(a[d],u);var l=[a[0].x,a[1].x,a[2].x,a[3].x],g=t.util.array.min(l),m=t.util.array.max(l),y=m-g,_=[a[0].y,a[1].y,a[2].y,a[3].y],S=t.util.array.min(_),T=t.util.array.max(_),A=T-S;return{left:g,top:S,width:y,height:A}},invertTransform:function(a){var u=1/(a[0]*a[3]-a[1]*a[2]),d=[u*a[3],-u*a[1],-u*a[2],u*a[0]],l=t.util.transformPoint({x:a[4],y:a[5]},d,!0);return d[4]=-l.x,d[5]=-l.y,d},toFixed:function(a,u){return parseFloat(Number(a).toFixed(u))},parseUnit:function(a,u){var d=/\D{0,2}$/.exec(a),l=parseFloat(a);switch(u||(u=t.Text.DEFAULT_SVG_FONT_SIZE),d[0]){case"mm":return l*t.DPI/25.4;case"cm":return l*t.DPI/2.54;case"in":return l*t.DPI;case"pt":return l*t.DPI/72;case"pc":return l*t.DPI/72*12;case"em":return l*u;default:return l}},falseFunction:function(){return!1},getKlass:function(a,u){return a=t.util.string.camelize(a.charAt(0).toUpperCase()+a.slice(1)),t.util.resolveNamespace(u)[a]},getSvgAttributes:function(a){var u=["instantiated_by_use","style","id","class"];switch(a){case"linearGradient":u=u.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":u=u.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":u=u.concat(["offset","stop-color","stop-opacity"]);break}return u},resolveNamespace:function(a){if(!a)return t;var u=a.split("."),d=u.length,l,g=f||t.window;for(l=0;l<d;++l)g=g[u[l]];return g},loadImage:function(a,u,d,l){if(!a){u&&u.call(d,a);return}var g=t.util.createImage(),m=function(){u&&u.call(d,g,!1),g=g.onload=g.onerror=null};g.onload=m,g.onerror=function(){t.log("Error loading "+g.src),u&&u.call(d,null,!0),g=g.onload=g.onerror=null},a.indexOf("data")!==0&&l!==void 0&&l!==null&&(g.crossOrigin=l),a.substring(0,14)==="data:image/svg"&&(g.onload=null,t.util.loadImageInDom(g,m)),g.src=a},loadImageInDom:function(a,u){var d=t.document.createElement("div");d.style.width=d.style.height="1px",d.style.left=d.style.top="-100%",d.style.position="absolute",d.appendChild(a),t.document.querySelector("body").appendChild(d),a.onload=function(){u(),d.parentNode.removeChild(d),d=null}},enlivenObjects:function(a,u,d,l){a=a||[];var g=[],m=0,y=a.length;function _(){++m===y&&u&&u(g.filter(function(S){return S}))}if(!y){u&&u(g);return}a.forEach(function(S,T){if(!S||!S.type){_();return}var A=t.util.getKlass(S.type,d);A.fromObject(S,function(N,Q){Q||(g[T]=N),l&&l(S,N,Q),_()})})},enlivenObjectEnlivables:function(a,u,d){var l=t.Object.ENLIVEN_PROPS.filter(function(g){return!!a[g]});t.util.enlivenObjects(l.map(function(g){return a[g]}),function(g){var m={};l.forEach(function(y,_){m[y]=g[_],u&&(u[y]=g[_])}),d&&d(m)})},enlivenPatterns:function(a,u){a=a||[];function d(){++g===m&&u&&u(l)}var l=[],g=0,m=a.length;if(!m){u&&u(l);return}a.forEach(function(y,_){y&&y.source?new t.Pattern(y,function(S){l[_]=S,d()}):(l[_]=y,d())})},groupSVGElements:function(a,u,d){var l;return a&&a.length===1?(typeof d<"u"&&(a[0].sourcePath=d),a[0]):(u&&(u.width&&u.height?u.centerPoint={x:u.width/2,y:u.height/2}:(delete u.width,delete u.height)),l=new t.Group(a,u),typeof d<"u"&&(l.sourcePath=d),l)},populateWithProperties:function(a,u,d){if(d&&Array.isArray(d))for(var l=0,g=d.length;l<g;l++)d[l]in a&&(u[d[l]]=a[d[l]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(a){var u=t.util.createCanvasElement();return u.width=a.width,u.height=a.height,u.getContext("2d").drawImage(a,0,0),u},toDataURL:function(a,u,d){return a.toDataURL("image/"+u,d)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(a,u,d){return[a[0]*u[0]+a[2]*u[1],a[1]*u[0]+a[3]*u[1],a[0]*u[2]+a[2]*u[3],a[1]*u[2]+a[3]*u[3],d?0:a[0]*u[4]+a[2]*u[5]+a[4],d?0:a[1]*u[4]+a[3]*u[5]+a[5]]},qrDecompose:function(a){var u=c(a[1],a[0]),d=h(a[0],2)+h(a[1],2),l=n(d),g=(a[0]*a[3]-a[2]*a[1])/l,m=c(a[0]*a[2]+a[1]*a[3],d);return{angle:u/i,scaleX:l,scaleY:g,skewX:m/i,skewY:0,translateX:a[4],translateY:a[5]}},calcRotateMatrix:function(a){if(!a.angle)return t.iMatrix.concat();var u=t.util.degreesToRadians(a.angle),d=t.util.cos(u),l=t.util.sin(u);return[d,l,-l,d,0,0]},calcDimensionsMatrix:function(a){var u=typeof a.scaleX>"u"?1:a.scaleX,d=typeof a.scaleY>"u"?1:a.scaleY,l=[a.flipX?-u:u,0,0,a.flipY?-d:d,0,0],g=t.util.multiplyTransformMatrices,m=t.util.degreesToRadians;return a.skewX&&(l=g(l,[1,0,Math.tan(m(a.skewX)),1],!0)),a.skewY&&(l=g(l,[1,Math.tan(m(a.skewY)),0,1],!0)),l},composeMatrix:function(a){var u=[1,0,0,1,a.translateX||0,a.translateY||0],d=t.util.multiplyTransformMatrices;return a.angle&&(u=d(u,t.util.calcRotateMatrix(a))),(a.scaleX!==1||a.scaleY!==1||a.skewX||a.skewY||a.flipX||a.flipY)&&(u=d(u,t.util.calcDimensionsMatrix(a))),u},resetObjectTransform:function(a){a.scaleX=1,a.scaleY=1,a.skewX=0,a.skewY=0,a.flipX=!1,a.flipY=!1,a.rotate(0)},saveObjectTransform:function(a){return{scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,angle:a.angle,left:a.left,flipX:a.flipX,flipY:a.flipY,top:a.top}},isTransparent:function(a,u,d,l){l>0&&(u>l?u-=l:u=0,d>l?d-=l:d=0);var g=!0,m,y,_=a.getImageData(u,d,l*2||1,l*2||1),S=_.data.length;for(m=3;m<S&&(y=_.data[m],g=y<=0,g!==!1);m+=4);return _=null,g},parsePreserveAspectRatioAttribute:function(a){var u="meet",d="Mid",l="Mid",g=a.split(" "),m;return g&&g.length&&(u=g.pop(),u!=="meet"&&u!=="slice"?(m=u,u="meet"):g.length&&(m=g.pop())),d=m!=="none"?m.slice(1,4):"none",l=m!=="none"?m.slice(5,8):"none",{meetOrSlice:u,alignX:d,alignY:l}},clearFabricFontCache:function(a){a=(a||"").toLowerCase(),a?t.charWidthsCache[a]&&delete t.charWidthsCache[a]:t.charWidthsCache={}},limitDimsByArea:function(a,u){var d=Math.sqrt(u*a),l=Math.floor(u/d);return{x:Math.floor(d),y:l}},capValue:function(a,u,d){return Math.max(a,Math.min(u,d))},findScaleToFit:function(a,u){return Math.min(u.width/a.width,u.height/a.height)},findScaleToCover:function(a,u){return Math.max(u.width/a.width,u.height/a.height)},matrixToSVG:function(a){return"matrix("+a.map(function(u){return t.util.toFixed(u,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(a,u){var d=t.util.invertTransform(u),l=t.util.multiplyTransformMatrices(d,a.calcOwnMatrix());t.util.applyTransformToObject(a,l)},addTransformToObject:function(a,u){t.util.applyTransformToObject(a,t.util.multiplyTransformMatrices(u,a.calcOwnMatrix()))},applyTransformToObject:function(a,u){var d=t.util.qrDecompose(u),l=new t.Point(d.translateX,d.translateY);a.flipX=!1,a.flipY=!1,a.set("scaleX",d.scaleX),a.set("scaleY",d.scaleY),a.skewX=d.skewX,a.skewY=d.skewY,a.angle=d.angle,a.setPositionByOrigin(l,"center","center")},sizeAfterTransform:function(a,u,d){var l=a/2,g=u/2,m=[{x:-l,y:-g},{x:l,y:-g},{x:-l,y:g},{x:l,y:g}],y=t.util.calcDimensionsMatrix(d),_=t.util.makeBoundingBoxFromPoints(m,y);return{x:_.width,y:_.height}},mergeClipPaths:function(a,u){var d=a,l=u;d.inverted&&!l.inverted&&(d=u,l=a),t.util.applyTransformToObject(l,t.util.multiplyTransformMatrices(t.util.invertTransform(d.calcTransformMatrix()),l.calcTransformMatrix()));var g=d.inverted&&l.inverted;return g&&(d.inverted=l.inverted=!1),new t.Group([d],{clipPath:l,inverted:g})},hasStyleChanged:function(a,u,d){return d=d||!1,a.fill!==u.fill||a.stroke!==u.stroke||a.strokeWidth!==u.strokeWidth||a.fontSize!==u.fontSize||a.fontFamily!==u.fontFamily||a.fontWeight!==u.fontWeight||a.fontStyle!==u.fontStyle||a.textBackgroundColor!==u.textBackgroundColor||a.deltaY!==u.deltaY||d&&(a.overline!==u.overline||a.underline!==u.underline||a.linethrough!==u.linethrough)},stylesToArray:function(d,u){for(var d=t.util.object.clone(d,!0),l=u.split(`
`),g=-1,m={},y=[],_=0;_<l.length;_++){if(!d[_]){g+=l[_].length;continue}for(var S=0;S<l[_].length;S++){g++;var T=d[_][S];if(T&&Object.keys(T).length>0){var A=t.util.hasStyleChanged(m,T,!0);A?y.push({start:g,end:g+1,style:T}):y[y.length-1].end++}m=T||{}}}return y},stylesFromArray:function(a,u){if(!Array.isArray(a))return a;for(var d=u.split(`
`),l=-1,g=0,m={},y=0;y<d.length;y++)for(var _=0;_<d[y].length;_++)l++,a[g]&&a[g].start<=l&&l<a[g].end&&(m[y]=m[y]||{},m[y][_]=Object.assign({},a[g].style),l===a[g].end-1&&g++);return m}}}(e),function(){var f=Array.prototype.join,n={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};function h(O,j,z,F,U,L,k,D,K,G,Z){var le=t.util.cos(O),ne=t.util.sin(O),he=t.util.cos(j),ie=t.util.sin(j),X=z*U*he-F*L*ie+k,ue=F*U*he+z*L*ie+D,de=G+K*(-z*U*ne-F*L*le),te=Z+K*(-F*U*ne+z*L*le),pe=X+K*(z*U*ie+F*L*he),Pe=ue+K*(F*U*ie-z*L*he);return["C",de,te,pe,Pe,X,ue]}function i(O,j,z,F,U,L,k){var D=Math.PI,K=k*D/180,G=t.util.sin(K),Z=t.util.cos(K),le=0,ne=0;z=Math.abs(z),F=Math.abs(F);var he=-Z*O*.5-G*j*.5,ie=-Z*j*.5+G*O*.5,X=z*z,ue=F*F,de=ie*ie,te=he*he,pe=X*ue-X*de-ue*te,Pe=0;if(pe<0){var Ue=Math.sqrt(1-pe/(X*ue));z*=Ue,F*=Ue}else Pe=(U===L?-1:1)*Math.sqrt(pe/(X*de+ue*te));var $e=Pe*z*ie/F,ge=-Pe*F*he/z,je=Z*$e-G*ge+O*.5,Ae=G*$e+Z*ge+j*.5,Re=o(1,0,(he-$e)/z,(ie-ge)/F),ft=o((he-$e)/z,(ie-ge)/F,(-he-$e)/z,(-ie-ge)/F);L===0&&ft>0?ft-=2*D:L===1&&ft<0&&(ft+=2*D);for(var ht=Math.ceil(Math.abs(ft/D*2)),Dt=[],Ht=ft/ht,rn=8/3*Math.sin(Ht/4)*Math.sin(Ht/4)/Math.sin(Ht/2),fn=Re+Ht,Tr=0;Tr<ht;Tr++)Dt[Tr]=h(Re,fn,Z,G,z,F,je,Ae,rn,le,ne),le=Dt[Tr][5],ne=Dt[Tr][6],Re=fn,fn+=Ht;return Dt}function o(O,j,z,F){var U=Math.atan2(j,O),L=Math.atan2(F,z);return L>=U?L-U:2*Math.PI-(U-L)}function a(O,j,z,F,U,L,k,D){var K;if(t.cachesBoundsOfCurve&&(K=f.call(arguments),t.boundsOfCurveCache[K]))return t.boundsOfCurveCache[K];var G=Math.sqrt,Z=Math.min,le=Math.max,ne=Math.abs,he=[],ie=[[],[]],X,ue,de,te,pe,Pe,Ue,$e;ue=6*O-12*z+6*U,X=-3*O+9*z-9*U+3*k,de=3*z-3*O;for(var ge=0;ge<2;++ge){if(ge>0&&(ue=6*j-12*F+6*L,X=-3*j+9*F-9*L+3*D,de=3*F-3*j),ne(X)<1e-12){if(ne(ue)<1e-12)continue;te=-de/ue,0<te&&te<1&&he.push(te);continue}Ue=ue*ue-4*de*X,!(Ue<0)&&($e=G(Ue),pe=(-ue+$e)/(2*X),0<pe&&pe<1&&he.push(pe),Pe=(-ue-$e)/(2*X),0<Pe&&Pe<1&&he.push(Pe))}for(var je,Ae,Re=he.length,ft=Re,ht;Re--;)te=he[Re],ht=1-te,je=ht*ht*ht*O+3*ht*ht*te*z+3*ht*te*te*U+te*te*te*k,ie[0][Re]=je,Ae=ht*ht*ht*j+3*ht*ht*te*F+3*ht*te*te*L+te*te*te*D,ie[1][Re]=Ae;ie[0][ft]=O,ie[1][ft]=j,ie[0][ft+1]=k,ie[1][ft+1]=D;var Dt=[{x:Z.apply(null,ie[0]),y:Z.apply(null,ie[1])},{x:le.apply(null,ie[0]),y:le.apply(null,ie[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[K]=Dt),Dt}function u(O,j,z){for(var F=z[1],U=z[2],L=z[3],k=z[4],D=z[5],K=z[6],G=z[7],Z=i(K-O,G-j,F,U,k,D,L),le=0,ne=Z.length;le<ne;le++)Z[le][1]+=O,Z[le][2]+=j,Z[le][3]+=O,Z[le][4]+=j,Z[le][5]+=O,Z[le][6]+=j;return Z}function d(O){var j=0,z=0,F=O.length,U=0,L=0,k,D,K,G=[],Z,le,ne;for(D=0;D<F;++D){switch(K=!1,k=O[D].slice(0),k[0]){case"l":k[0]="L",k[1]+=j,k[2]+=z;case"L":j=k[1],z=k[2];break;case"h":k[1]+=j;case"H":k[0]="L",k[2]=z,j=k[1];break;case"v":k[1]+=z;case"V":k[0]="L",z=k[1],k[1]=j,k[2]=z;break;case"m":k[0]="M",k[1]+=j,k[2]+=z;case"M":j=k[1],z=k[2],U=k[1],L=k[2];break;case"c":k[0]="C",k[1]+=j,k[2]+=z,k[3]+=j,k[4]+=z,k[5]+=j,k[6]+=z;case"C":le=k[3],ne=k[4],j=k[5],z=k[6];break;case"s":k[0]="S",k[1]+=j,k[2]+=z,k[3]+=j,k[4]+=z;case"S":Z==="C"?(le=2*j-le,ne=2*z-ne):(le=j,ne=z),j=k[3],z=k[4],k[0]="C",k[5]=k[3],k[6]=k[4],k[3]=k[1],k[4]=k[2],k[1]=le,k[2]=ne,le=k[3],ne=k[4];break;case"q":k[0]="Q",k[1]+=j,k[2]+=z,k[3]+=j,k[4]+=z;case"Q":le=k[1],ne=k[2],j=k[3],z=k[4];break;case"t":k[0]="T",k[1]+=j,k[2]+=z;case"T":Z==="Q"?(le=2*j-le,ne=2*z-ne):(le=j,ne=z),k[0]="Q",j=k[1],z=k[2],k[1]=le,k[2]=ne,k[3]=j,k[4]=z;break;case"a":k[0]="A",k[6]+=j,k[7]+=z;case"A":K=!0,G=G.concat(u(j,z,k)),j=k[6],z=k[7];break;case"z":case"Z":j=U,z=L;break}K||G.push(k),Z=k[0]}return G}function l(O,j,z,F){return Math.sqrt((z-O)*(z-O)+(F-j)*(F-j))}function g(O){return O*O*O}function m(O){return 3*O*O*(1-O)}function y(O){return 3*O*(1-O)*(1-O)}function _(O){return(1-O)*(1-O)*(1-O)}function S(O,j,z,F,U,L,k,D){return function(K){var G=g(K),Z=m(K),le=y(K),ne=_(K);return{x:k*G+U*Z+z*le+O*ne,y:D*G+L*Z+F*le+j*ne}}}function T(O,j,z,F,U,L,k,D){return function(K){var G=1-K,Z=3*G*G*(z-O)+6*G*K*(U-z)+3*K*K*(k-U),le=3*G*G*(F-j)+6*G*K*(L-F)+3*K*K*(D-L);return Math.atan2(le,Z)}}function A(O){return O*O}function N(O){return 2*O*(1-O)}function Q(O){return(1-O)*(1-O)}function re(O,j,z,F,U,L){return function(k){var D=A(k),K=N(k),G=Q(k);return{x:U*D+z*K+O*G,y:L*D+F*K+j*G}}}function ve(O,j,z,F,U,L){return function(k){var D=1-k,K=2*D*(z-O)+2*k*(U-z),G=2*D*(F-j)+2*k*(L-F);return Math.atan2(G,K)}}function we(O,j,z){var F={x:j,y:z},U,L=0,k;for(k=1;k<=100;k+=1)U=O(k/100),L+=l(F.x,F.y,U.x,U.y),F=U;return L}function Te(O,j){for(var z=0,F=0,U=O.iterator,L={x:O.x,y:O.y},k,D,K=.01,G=O.angleFinder,Z;F<j&&K>1e-4;)k=U(z),Z=z,D=l(L.x,L.y,k.x,k.y),D+F>j?(z-=K,K/=2):(L=k,z+=K,F+=D);return k.angle=G(Z),k}function Ce(O){for(var j=0,z=O.length,F,U=0,L=0,k=0,D=0,K=[],G,Z,le,ne=0;ne<z;ne++){switch(F=O[ne],Z={x:U,y:L,command:F[0]},F[0]){case"M":Z.length=0,k=U=F[1],D=L=F[2];break;case"L":Z.length=l(U,L,F[1],F[2]),U=F[1],L=F[2];break;case"C":G=S(U,L,F[1],F[2],F[3],F[4],F[5],F[6]),le=T(U,L,F[1],F[2],F[3],F[4],F[5],F[6]),Z.iterator=G,Z.angleFinder=le,Z.length=we(G,U,L),U=F[5],L=F[6];break;case"Q":G=re(U,L,F[1],F[2],F[3],F[4]),le=ve(U,L,F[1],F[2],F[3],F[4]),Z.iterator=G,Z.angleFinder=le,Z.length=we(G,U,L),U=F[3],L=F[4];break;case"Z":case"z":Z.destX=k,Z.destY=D,Z.length=l(U,L,k,D),U=k,L=D;break}j+=Z.length,K.push(Z)}return K.push({length:j,x:U,y:L}),K}function xe(O,j,z){z||(z=Ce(O));for(var F=0;j-z[F].length>0&&F<z.length-2;)j-=z[F].length,F++;var U=z[F],L=j/U.length,k=U.command,D=O[F],K;switch(k){case"M":return{x:U.x,y:U.y,angle:0};case"Z":case"z":return K=new t.Point(U.x,U.y).lerp(new t.Point(U.destX,U.destY),L),K.angle=Math.atan2(U.destY-U.y,U.destX-U.x),K;case"L":return K=new t.Point(U.x,U.y).lerp(new t.Point(D[1],D[2]),L),K.angle=Math.atan2(D[2]-U.y,D[1]-U.x),K;case"C":return Te(U,j);case"Q":return Te(U,j)}}function Oe(O){var j=[],z=[],F,U,L=t.rePathCommand,k="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",D="("+k+")"+t.commaWsp,K="([01])"+t.commaWsp+"?",G=D+"?"+D+"?"+D+K+K+D+"?("+k+")",Z=new RegExp(G,"g"),le,ne,he;if(!O||!O.match)return j;he=O.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var ie=0,X,ue=he.length;ie<ue;ie++){F=he[ie],ne=F.slice(1).trim(),z.length=0;var de=F.charAt(0);if(X=[de],de.toLowerCase()==="a")for(var te;te=Z.exec(ne);)for(var pe=1;pe<te.length;pe++)z.push(te[pe]);else for(;le=L.exec(ne);)z.push(le[0]);for(var pe=0,Pe=z.length;pe<Pe;pe++)U=parseFloat(z[pe]),isNaN(U)||X.push(U);var Ue=n[de.toLowerCase()],$e=c[de]||de;if(X.length-1>Ue)for(var ge=1,je=X.length;ge<je;ge+=Ue)j.push([de].concat(X.slice(ge,ge+Ue))),de=$e;else j.push(X)}return j}function me(O,j){var z=[],F,U=new t.Point(O[0].x,O[0].y),L=new t.Point(O[1].x,O[1].y),k=O.length,D=1,K=0,G=k>2;for(j=j||0,G&&(D=O[2].x<L.x?-1:O[2].x===L.x?0:1,K=O[2].y<L.y?-1:O[2].y===L.y?0:1),z.push(["M",U.x-D*j,U.y-K*j]),F=1;F<k;F++){if(!U.eq(L)){var Z=U.midPointFrom(L);z.push(["Q",U.x,U.y,Z.x,Z.y])}U=O[F],F+1<O.length&&(L=O[F+1])}return G&&(D=U.x>O[F-2].x?1:U.x===O[F-2].x?0:-1,K=U.y>O[F-2].y?1:U.y===O[F-2].y?0:-1),z.push(["L",U.x+D*j,U.y+K*j]),z}function ee(O,j,z){return z&&(j=t.util.multiplyTransformMatrices(j,[1,0,0,1,-z.x,-z.y])),O.map(function(F){for(var U=F.slice(0),L={},k=1;k<F.length-1;k+=2)L.x=F[k],L.y=F[k+1],L=t.util.transformPoint(L,j),U[k]=L.x,U[k+1]=L.y;return U})}t.util.joinPath=function(O){return O.map(function(j){return j.join(" ")}).join(" ")},t.util.parsePath=Oe,t.util.makePathSimpler=d,t.util.getSmoothPathFromPoints=me,t.util.getPathSegmentsInfo=Ce,t.util.getBoundsOfCurve=a,t.util.getPointOnPath=xe,t.util.transformPath=ee}(),function(){var f=Array.prototype.slice;function n(a,u){for(var d=f.call(arguments,2),l=[],g=0,m=a.length;g<m;g++)l[g]=d.length?a[g][u].apply(a[g],d):a[g][u].call(a[g]);return l}function c(a,u){return o(a,u,function(d,l){return d>=l})}function h(a,u){return o(a,u,function(d,l){return d<l})}function i(a,u){for(var d=a.length;d--;)a[d]=u;return a}function o(a,u,d){if(!(!a||a.length===0)){var l=a.length-1,g=u?a[l][u]:a[l];if(u)for(;l--;)d(a[l][u],g)&&(g=a[l][u]);else for(;l--;)d(a[l],g)&&(g=a[l]);return g}}t.util.array={fill:i,invoke:n,min:h,max:c}}(),function(){function f(c,h,i){if(i)if(!t.isLikelyNode&&h instanceof Element)c=h;else if(h instanceof Array){c=[];for(var o=0,a=h.length;o<a;o++)c[o]=f({},h[o],i)}else if(h&&typeof h=="object")for(var u in h)u==="canvas"||u==="group"?c[u]=null:h.hasOwnProperty(u)&&(c[u]=f({},h[u],i));else c=h;else for(var u in h)c[u]=h[u];return c}function n(c,h){return f({},c,h)}t.util.object={extend:f,clone:n},t.util.object.extend(t.util,t.Observable)}(),function(){function f(o){return o.replace(/-+(.)?/g,function(a,u){return u?u.toUpperCase():""})}function n(o,a){return o.charAt(0).toUpperCase()+(a?o.slice(1):o.slice(1).toLowerCase())}function c(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(o){var a=0,u,d=[];for(a=0,u;a<o.length;a++)(u=i(o,a))!==!1&&d.push(u);return d}function i(o,a){var u=o.charCodeAt(a);if(isNaN(u))return"";if(u<55296||u>57343)return o.charAt(a);if(55296<=u&&u<=56319){if(o.length<=a+1)throw"High surrogate without following low surrogate";var d=o.charCodeAt(a+1);if(56320>d||d>57343)throw"High surrogate without following low surrogate";return o.charAt(a)+o.charAt(a+1)}if(a===0)throw"Low surrogate without preceding high surrogate";var l=o.charCodeAt(a-1);if(55296>l||l>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:f,capitalize:n,escapeXml:c,graphemeSplit:h}}(),function(){var f=Array.prototype.slice,n=function(){},c=function(){for(var u in{toString:1})if(u==="toString")return!1;return!0}(),h=function(u,d,l){for(var g in d)g in u.prototype&&typeof u.prototype[g]=="function"&&(d[g]+"").indexOf("callSuper")>-1?u.prototype[g]=function(m){return function(){var y=this.constructor.superclass;this.constructor.superclass=l;var _=d[m].apply(this,arguments);if(this.constructor.superclass=y,m!=="initialize")return _}}(g):u.prototype[g]=d[g],c&&(d.toString!==Object.prototype.toString&&(u.prototype.toString=d.toString),d.valueOf!==Object.prototype.valueOf&&(u.prototype.valueOf=d.valueOf))};function i(){}function o(u){for(var d=null,l=this;l.constructor.superclass;){var g=l.constructor.superclass.prototype[u];if(l[u]!==g){d=g;break}l=l.constructor.superclass.prototype}return d?arguments.length>1?d.apply(this,f.call(arguments,1)):d.call(this):console.log("tried to callSuper "+u+", method not found in prototype chain",this)}function a(){var u=null,d=f.call(arguments,0);typeof d[0]=="function"&&(u=d.shift());function l(){this.initialize.apply(this,arguments)}l.superclass=u,l.subclasses=[],u&&(i.prototype=u.prototype,l.prototype=new i,u.subclasses.push(l));for(var g=0,m=d.length;g<m;g++)h(l,d[g],u);return l.prototype.initialize||(l.prototype.initialize=n),l.prototype.constructor=l,l.prototype.callSuper=o,l}t.util.createClass=a}(),function(){var f=!!t.document.createElement("div").attachEvent,n=["touchstart","touchmove","touchend"];t.util.addListener=function(h,i,o,a){h&&h.addEventListener(i,o,f?!1:a)},t.util.removeListener=function(h,i,o,a){h&&h.removeEventListener(i,o,f?!1:a)};function c(h){var i=h.changedTouches;return i&&i[0]?i[0]:h}t.util.getPointer=function(h){var i=h.target,o=t.util.getScrollLeftTop(i),a=c(h);return{x:a.clientX+o.left,y:a.clientY+o.top}},t.util.isTouchEvent=function(h){return n.indexOf(h.type)>-1||h.pointerType==="touch"}}(),function(){function f(a,u){var d=a.style;if(!d)return a;if(typeof u=="string")return a.style.cssText+=";"+u,u.indexOf("opacity")>-1?o(a,u.match(/opacity:\s*(\d?\.?\d*)/)[1]):a;for(var l in u)if(l==="opacity")o(a,u[l]);else{var g=l==="float"||l==="cssFloat"?typeof d.styleFloat>"u"?"cssFloat":"styleFloat":l;d.setProperty(g,u[l])}return a}var n=t.document.createElement("div"),c=typeof n.style.opacity=="string",h=typeof n.style.filter=="string",i=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,o=function(a){return a};c?o=function(a,u){return a.style.opacity=u,a}:h&&(o=function(a,u){var d=a.style;return a.currentStyle&&!a.currentStyle.hasLayout&&(d.zoom=1),i.test(d.filter)?(u=u>=.9999?"":"alpha(opacity="+u*100+")",d.filter=d.filter.replace(i,u)):d.filter+=" alpha(opacity="+u*100+")",a}),t.util.setStyle=f}(),function(){var f=Array.prototype.slice;function n(_){return typeof _=="string"?t.document.getElementById(_):_}var c,h=function(_){return f.call(_,0)};try{c=h(t.document.childNodes)instanceof Array}catch{}c||(h=function(_){for(var S=new Array(_.length),T=_.length;T--;)S[T]=_[T];return S});function i(_,S){var T=t.document.createElement(_);for(var A in S)A==="class"?T.className=S[A]:A==="for"?T.htmlFor=S[A]:T.setAttribute(A,S[A]);return T}function o(_,S){_&&(" "+_.className+" ").indexOf(" "+S+" ")===-1&&(_.className+=(_.className?" ":"")+S)}function a(_,S,T){return typeof S=="string"&&(S=i(S,T)),_.parentNode&&_.parentNode.replaceChild(S,_),S.appendChild(_),S}function u(_){for(var S=0,T=0,A=t.document.documentElement,N=t.document.body||{scrollLeft:0,scrollTop:0};_&&(_.parentNode||_.host)&&(_=_.parentNode||_.host,_===t.document?(S=N.scrollLeft||A.scrollLeft||0,T=N.scrollTop||A.scrollTop||0):(S+=_.scrollLeft||0,T+=_.scrollTop||0),!(_.nodeType===1&&_.style.position==="fixed")););return{left:S,top:T}}function d(_){var S,T=_&&_.ownerDocument,A={left:0,top:0},N={left:0,top:0},Q,re={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!T)return N;for(var ve in re)N[re[ve]]+=parseInt(l(_,ve),10)||0;return S=T.documentElement,typeof _.getBoundingClientRect<"u"&&(A=_.getBoundingClientRect()),Q=u(_),{left:A.left+Q.left-(S.clientLeft||0)+N.left,top:A.top+Q.top-(S.clientTop||0)+N.top}}var l;t.document.defaultView&&t.document.defaultView.getComputedStyle?l=function(_,S){var T=t.document.defaultView.getComputedStyle(_,null);return T?T[S]:void 0}:l=function(_,S){var T=_.style[S];return!T&&_.currentStyle&&(T=_.currentStyle[S]),T},function(){var _=t.document.documentElement.style,S="userSelect"in _?"userSelect":"MozUserSelect"in _?"MozUserSelect":"WebkitUserSelect"in _?"WebkitUserSelect":"KhtmlUserSelect"in _?"KhtmlUserSelect":"";function T(N){return typeof N.onselectstart<"u"&&(N.onselectstart=t.util.falseFunction),S?N.style[S]="none":typeof N.unselectable=="string"&&(N.unselectable="on"),N}function A(N){return typeof N.onselectstart<"u"&&(N.onselectstart=null),S?N.style[S]="":typeof N.unselectable=="string"&&(N.unselectable=""),N}t.util.makeElementUnselectable=T,t.util.makeElementSelectable=A}();function g(_){var S=t.jsdomImplForWrapper(_);return S._canvas||S._image}function m(_){if(t.isLikelyNode){var S=t.jsdomImplForWrapper(_);S&&(S._image=null,S._canvas=null,S._currentSrc=null,S._attributes=null,S._classList=null)}}function y(_,S){_.imageSmoothingEnabled=_.imageSmoothingEnabled||_.webkitImageSmoothingEnabled||_.mozImageSmoothingEnabled||_.msImageSmoothingEnabled||_.oImageSmoothingEnabled,_.imageSmoothingEnabled=S}t.util.setImageSmoothing=y,t.util.getById=n,t.util.toArray=h,t.util.addClass=o,t.util.makeElement=i,t.util.wrapElement=a,t.util.getScrollLeftTop=u,t.util.getElementOffset=d,t.util.getNodeCanvas=g,t.util.cleanUpJsdomNode=m}(),function(){function f(h,i){return h+(/\?/.test(h)?"&":"?")+i}function n(){}function c(h,i){i||(i={});var o=i.method?i.method.toUpperCase():"GET",a=i.onComplete||function(){},u=new t.window.XMLHttpRequest,d=i.body||i.parameters;return u.onreadystatechange=function(){u.readyState===4&&(a(u),u.onreadystatechange=n)},o==="GET"&&(d=null,typeof i.parameters=="string"&&(h=f(h,i.parameters))),u.open(o,h,!0),(o==="POST"||o==="PUT")&&u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(d),u}t.util.request=c}(),t.log=console.log,t.warn=console.warn,function(){var f=t.util.object.extend,n=t.util.object.clone,c=[];t.util.object.extend(c,{cancelAll:function(){var g=this.splice(0);return g.forEach(function(m){m.cancel()}),g},cancelByCanvas:function(g){if(!g)return[];var m=this.filter(function(y){return typeof y.target=="object"&&y.target.canvas===g});return m.forEach(function(y){y.cancel()}),m},cancelByTarget:function(g){var m=this.findAnimationsByTarget(g);return m.forEach(function(y){y.cancel()}),m},findAnimationIndex:function(g){return this.indexOf(this.findAnimation(g))},findAnimation:function(g){return this.find(function(m){return m.cancel===g})},findAnimationsByTarget:function(g){return g?this.filter(function(m){return m.target===g}):[]}});function h(){return!1}function i(g,m,y,_){return-y*Math.cos(g/_*(Math.PI/2))+y+m}function o(g){g||(g={});var m=!1,y,_=function(){var S=t.runningAnimations.indexOf(y);return S>-1&&t.runningAnimations.splice(S,1)[0]};return y=f(n(g),{cancel:function(){return m=!0,_()},currentValue:"startValue"in g?g.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(y),d(function(S){var T=S||+new Date,A=g.duration||500,N=T+A,Q,re=g.onChange||h,ve=g.abort||h,we=g.onComplete||h,Te=g.easing||i,Ce="startValue"in g?g.startValue.length>0:!1,xe="startValue"in g?g.startValue:0,Oe="endValue"in g?g.endValue:100,me=g.byValue||(Ce?xe.map(function(ee,O){return Oe[O]-xe[O]}):Oe-xe);g.onStart&&g.onStart(),function ee(O){Q=O||+new Date;var j=Q>N?A:Q-T,z=j/A,F=Ce?xe.map(function(L,k){return Te(j,xe[k],me[k],A)}):Te(j,xe,me,A),U=Math.abs(Ce?(F[0]-xe[0])/me[0]:(F-xe)/me);if(y.currentValue=Ce?F.slice():F,y.completionRate=U,y.durationRate=z,!m){if(ve(F,U,z)){_();return}if(Q>N){y.currentValue=Ce?Oe.slice():Oe,y.completionRate=1,y.durationRate=1,re(Ce?Oe.slice():Oe,1,1),we(Oe,1,1),_();return}else re(F,U,z),d(ee)}}(T)}),y.cancel}var a=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(g){return t.window.setTimeout(g,1e3/60)},u=t.window.cancelAnimationFrame||t.window.clearTimeout;function d(){return a.apply(t.window,arguments)}function l(){return u.apply(t.window,arguments)}t.util.animate=o,t.util.requestAnimFrame=d,t.util.cancelAnimFrame=l,t.runningAnimations=c}(),function(){function f(c,h,i){var o="rgba("+parseInt(c[0]+i*(h[0]-c[0]),10)+","+parseInt(c[1]+i*(h[1]-c[1]),10)+","+parseInt(c[2]+i*(h[2]-c[2]),10);return o+=","+(c&&h?parseFloat(c[3]+i*(h[3]-c[3])):1),o+=")",o}function n(c,h,i,o){var a=new t.Color(c).getSource(),u=new t.Color(h).getSource(),d=o.onComplete,l=o.onChange;return o=o||{},t.util.animate(t.util.object.extend(o,{duration:i||500,startValue:a,endValue:u,byValue:u,easing:function(g,m,y,_){var S=o.colorEasing?o.colorEasing(g,_):1-Math.cos(g/_*(Math.PI/2));return f(m,y,S)},onComplete:function(g,m,y){if(d)return d(f(u,u,0),m,y)},onChange:function(g,m,y){if(l){if(Array.isArray(g))return l(f(g,g,0),m,y);l(g,m,y)}}}))}t.util.animateColor=n}(),function(){function f(O,j,z,F){return O<Math.abs(j)?(O=j,F=z/4):j===0&&O===0?F=z/(2*Math.PI)*Math.asin(1):F=z/(2*Math.PI)*Math.asin(j/O),{a:O,c:j,p:z,s:F}}function n(O,j,z){return O.a*Math.pow(2,10*(j-=1))*Math.sin((j*z-O.s)*(2*Math.PI)/O.p)}function c(O,j,z,F){return z*((O=O/F-1)*O*O+1)+j}function h(O,j,z,F){return O/=F/2,O<1?z/2*O*O*O+j:z/2*((O-=2)*O*O+2)+j}function i(O,j,z,F){return z*(O/=F)*O*O*O+j}function o(O,j,z,F){return-z*((O=O/F-1)*O*O*O-1)+j}function a(O,j,z,F){return O/=F/2,O<1?z/2*O*O*O*O+j:-z/2*((O-=2)*O*O*O-2)+j}function u(O,j,z,F){return z*(O/=F)*O*O*O*O+j}function d(O,j,z,F){return z*((O=O/F-1)*O*O*O*O+1)+j}function l(O,j,z,F){return O/=F/2,O<1?z/2*O*O*O*O*O+j:z/2*((O-=2)*O*O*O*O+2)+j}function g(O,j,z,F){return-z*Math.cos(O/F*(Math.PI/2))+z+j}function m(O,j,z,F){return z*Math.sin(O/F*(Math.PI/2))+j}function y(O,j,z,F){return-z/2*(Math.cos(Math.PI*O/F)-1)+j}function _(O,j,z,F){return O===0?j:z*Math.pow(2,10*(O/F-1))+j}function S(O,j,z,F){return O===F?j+z:z*(-Math.pow(2,-10*O/F)+1)+j}function T(O,j,z,F){return O===0?j:O===F?j+z:(O/=F/2,O<1?z/2*Math.pow(2,10*(O-1))+j:z/2*(-Math.pow(2,-10*--O)+2)+j)}function A(O,j,z,F){return-z*(Math.sqrt(1-(O/=F)*O)-1)+j}function N(O,j,z,F){return z*Math.sqrt(1-(O=O/F-1)*O)+j}function Q(O,j,z,F){return O/=F/2,O<1?-z/2*(Math.sqrt(1-O*O)-1)+j:z/2*(Math.sqrt(1-(O-=2)*O)+1)+j}function re(O,j,z,F){var U=1.70158,L=0,k=z;if(O===0)return j;if(O/=F,O===1)return j+z;L||(L=F*.3);var D=f(k,z,L,U);return-n(D,O,F)+j}function ve(O,j,z,F){var U=1.70158,L=0,k=z;if(O===0)return j;if(O/=F,O===1)return j+z;L||(L=F*.3);var D=f(k,z,L,U);return D.a*Math.pow(2,-10*O)*Math.sin((O*F-D.s)*(2*Math.PI)/D.p)+D.c+j}function we(O,j,z,F){var U=1.70158,L=0,k=z;if(O===0)return j;if(O/=F/2,O===2)return j+z;L||(L=F*(.3*1.5));var D=f(k,z,L,U);return O<1?-.5*n(D,O,F)+j:D.a*Math.pow(2,-10*(O-=1))*Math.sin((O*F-D.s)*(2*Math.PI)/D.p)*.5+D.c+j}function Te(O,j,z,F,U){return U===void 0&&(U=1.70158),z*(O/=F)*O*((U+1)*O-U)+j}function Ce(O,j,z,F,U){return U===void 0&&(U=1.70158),z*((O=O/F-1)*O*((U+1)*O+U)+1)+j}function xe(O,j,z,F,U){return U===void 0&&(U=1.70158),O/=F/2,O<1?z/2*(O*O*(((U*=1.525)+1)*O-U))+j:z/2*((O-=2)*O*(((U*=1.525)+1)*O+U)+2)+j}function Oe(O,j,z,F){return z-me(F-O,0,z,F)+j}function me(O,j,z,F){return(O/=F)<1/2.75?z*(7.5625*O*O)+j:O<2/2.75?z*(7.5625*(O-=1.5/2.75)*O+.75)+j:O<2.5/2.75?z*(7.5625*(O-=2.25/2.75)*O+.9375)+j:z*(7.5625*(O-=2.625/2.75)*O+.984375)+j}function ee(O,j,z,F){return O<F/2?Oe(O*2,0,z,F)*.5+j:me(O*2-F,0,z,F)*.5+z*.5+j}t.util.ease={easeInQuad:function(O,j,z,F){return z*(O/=F)*O+j},easeOutQuad:function(O,j,z,F){return-z*(O/=F)*(O-2)+j},easeInOutQuad:function(O,j,z,F){return O/=F/2,O<1?z/2*O*O+j:-z/2*(--O*(O-2)-1)+j},easeInCubic:function(O,j,z,F){return z*(O/=F)*O*O+j},easeOutCubic:c,easeInOutCubic:h,easeInQuart:i,easeOutQuart:o,easeInOutQuart:a,easeInQuint:u,easeOutQuint:d,easeInOutQuint:l,easeInSine:g,easeOutSine:m,easeInOutSine:y,easeInExpo:_,easeOutExpo:S,easeInOutExpo:T,easeInCirc:A,easeOutCirc:N,easeInOutCirc:Q,easeInElastic:re,easeOutElastic:ve,easeInOutElastic:we,easeInBack:Te,easeOutBack:Ce,easeInOutBack:xe,easeInBounce:Oe,easeOutBounce:me,easeInOutBounce:ee}}(),function(f){var n=f.fabric||(f.fabric={}),c=n.util.object.extend,h=n.util.object.clone,i=n.util.toFixed,o=n.util.parseUnit,a=n.util.multiplyTransformMatrices,u=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],d=["symbol","image","marker","pattern","view","svg"],l=["pattern","defs","symbol","metadata","clipPath","mask","desc"],g=["symbol","g","a","svg","clipPath","defs"],m={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},y={stroke:"strokeOpacity",fill:"fillOpacity"},_="font-size",S="clip-path";n.svgValidTagNamesRegEx=N(u),n.svgViewBoxElementsRegEx=N(d),n.svgInvalidAncestorsRegEx=N(l),n.svgValidParentsRegEx=N(g),n.cssRules={},n.gradientDefs={},n.clipPaths={};function T(L){return L in m?m[L]:L}function A(L,k,D,K){var G=Array.isArray(k),Z;if((L==="fill"||L==="stroke")&&k==="none")k="";else{if(L==="strokeUniform")return k==="non-scaling-stroke";if(L==="strokeDashArray")k==="none"?k=null:k=k.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(L==="transformMatrix")D&&D.transformMatrix?k=a(D.transformMatrix,n.parseTransformAttribute(k)):k=n.parseTransformAttribute(k);else if(L==="visible")k=k!=="none"&&k!=="hidden",D&&D.visible===!1&&(k=!1);else if(L==="opacity")k=parseFloat(k),D&&typeof D.opacity<"u"&&(k*=D.opacity);else if(L==="textAnchor")k=k==="start"?"left":k==="end"?"right":"center";else if(L==="charSpacing")Z=o(k,K)/K*1e3;else if(L==="paintFirst"){var le=k.indexOf("fill"),ne=k.indexOf("stroke"),k="fill";(le>-1&&ne>-1&&ne<le||le===-1&&ne>-1)&&(k="stroke")}else{if(L==="href"||L==="xlink:href"||L==="font")return k;if(L==="imageSmoothing")return k==="optimizeQuality";Z=G?k.map(o):o(k,K)}}return!G&&isNaN(Z)?k:Z}function N(L){return new RegExp("^("+L.join("|")+")\\b","i")}function Q(L){for(var k in y)if(!(typeof L[y[k]]>"u"||L[k]==="")){if(typeof L[k]>"u"){if(!n.Object.prototype[k])continue;L[k]=n.Object.prototype[k]}if(L[k].indexOf("url(")!==0){var D=new n.Color(L[k]);L[k]=D.setAlpha(i(D.getAlpha()*L[y[k]],2)).toRgba()}}return L}function re(L,k){var D,K=[],G,Z,le;for(Z=0,le=k.length;Z<le;Z++)D=k[Z],G=L.getElementsByTagName(D),K=K.concat(Array.prototype.slice.call(G));return K}n.parseTransformAttribute=function(){function L(ge,je){var Ae=n.util.cos(je[0]),Re=n.util.sin(je[0]),ft=0,ht=0;je.length===3&&(ft=je[1],ht=je[2]),ge[0]=Ae,ge[1]=Re,ge[2]=-Re,ge[3]=Ae,ge[4]=ft-(Ae*ft-Re*ht),ge[5]=ht-(Re*ft+Ae*ht)}function k(ge,je){var Ae=je[0],Re=je.length===2?je[1]:je[0];ge[0]=Ae,ge[3]=Re}function D(ge,je,Ae){ge[Ae]=Math.tan(n.util.degreesToRadians(je[0]))}function K(ge,je){ge[4]=je[0],je.length===2&&(ge[5]=je[1])}var G=n.iMatrix,Z=n.reNum,le=n.commaWsp,ne="(?:(skewX)\\s*\\(\\s*("+Z+")\\s*\\))",he="(?:(skewY)\\s*\\(\\s*("+Z+")\\s*\\))",ie="(?:(rotate)\\s*\\(\\s*("+Z+")(?:"+le+"("+Z+")"+le+"("+Z+"))?\\s*\\))",X="(?:(scale)\\s*\\(\\s*("+Z+")(?:"+le+"("+Z+"))?\\s*\\))",ue="(?:(translate)\\s*\\(\\s*("+Z+")(?:"+le+"("+Z+"))?\\s*\\))",de="(?:(matrix)\\s*\\(\\s*("+Z+")"+le+"("+Z+")"+le+"("+Z+")"+le+"("+Z+")"+le+"("+Z+")"+le+"("+Z+")\\s*\\))",te="(?:"+de+"|"+ue+"|"+X+"|"+ie+"|"+ne+"|"+he+")",pe="(?:"+te+"(?:"+le+"*"+te+")*)",Pe="^\\s*(?:"+pe+"?)\\s*$",Ue=new RegExp(Pe),$e=new RegExp(te,"g");return function(ge){var je=G.concat(),Ae=[];if(!ge||ge&&!Ue.test(ge))return je;ge.replace($e,function(ft){var ht=new RegExp(te).exec(ft).filter(function(rn){return!!rn}),Dt=ht[1],Ht=ht.slice(2).map(parseFloat);switch(Dt){case"translate":K(je,Ht);break;case"rotate":Ht[0]=n.util.degreesToRadians(Ht[0]),L(je,Ht);break;case"scale":k(je,Ht);break;case"skewX":D(je,Ht,2);break;case"skewY":D(je,Ht,1);break;case"matrix":je=Ht;break}Ae.push(je.concat()),je=G.concat()});for(var Re=Ae[0];Ae.length>1;)Ae.shift(),Re=n.util.multiplyTransformMatrices(Re,Ae[0]);return Re}}();function ve(L,k){var D,K;L.replace(/;\s*$/,"").split(";").forEach(function(G){var Z=G.split(":");D=Z[0].trim().toLowerCase(),K=Z[1].trim(),k[D]=K})}function we(L,k){var D,K;for(var G in L)typeof L[G]>"u"||(D=G.toLowerCase(),K=L[G],k[D]=K)}function Te(L,k){var D={};for(var K in n.cssRules[k])if(Ce(L,K.split(" ")))for(var G in n.cssRules[k][K])D[G]=n.cssRules[k][K][G];return D}function Ce(L,k){var D,K=!0;return D=Oe(L,k.pop()),D&&k.length&&(K=xe(L,k)),D&&K&&k.length===0}function xe(L,k){for(var D,K=!0;L.parentNode&&L.parentNode.nodeType===1&&k.length;)K&&(D=k.pop()),L=L.parentNode,K=Oe(L,D);return k.length===0}function Oe(L,k){var D=L.nodeName,K=L.getAttribute("class"),G=L.getAttribute("id"),Z,le;if(Z=new RegExp("^"+D,"i"),k=k.replace(Z,""),G&&k.length&&(Z=new RegExp("#"+G+"(?![a-zA-Z\\-]+)","i"),k=k.replace(Z,"")),K&&k.length)for(K=K.split(" "),le=K.length;le--;)Z=new RegExp("\\."+K[le]+"(?![a-zA-Z\\-]+)","i"),k=k.replace(Z,"");return k.length===0}function me(L,k){var D;if(L.getElementById&&(D=L.getElementById(k)),D)return D;var K,G,Z,le=L.getElementsByTagName("*");for(G=0,Z=le.length;G<Z;G++)if(K=le[G],k===K.getAttribute("id"))return K}function ee(L){for(var k=re(L,["use","svg:use"]),D=0;k.length&&D<k.length;){var K=k[D],G=K.getAttribute("xlink:href")||K.getAttribute("href");if(G===null)return;var Z=G.slice(1),le=K.getAttribute("x")||0,ne=K.getAttribute("y")||0,he=me(L,Z).cloneNode(!0),ie=(he.getAttribute("transform")||"")+" translate("+le+", "+ne+")",X,ue=k.length,de,te,pe,Pe,Ue=n.svgNS;if(j(he),/^svg$/i.test(he.nodeName)){var $e=he.ownerDocument.createElementNS(Ue,"g");for(te=0,pe=he.attributes,Pe=pe.length;te<Pe;te++)de=pe.item(te),$e.setAttributeNS(Ue,de.nodeName,de.nodeValue);for(;he.firstChild;)$e.appendChild(he.firstChild);he=$e}for(te=0,pe=K.attributes,Pe=pe.length;te<Pe;te++)de=pe.item(te),!(de.nodeName==="x"||de.nodeName==="y"||de.nodeName==="xlink:href"||de.nodeName==="href")&&(de.nodeName==="transform"?ie=de.nodeValue+" "+ie:he.setAttribute(de.nodeName,de.nodeValue));he.setAttribute("transform",ie),he.setAttribute("instantiated_by_use","1"),he.removeAttribute("id"),X=K.parentNode,X.replaceChild(he,K),k.length===ue&&D++}}var O=new RegExp("^\\s*("+n.reNum+"+)\\s*,?\\s*("+n.reNum+"+)\\s*,?\\s*("+n.reNum+"+)\\s*,?\\s*("+n.reNum+"+)\\s*$");function j(L){if(!n.svgViewBoxElementsRegEx.test(L.nodeName))return{};var k=L.getAttribute("viewBox"),D=1,K=1,G=0,Z=0,le,ne,he,ie,X=L.getAttribute("width"),ue=L.getAttribute("height"),de=L.getAttribute("x")||0,te=L.getAttribute("y")||0,pe=L.getAttribute("preserveAspectRatio")||"",Pe=!k||!(k=k.match(O)),Ue=!X||!ue||X==="100%"||ue==="100%",$e=Pe&&Ue,ge={},je="",Ae=0,Re=0;if(ge.width=0,ge.height=0,ge.toBeParsed=$e,Pe&&(de||te)&&L.parentNode&&L.parentNode.nodeName!=="#document"&&(je=" translate("+o(de)+" "+o(te)+") ",he=(L.getAttribute("transform")||"")+je,L.setAttribute("transform",he),L.removeAttribute("x"),L.removeAttribute("y")),$e)return ge;if(Pe)return ge.width=o(X),ge.height=o(ue),ge;if(G=-parseFloat(k[1]),Z=-parseFloat(k[2]),le=parseFloat(k[3]),ne=parseFloat(k[4]),ge.minX=G,ge.minY=Z,ge.viewBoxWidth=le,ge.viewBoxHeight=ne,Ue?(ge.width=le,ge.height=ne):(ge.width=o(X),ge.height=o(ue),D=ge.width/le,K=ge.height/ne),pe=n.util.parsePreserveAspectRatioAttribute(pe),pe.alignX!=="none"&&(pe.meetOrSlice==="meet"&&(K=D=D>K?K:D),pe.meetOrSlice==="slice"&&(K=D=D>K?D:K),Ae=ge.width-le*D,Re=ge.height-ne*D,pe.alignX==="Mid"&&(Ae/=2),pe.alignY==="Mid"&&(Re/=2),pe.alignX==="Min"&&(Ae=0),pe.alignY==="Min"&&(Re=0)),D===1&&K===1&&G===0&&Z===0&&de===0&&te===0)return ge;if((de||te)&&L.parentNode.nodeName!=="#document"&&(je=" translate("+o(de)+" "+o(te)+") "),he=je+" matrix("+D+" 0 0 "+K+" "+(G*D+Ae)+" "+(Z*K+Re)+") ",L.nodeName==="svg"){for(ie=L.ownerDocument.createElementNS(n.svgNS,"g");L.firstChild;)ie.appendChild(L.firstChild);L.appendChild(ie)}else ie=L,ie.removeAttribute("x"),ie.removeAttribute("y"),he=ie.getAttribute("transform")+he;return ie.setAttribute("transform",he),ge}function z(L,k){for(;L&&(L=L.parentNode);)if(L.nodeName&&k.test(L.nodeName.replace("svg:",""))&&!L.getAttribute("instantiated_by_use"))return!0;return!1}n.parseSVGDocument=function(L,k,D,K){if(L){ee(L);var G=n.Object.__uid++,Z,le,ne=j(L),he=n.util.toArray(L.getElementsByTagName("*"));if(ne.crossOrigin=K&&K.crossOrigin,ne.svgUid=G,he.length===0&&n.isLikelyNode){he=L.selectNodes('//*[name(.)!="svg"]');var ie=[];for(Z=0,le=he.length;Z<le;Z++)ie[Z]=he[Z];he=ie}var X=he.filter(function(de){return j(de),n.svgValidTagNamesRegEx.test(de.nodeName.replace("svg:",""))&&!z(de,n.svgInvalidAncestorsRegEx)});if(!X||X&&!X.length){k&&k([],{});return}var ue={};he.filter(function(de){return de.nodeName.replace("svg:","")==="clipPath"}).forEach(function(de){var te=de.getAttribute("id");ue[te]=n.util.toArray(de.getElementsByTagName("*")).filter(function(pe){return n.svgValidTagNamesRegEx.test(pe.nodeName.replace("svg:",""))})}),n.gradientDefs[G]=n.getGradientDefs(L),n.cssRules[G]=n.getCSSRules(L),n.clipPaths[G]=ue,n.parseElements(X,function(de,te){k&&(k(de,ne,te,he),delete n.gradientDefs[G],delete n.cssRules[G],delete n.clipPaths[G])},h(ne),D,K)}};function F(L,k){var D=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],K="xlink:href",G=k.getAttribute(K).slice(1),Z=me(L,G);if(Z&&Z.getAttribute(K)&&F(L,Z),D.forEach(function(ne){Z&&!k.hasAttribute(ne)&&Z.hasAttribute(ne)&&k.setAttribute(ne,Z.getAttribute(ne))}),!k.children.length)for(var le=Z.cloneNode(!0);le.firstChild;)k.appendChild(le.firstChild);k.removeAttribute(K)}var U=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+n.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+n.reNum+"))?\\s+(.*)");c(n,{parseFontDeclaration:function(L,k){var D=L.match(U);if(D){var K=D[1],G=D[3],Z=D[4],le=D[5],ne=D[6];K&&(k.fontStyle=K),G&&(k.fontWeight=isNaN(parseFloat(G))?G:parseFloat(G)),Z&&(k.fontSize=o(Z)),ne&&(k.fontFamily=ne),le&&(k.lineHeight=le==="normal"?1:le)}},getGradientDefs:function(L){var k=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],D=re(L,k),K,G=0,Z={};for(G=D.length;G--;)K=D[G],K.getAttribute("xlink:href")&&F(L,K),Z[K.getAttribute("id")]=K;return Z},parseAttributes:function(L,k,D){if(L){var K,G={},Z,le;typeof D>"u"&&(D=L.getAttribute("svgUid")),L.parentNode&&n.svgValidParentsRegEx.test(L.parentNode.nodeName)&&(G=n.parseAttributes(L.parentNode,k,D));var ne=k.reduce(function(pe,Pe){return K=L.getAttribute(Pe),K&&(pe[Pe]=K),pe},{}),he=c(Te(L,D),n.parseStyleAttribute(L));ne=c(ne,he),he[S]&&L.setAttribute(S,he[S]),Z=le=G.fontSize||n.Text.DEFAULT_SVG_FONT_SIZE,ne[_]&&(ne[_]=Z=o(ne[_],le));var ie,X,ue={};for(var de in ne)ie=T(de),X=A(ie,ne[de],G,Z),ue[ie]=X;ue&&ue.font&&n.parseFontDeclaration(ue.font,ue);var te=c(G,ue);return n.svgValidParentsRegEx.test(L.nodeName)?te:Q(te)}},parseElements:function(L,k,D,K,G){new n.ElementsParser(L,k,D,K,G).parse()},parseStyleAttribute:function(L){var k={},D=L.getAttribute("style");return D&&(typeof D=="string"?ve(D,k):we(D,k)),k},parsePointsAttribute:function(L){if(!L)return null;L=L.replace(/,/g," ").trim(),L=L.split(/\s+/);var k=[],D,K;for(D=0,K=L.length;D<K;D+=2)k.push({x:parseFloat(L[D]),y:parseFloat(L[D+1])});return k},getCSSRules:function(L){var k=L.getElementsByTagName("style"),D,K,G={},Z;for(D=0,K=k.length;D<K;D++){var le=k[D].textContent;le=le.replace(/\/\*[\s\S]*?\*\//g,""),le.trim()!==""&&(Z=le.split("}"),Z=Z.filter(function(ne){return ne.trim()}),Z.forEach(function(ne){var he=ne.split("{"),ie={},X=he[1].trim(),ue=X.split(";").filter(function(Pe){return Pe.trim()});for(D=0,K=ue.length;D<K;D++){var de=ue[D].split(":"),te=de[0].trim(),pe=de[1].trim();ie[te]=pe}ne=he[0].trim(),ne.split(",").forEach(function(Pe){Pe=Pe.replace(/^svg/i,"").trim(),Pe!==""&&(G[Pe]?n.util.object.extend(G[Pe],ie):G[Pe]=n.util.object.clone(ie))})}))}return G},loadSVGFromURL:function(L,k,D,K){L=L.replace(/^\n\s*/,"").trim(),new n.util.request(L,{method:"get",onComplete:G});function G(Z){var le=Z.responseXML;if(!le||!le.documentElement)return k&&k(null),!1;n.parseSVGDocument(le.documentElement,function(ne,he,ie,X){k&&k(ne,he,ie,X)},D,K)}},loadSVGFromString:function(L,k,D,K){var G=new n.window.DOMParser,Z=G.parseFromString(L.trim(),"text/xml");n.parseSVGDocument(Z.documentElement,function(le,ne,he,ie){k(le,ne,he,ie)},D,K)}})}(e),t.ElementsParser=function(f,n,c,h,i,o){this.elements=f,this.callback=n,this.options=c,this.reviver=h,this.svgUid=c&&c.svgUid||0,this.parsingOptions=i,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=o},function(f){f.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},f.createObjects=function(){var n=this;this.elements.forEach(function(c,h){c.setAttribute("svgUid",n.svgUid),n.createObject(c,h)})},f.findTag=function(n){return t[t.util.string.capitalize(n.tagName.replace("svg:",""))]},f.createObject=function(n,c){var h=this.findTag(n);if(h&&h.fromElement)try{h.fromElement(n,this.createCallback(c,n),this.options)}catch(i){t.log(i)}else this.checkIfDone()},f.createCallback=function(n,c){var h=this;return function(i){var o;h.resolveGradient(i,c,"fill"),h.resolveGradient(i,c,"stroke"),i instanceof t.Image&&i._originalElement&&(o=i.parsePreserveAspectRatioAttribute(c)),i._removeTransformMatrix(o),h.resolveClipPath(i,c),h.reviver&&h.reviver(c,i),h.instances[n]=i,h.checkIfDone()}},f.extractPropertyDefinition=function(n,c,h){var i=n[c],o=this.regexUrl;if(o.test(i)){o.lastIndex=0;var a=o.exec(i)[1];return o.lastIndex=0,t[h][this.svgUid][a]}},f.resolveGradient=function(n,c,h){var i=this.extractPropertyDefinition(n,h,"gradientDefs");if(i){var o=c.getAttribute(h+"-opacity"),a=t.Gradient.fromElement(i,n,o,this.options);n.set(h,a)}},f.createClipPathCallback=function(n,c){return function(h){h._removeTransformMatrix(),h.fillRule=h.clipRule,c.push(h)}},f.resolveClipPath=function(n,c){var h=this.extractPropertyDefinition(n,"clipPath","clipPaths"),i,o,a,u,d,l;if(h){u=[],a=t.util.invertTransform(n.calcTransformMatrix());for(var g=h[0].parentNode,m=c;m.parentNode&&m.getAttribute("clip-path")!==n.clipPath;)m=m.parentNode;m.parentNode.appendChild(g);for(var y=0;y<h.length;y++)i=h[y],o=this.findTag(i),o.fromElement(i,this.createClipPathCallback(n,u),this.options);u.length===1?h=u[0]:h=new t.Group(u),d=t.util.multiplyTransformMatrices(a,h.calcTransformMatrix()),h.clipPath&&this.resolveClipPath(h,m);var l=t.util.qrDecompose(d);h.flipX=!1,h.flipY=!1,h.set("scaleX",l.scaleX),h.set("scaleY",l.scaleY),h.angle=l.angle,h.skewX=l.skewX,h.skewY=0,h.setPositionByOrigin({x:l.translateX,y:l.translateY},"center","center"),n.clipPath=h}else delete n.clipPath},f.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(n){return n!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(f){var n=f.fabric||(f.fabric={});if(n.Point){n.warn("fabric.Point is already defined");return}n.Point=c;function c(h,i){this.x=h,this.y=i}c.prototype={type:"point",constructor:c,add:function(h){return new c(this.x+h.x,this.y+h.y)},addEquals:function(h){return this.x+=h.x,this.y+=h.y,this},scalarAdd:function(h){return new c(this.x+h,this.y+h)},scalarAddEquals:function(h){return this.x+=h,this.y+=h,this},subtract:function(h){return new c(this.x-h.x,this.y-h.y)},subtractEquals:function(h){return this.x-=h.x,this.y-=h.y,this},scalarSubtract:function(h){return new c(this.x-h,this.y-h)},scalarSubtractEquals:function(h){return this.x-=h,this.y-=h,this},multiply:function(h){return new c(this.x*h,this.y*h)},multiplyEquals:function(h){return this.x*=h,this.y*=h,this},divide:function(h){return new c(this.x/h,this.y/h)},divideEquals:function(h){return this.x/=h,this.y/=h,this},eq:function(h){return this.x===h.x&&this.y===h.y},lt:function(h){return this.x<h.x&&this.y<h.y},lte:function(h){return this.x<=h.x&&this.y<=h.y},gt:function(h){return this.x>h.x&&this.y>h.y},gte:function(h){return this.x>=h.x&&this.y>=h.y},lerp:function(h,i){return typeof i>"u"&&(i=.5),i=Math.max(Math.min(1,i),0),new c(this.x+(h.x-this.x)*i,this.y+(h.y-this.y)*i)},distanceFrom:function(h){var i=this.x-h.x,o=this.y-h.y;return Math.sqrt(i*i+o*o)},midPointFrom:function(h){return this.lerp(h)},min:function(h){return new c(Math.min(this.x,h.x),Math.min(this.y,h.y))},max:function(h){return new c(Math.max(this.x,h.x),Math.max(this.y,h.y))},toString:function(){return this.x+","+this.y},setXY:function(h,i){return this.x=h,this.y=i,this},setX:function(h){return this.x=h,this},setY:function(h){return this.y=h,this},setFromPoint:function(h){return this.x=h.x,this.y=h.y,this},swap:function(h){var i=this.x,o=this.y;this.x=h.x,this.y=h.y,h.x=i,h.y=o},clone:function(){return new c(this.x,this.y)}}}(e),function(f){var n=f.fabric||(f.fabric={});if(n.Intersection){n.warn("fabric.Intersection is already defined");return}function c(h){this.status=h,this.points=[]}n.Intersection=c,n.Intersection.prototype={constructor:c,appendPoint:function(h){return this.points.push(h),this},appendPoints:function(h){return this.points=this.points.concat(h),this}},n.Intersection.intersectLineLine=function(h,i,o,a){var u,d=(a.x-o.x)*(h.y-o.y)-(a.y-o.y)*(h.x-o.x),l=(i.x-h.x)*(h.y-o.y)-(i.y-h.y)*(h.x-o.x),g=(a.y-o.y)*(i.x-h.x)-(a.x-o.x)*(i.y-h.y);if(g!==0){var m=d/g,y=l/g;0<=m&&m<=1&&0<=y&&y<=1?(u=new c("Intersection"),u.appendPoint(new n.Point(h.x+m*(i.x-h.x),h.y+m*(i.y-h.y)))):u=new c}else d===0||l===0?u=new c("Coincident"):u=new c("Parallel");return u},n.Intersection.intersectLinePolygon=function(h,i,o){var a=new c,u=o.length,d,l,g,m;for(m=0;m<u;m++)d=o[m],l=o[(m+1)%u],g=c.intersectLineLine(h,i,d,l),a.appendPoints(g.points);return a.points.length>0&&(a.status="Intersection"),a},n.Intersection.intersectPolygonPolygon=function(h,i){var o=new c,a=h.length,u;for(u=0;u<a;u++){var d=h[u],l=h[(u+1)%a],g=c.intersectLinePolygon(d,l,i);o.appendPoints(g.points)}return o.points.length>0&&(o.status="Intersection"),o},n.Intersection.intersectPolygonRectangle=function(h,i,o){var a=i.min(o),u=i.max(o),d=new n.Point(u.x,a.y),l=new n.Point(a.x,u.y),g=c.intersectLinePolygon(a,d,h),m=c.intersectLinePolygon(d,u,h),y=c.intersectLinePolygon(u,l,h),_=c.intersectLinePolygon(l,a,h),S=new c;return S.appendPoints(g.points),S.appendPoints(m.points),S.appendPoints(y.points),S.appendPoints(_.points),S.points.length>0&&(S.status="Intersection"),S}}(e),function(f){var n=f.fabric||(f.fabric={});if(n.Color){n.warn("fabric.Color is already defined.");return}function c(i){i?this._tryParsingColor(i):this.setSource([0,0,0,1])}n.Color=c,n.Color.prototype={_tryParsingColor:function(i){var o;i in c.colorNameMap&&(i=c.colorNameMap[i]),i==="transparent"&&(o=[255,255,255,0]),o||(o=c.sourceFromHex(i)),o||(o=c.sourceFromRgb(i)),o||(o=c.sourceFromHsl(i)),o||(o=[0,0,0,1]),o&&this.setSource(o)},_rgbToHsl:function(i,o,a){i/=255,o/=255,a/=255;var u,d,l,g=n.util.array.max([i,o,a]),m=n.util.array.min([i,o,a]);if(l=(g+m)/2,g===m)u=d=0;else{var y=g-m;switch(d=l>.5?y/(2-g-m):y/(g+m),g){case i:u=(o-a)/y+(o<a?6:0);break;case o:u=(a-i)/y+2;break;case a:u=(i-o)/y+4;break}u/=6}return[Math.round(u*360),Math.round(d*100),Math.round(l*100)]},getSource:function(){return this._source},setSource:function(i){this._source=i},toRgb:function(){var i=this.getSource();return"rgb("+i[0]+","+i[1]+","+i[2]+")"},toRgba:function(){var i=this.getSource();return"rgba("+i[0]+","+i[1]+","+i[2]+","+i[3]+")"},toHsl:function(){var i=this.getSource(),o=this._rgbToHsl(i[0],i[1],i[2]);return"hsl("+o[0]+","+o[1]+"%,"+o[2]+"%)"},toHsla:function(){var i=this.getSource(),o=this._rgbToHsl(i[0],i[1],i[2]);return"hsla("+o[0]+","+o[1]+"%,"+o[2]+"%,"+i[3]+")"},toHex:function(){var i=this.getSource(),o,a,u;return o=i[0].toString(16),o=o.length===1?"0"+o:o,a=i[1].toString(16),a=a.length===1?"0"+a:a,u=i[2].toString(16),u=u.length===1?"0"+u:u,o.toUpperCase()+a.toUpperCase()+u.toUpperCase()},toHexa:function(){var i=this.getSource(),o;return o=Math.round(i[3]*255),o=o.toString(16),o=o.length===1?"0"+o:o,this.toHex()+o.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(i){var o=this.getSource();return o[3]=i,this.setSource(o),this},toGrayscale:function(){var i=this.getSource(),o=parseInt((i[0]*.3+i[1]*.59+i[2]*.11).toFixed(0),10),a=i[3];return this.setSource([o,o,o,a]),this},toBlackWhite:function(i){var o=this.getSource(),a=(o[0]*.3+o[1]*.59+o[2]*.11).toFixed(0),u=o[3];return i=i||127,a=Number(a)<Number(i)?0:255,this.setSource([a,a,a,u]),this},overlayWith:function(i){i instanceof c||(i=new c(i));var o=[],a=this.getAlpha(),u=.5,d=this.getSource(),l=i.getSource(),g;for(g=0;g<3;g++)o.push(Math.round(d[g]*(1-u)+l[g]*u));return o[3]=a,this.setSource(o),this}},n.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,n.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,n.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,n.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function h(i,o,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?i+(o-i)*6*a:a<1/2?o:a<2/3?i+(o-i)*(2/3-a)*6:i}n.Color.fromRgb=function(i){return c.fromSource(c.sourceFromRgb(i))},n.Color.sourceFromRgb=function(i){var o=i.match(c.reRGBa);if(o){var a=parseInt(o[1],10)/(/%$/.test(o[1])?100:1)*(/%$/.test(o[1])?255:1),u=parseInt(o[2],10)/(/%$/.test(o[2])?100:1)*(/%$/.test(o[2])?255:1),d=parseInt(o[3],10)/(/%$/.test(o[3])?100:1)*(/%$/.test(o[3])?255:1);return[parseInt(a,10),parseInt(u,10),parseInt(d,10),o[4]?parseFloat(o[4]):1]}},n.Color.fromRgba=c.fromRgb,n.Color.fromHsl=function(i){return c.fromSource(c.sourceFromHsl(i))},n.Color.sourceFromHsl=function(i){var o=i.match(c.reHSLa);if(o){var a=(parseFloat(o[1])%360+360)%360/360,u=parseFloat(o[2])/(/%$/.test(o[2])?100:1),d=parseFloat(o[3])/(/%$/.test(o[3])?100:1),l,g,m;if(u===0)l=g=m=d;else{var y=d<=.5?d*(u+1):d+u-d*u,_=d*2-y;l=h(_,y,a+1/3),g=h(_,y,a),m=h(_,y,a-1/3)}return[Math.round(l*255),Math.round(g*255),Math.round(m*255),o[4]?parseFloat(o[4]):1]}},n.Color.fromHsla=c.fromHsl,n.Color.fromHex=function(i){return c.fromSource(c.sourceFromHex(i))},n.Color.sourceFromHex=function(i){if(i.match(c.reHex)){var o=i.slice(i.indexOf("#")+1),a=o.length===3||o.length===4,u=o.length===8||o.length===4,d=a?o.charAt(0)+o.charAt(0):o.substring(0,2),l=a?o.charAt(1)+o.charAt(1):o.substring(2,4),g=a?o.charAt(2)+o.charAt(2):o.substring(4,6),m=u?a?o.charAt(3)+o.charAt(3):o.substring(6,8):"FF";return[parseInt(d,16),parseInt(l,16),parseInt(g,16),parseFloat((parseInt(m,16)/255).toFixed(2))]}},n.Color.fromSource=function(i){var o=new c;return o.setSource(i),o}}(e),function(f){var n=f.fabric||(f.fabric={}),c=["e","se","s","sw","w","nw","n","ne","e"],h=["ns","nesw","ew","nwse"],i={},o="left",a="top",u="right",d="bottom",l="center",g={top:d,bottom:a,left:u,right:o,center:l},m=n.util.radiansToDegrees,y=Math.sign||function(ie){return(ie>0)-(ie<0)||+ie};function _(ie,X){var ue=ie.angle+m(Math.atan2(X.y,X.x))+360;return Math.round(ue%360/45)}function S(ie,X){var ue=X.transform.target,de=ue.canvas,te=n.util.object.clone(X);te.target=ue,de&&de.fire("object:"+ie,te),ue.fire(ie,X)}function T(ie,X){var ue=X.canvas,de=ue.uniScaleKey,te=ie[de];return ue.uniformScaling&&!te||!ue.uniformScaling&&te}function A(ie){return ie.originX===l&&ie.originY===l}function N(ie,X,ue){var de=ie.lockScalingX,te=ie.lockScalingY;return!!(de&&te||!X&&(de||te)&&ue||de&&X==="x"||te&&X==="y")}function Q(ie,X,ue){var de="not-allowed",te=T(ie,ue),pe="";if(X.x!==0&&X.y===0?pe="x":X.x===0&&X.y!==0&&(pe="y"),N(ue,pe,te))return de;var Pe=_(ue,X);return c[Pe]+"-resize"}function re(ie,X,ue){var de="not-allowed";if(X.x!==0&&ue.lockSkewingY||X.y!==0&&ue.lockSkewingX)return de;var te=_(ue,X)%4;return h[te]+"-resize"}function ve(ie,X,ue){return ie[ue.canvas.altActionKey]?i.skewCursorStyleHandler(ie,X,ue):i.scaleCursorStyleHandler(ie,X,ue)}function we(ie,X,ue){var de=ie[ue.canvas.altActionKey];if(X.x===0)return de?"skewX":"scaleY";if(X.y===0)return de?"skewY":"scaleX"}function Te(ie,X,ue){return ue.lockRotation?"not-allowed":X.cursorStyle}function Ce(ie,X,ue,de){return{e:ie,transform:X,pointer:{x:ue,y:de}}}function xe(ie){return function(X,ue,de,te){var pe=ue.target,Pe=pe.getCenterPoint(),Ue=pe.translateToOriginPoint(Pe,ue.originX,ue.originY),$e=ie(X,ue,de,te);return pe.setPositionByOrigin(Ue,ue.originX,ue.originY),$e}}function Oe(ie,X){return function(ue,de,te,pe){var Pe=X(ue,de,te,pe);return Pe&&S(ie,Ce(ue,de,te,pe)),Pe}}function me(ie,X,ue,de,te){var pe=ie.target,Pe=pe.controls[ie.corner],Ue=pe.canvas.getZoom(),$e=pe.padding/Ue,ge=pe.toLocalPoint(new n.Point(de,te),X,ue);return ge.x>=$e&&(ge.x-=$e),ge.x<=-$e&&(ge.x+=$e),ge.y>=$e&&(ge.y-=$e),ge.y<=$e&&(ge.y+=$e),ge.x-=Pe.offsetX,ge.y-=Pe.offsetY,ge}function ee(ie){return ie.flipX!==ie.flipY}function O(ie,X,ue,de,te){if(ie[X]!==0){var pe=ie._getTransformedDimensions()[de],Pe=te/pe*ie[ue];ie.set(ue,Pe)}}function j(ie,X,ue,de){var te=X.target,pe=te._getTransformedDimensions(0,te.skewY),Pe=me(X,X.originX,X.originY,ue,de),Ue=Math.abs(Pe.x*2)-pe.x,$e=te.skewX,ge;Ue<2?ge=0:(ge=m(Math.atan2(Ue/te.scaleX,pe.y/te.scaleY)),X.originX===o&&X.originY===d&&(ge=-ge),X.originX===u&&X.originY===a&&(ge=-ge),ee(te)&&(ge=-ge));var je=$e!==ge;if(je){var Ae=te._getTransformedDimensions().y;te.set("skewX",ge),O(te,"skewY","scaleY","y",Ae)}return je}function z(ie,X,ue,de){var te=X.target,pe=te._getTransformedDimensions(te.skewX,0),Pe=me(X,X.originX,X.originY,ue,de),Ue=Math.abs(Pe.y*2)-pe.y,$e=te.skewY,ge;Ue<2?ge=0:(ge=m(Math.atan2(Ue/te.scaleY,pe.x/te.scaleX)),X.originX===o&&X.originY===d&&(ge=-ge),X.originX===u&&X.originY===a&&(ge=-ge),ee(te)&&(ge=-ge));var je=$e!==ge;if(je){var Ae=te._getTransformedDimensions().x;te.set("skewY",ge),O(te,"skewX","scaleX","x",Ae)}return je}function F(ie,X,ue,de){var te=X.target,pe=te.skewX,Pe,Ue=X.originY;if(te.lockSkewingX)return!1;if(pe===0){var $e=me(X,l,l,ue,de);$e.x>0?Pe=o:Pe=u}else pe>0&&(Pe=Ue===a?o:u),pe<0&&(Pe=Ue===a?u:o),ee(te)&&(Pe=Pe===o?u:o);X.originX=Pe;var ge=Oe("skewing",xe(j));return ge(ie,X,ue,de)}function U(ie,X,ue,de){var te=X.target,pe=te.skewY,Pe,Ue=X.originX;if(te.lockSkewingY)return!1;if(pe===0){var $e=me(X,l,l,ue,de);$e.y>0?Pe=a:Pe=d}else pe>0&&(Pe=Ue===o?a:d),pe<0&&(Pe=Ue===o?d:a),ee(te)&&(Pe=Pe===a?d:a);X.originY=Pe;var ge=Oe("skewing",xe(z));return ge(ie,X,ue,de)}function L(ie,X,ue,de){var te=X,pe=te.target,Pe=pe.translateToOriginPoint(pe.getCenterPoint(),te.originX,te.originY);if(pe.lockRotation)return!1;var Ue=Math.atan2(te.ey-Pe.y,te.ex-Pe.x),$e=Math.atan2(de-Pe.y,ue-Pe.x),ge=m($e-Ue+te.theta),je=!0;if(pe.snapAngle>0){var Ae=pe.snapAngle,Re=pe.snapThreshold||Ae,ft=Math.ceil(ge/Ae)*Ae,ht=Math.floor(ge/Ae)*Ae;Math.abs(ge-ht)<Re?ge=ht:Math.abs(ge-ft)<Re&&(ge=ft)}return ge<0&&(ge=360+ge),ge%=360,je=pe.angle!==ge,pe.angle=ge,je}function k(ie,X,ue,de,te){te=te||{};var pe=X.target,Pe=pe.lockScalingX,Ue=pe.lockScalingY,$e=te.by,ge,je,Ae,Re,ft=T(ie,pe),ht=N(pe,$e,ft),Dt,Ht,rn=X.gestureScale;if(ht)return!1;if(rn)je=X.scaleX*rn,Ae=X.scaleY*rn;else{if(ge=me(X,X.originX,X.originY,ue,de),Dt=$e!=="y"?y(ge.x):1,Ht=$e!=="x"?y(ge.y):1,X.signX||(X.signX=Dt),X.signY||(X.signY=Ht),pe.lockScalingFlip&&(X.signX!==Dt||X.signY!==Ht))return!1;if(Re=pe._getTransformedDimensions(),ft&&!$e){var fn=Math.abs(ge.x)+Math.abs(ge.y),Tr=X.original,In=Math.abs(Re.x*Tr.scaleX/pe.scaleX)+Math.abs(Re.y*Tr.scaleY/pe.scaleY),hn=fn/In;je=Tr.scaleX*hn,Ae=Tr.scaleY*hn}else je=Math.abs(ge.x*pe.scaleX/Re.x),Ae=Math.abs(ge.y*pe.scaleY/Re.y);A(X)&&(je*=2,Ae*=2),X.signX!==Dt&&$e!=="y"&&(X.originX=g[X.originX],je*=-1,X.signX=Dt),X.signY!==Ht&&$e!=="x"&&(X.originY=g[X.originY],Ae*=-1,X.signY=Ht)}var kn=pe.scaleX,Nn=pe.scaleY;return $e?($e==="x"&&pe.set("scaleX",je),$e==="y"&&pe.set("scaleY",Ae)):(!Pe&&pe.set("scaleX",je),!Ue&&pe.set("scaleY",Ae)),kn!==pe.scaleX||Nn!==pe.scaleY}function D(ie,X,ue,de){return k(ie,X,ue,de)}function K(ie,X,ue,de){return k(ie,X,ue,de,{by:"x"})}function G(ie,X,ue,de){return k(ie,X,ue,de,{by:"y"})}function Z(ie,X,ue,de){return ie[X.target.canvas.altActionKey]?i.skewHandlerX(ie,X,ue,de):i.scalingY(ie,X,ue,de)}function le(ie,X,ue,de){return ie[X.target.canvas.altActionKey]?i.skewHandlerY(ie,X,ue,de):i.scalingX(ie,X,ue,de)}function ne(ie,X,ue,de){var te=X.target,pe=me(X,X.originX,X.originY,ue,de),Pe=te.strokeWidth/(te.strokeUniform?te.scaleX:1),Ue=A(X)?2:1,$e=te.width,ge=Math.abs(pe.x*Ue/te.scaleX)-Pe;return te.set("width",Math.max(ge,0)),$e!==ge}function he(ie,X,ue,de){var te=X.target,pe=ue-X.offsetX,Pe=de-X.offsetY,Ue=!te.get("lockMovementX")&&te.left!==pe,$e=!te.get("lockMovementY")&&te.top!==Pe;return Ue&&te.set("left",pe),$e&&te.set("top",Pe),(Ue||$e)&&S("moving",Ce(ie,X,ue,de)),Ue||$e}i.scaleCursorStyleHandler=Q,i.skewCursorStyleHandler=re,i.scaleSkewCursorStyleHandler=ve,i.rotationWithSnapping=Oe("rotating",xe(L)),i.scalingEqually=Oe("scaling",xe(D)),i.scalingX=Oe("scaling",xe(K)),i.scalingY=Oe("scaling",xe(G)),i.scalingYOrSkewingX=Z,i.scalingXOrSkewingY=le,i.changeWidth=Oe("resizing",xe(ne)),i.skewHandlerX=F,i.skewHandlerY=U,i.dragHandler=he,i.scaleOrSkewActionName=we,i.rotationStyleHandler=Te,i.fireEvent=S,i.wrapWithFixedAnchor=xe,i.wrapWithFireEvent=Oe,i.getLocalPoint=me,n.controlsUtils=i}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.util.degreesToRadians,h=n.controlsUtils;function i(a,u,d,l,g){l=l||{};var m=this.sizeX||l.cornerSize||g.cornerSize,y=this.sizeY||l.cornerSize||g.cornerSize,_=typeof l.transparentCorners<"u"?l.transparentCorners:g.transparentCorners,S=_?"stroke":"fill",T=!_&&(l.cornerStrokeColor||g.cornerStrokeColor),A=u,N=d,Q;a.save(),a.fillStyle=l.cornerColor||g.cornerColor,a.strokeStyle=l.cornerStrokeColor||g.cornerStrokeColor,m>y?(Q=m,a.scale(1,y/m),N=d*m/y):y>m?(Q=y,a.scale(m/y,1),A=u*y/m):Q=m,a.lineWidth=1,a.beginPath(),a.arc(A,N,Q/2,0,2*Math.PI,!1),a[S](),T&&a.stroke(),a.restore()}function o(a,u,d,l,g){l=l||{};var m=this.sizeX||l.cornerSize||g.cornerSize,y=this.sizeY||l.cornerSize||g.cornerSize,_=typeof l.transparentCorners<"u"?l.transparentCorners:g.transparentCorners,S=_?"stroke":"fill",T=!_&&(l.cornerStrokeColor||g.cornerStrokeColor),A=m/2,N=y/2;a.save(),a.fillStyle=l.cornerColor||g.cornerColor,a.strokeStyle=l.cornerStrokeColor||g.cornerStrokeColor,a.lineWidth=1,a.translate(u,d),a.rotate(c(g.angle)),a[S+"Rect"](-A,-N,m,y),T&&a.strokeRect(-A,-N,m,y),a.restore()}h.renderCircleControl=i,h.renderSquareControl=o}(e),function(f){var n=f.fabric||(f.fabric={});function c(h){for(var i in h)this[i]=h[i]}n.Control=c,n.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(h,i){return i.cursorStyle},getActionName:function(h,i){return i.actionName},getVisibility:function(h,i){var o=h._controlsVisibility;return o&&typeof o[i]<"u"?o[i]:this.visible},setVisibility:function(h){this.visible=h},positionHandler:function(h,i){var o=n.util.transformPoint({x:this.x*h.x+this.offsetX,y:this.y*h.y+this.offsetY},i);return o},calcCornerCoords:function(h,i,o,a,u){var d,l,g,m,y=u?this.touchSizeX:this.sizeX,_=u?this.touchSizeY:this.sizeY;if(y&&_&&y!==_){var S=Math.atan2(_,y),T=Math.sqrt(y*y+_*_)/2,A=S-n.util.degreesToRadians(h),N=Math.PI/2-S-n.util.degreesToRadians(h);d=T*n.util.cos(A),l=T*n.util.sin(A),g=T*n.util.cos(N),m=T*n.util.sin(N)}else{var Q=y&&_?y:i;T=Q*.7071067812;var A=n.util.degreesToRadians(45-h);d=g=T*n.util.cos(A),l=m=T*n.util.sin(A)}return{tl:{x:o-m,y:a-g},tr:{x:o+d,y:a-l},bl:{x:o-d,y:a+l},br:{x:o+m,y:a+g}}},render:function(h,i,o,a,u){switch(a=a||{},a.cornerStyle||u.cornerStyle){case"circle":n.controlsUtils.renderCircleControl.call(this,h,i,o,a,u);break;default:n.controlsUtils.renderSquareControl.call(this,h,i,o,a,u)}}}}(e),function(){function f(o,a){var u=o.getAttribute("style"),d=o.getAttribute("offset")||0,l,g,m,y;if(d=parseFloat(d)/(/%$/.test(d)?100:1),d=d<0?0:d>1?1:d,u){var _=u.split(/\s*;\s*/);for(_[_.length-1]===""&&_.pop(),y=_.length;y--;){var S=_[y].split(/\s*:\s*/),T=S[0].trim(),A=S[1].trim();T==="stop-color"?l=A:T==="stop-opacity"&&(m=A)}}return l||(l=o.getAttribute("stop-color")||"rgb(0,0,0)"),m||(m=o.getAttribute("stop-opacity")),l=new t.Color(l),g=l.getAlpha(),m=isNaN(parseFloat(m))?1:parseFloat(m),m*=g*a,{offset:d,color:l.toRgb(),opacity:m}}function n(o){return{x1:o.getAttribute("x1")||0,y1:o.getAttribute("y1")||0,x2:o.getAttribute("x2")||"100%",y2:o.getAttribute("y2")||0}}function c(o){return{x1:o.getAttribute("fx")||o.getAttribute("cx")||"50%",y1:o.getAttribute("fy")||o.getAttribute("cy")||"50%",r1:0,x2:o.getAttribute("cx")||"50%",y2:o.getAttribute("cy")||"50%",r2:o.getAttribute("r")||"50%"}}var h=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(o){o||(o={}),o.coords||(o.coords={});var a,u=this;Object.keys(o).forEach(function(d){u[d]=o[d]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,a={x1:o.coords.x1||0,y1:o.coords.y1||0,x2:o.coords.x2||0,y2:o.coords.y2||0},this.type==="radial"&&(a.r1=o.coords.r1||0,a.r2=o.coords.r2||0),this.coords=a,this.colorStops=o.colorStops.slice()},addColorStop:function(o){for(var a in o){var u=new t.Color(o[a]);this.colorStops.push({offset:parseFloat(a),color:u.toRgb(),opacity:u.getAlpha()})}return this},toObject:function(o){var a={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,a,o),a},toSVG:function(o,g){var u=h(this.coords,!0),d,l,g=g||{},m,y,_=h(this.colorStops,!0),S=u.r1>u.r2,T=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),A=-this.offsetX,N=-this.offsetY,Q=!!g.additionalTransform,re=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(_.sort(function(xe,Oe){return xe.offset-Oe.offset}),re==="objectBoundingBox"?(A/=o.width,N/=o.height):(A+=o.width/2,N+=o.height/2),o.type==="path"&&this.gradientUnits!=="percentage"&&(A-=o.pathOffset.x,N-=o.pathOffset.y),T[4]-=A,T[5]-=N,y='id="SVGID_'+this.id+'" gradientUnits="'+re+'"',y+=' gradientTransform="'+(Q?g.additionalTransform+" ":"")+t.util.matrixToSVG(T)+'" ',this.type==="linear"?m=["<linearGradient ",y,' x1="',u.x1,'" y1="',u.y1,'" x2="',u.x2,'" y2="',u.y2,`">
`]:this.type==="radial"&&(m=["<radialGradient ",y,' cx="',S?u.x1:u.x2,'" cy="',S?u.y1:u.y2,'" r="',S?u.r1:u.r2,'" fx="',S?u.x2:u.x1,'" fy="',S?u.y2:u.y1,`">
`]),this.type==="radial"){if(S)for(_=_.concat(),_.reverse(),d=0,l=_.length;d<l;d++)_[d].offset=1-_[d].offset;var ve=Math.min(u.r1,u.r2);if(ve>0){var we=Math.max(u.r1,u.r2),Te=ve/we;for(d=0,l=_.length;d<l;d++)_[d].offset+=Te*(1-_[d].offset)}}for(d=0,l=_.length;d<l;d++){var Ce=_[d];m.push("<stop ",'offset="',Ce.offset*100+"%",'" style="stop-color:',Ce.color,typeof Ce.opacity<"u"?";stop-opacity: "+Ce.opacity:";",`"/>
`)}return m.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),m.join("")},toLive:function(o){var a,u=t.util.object.clone(this.coords),d,l;if(this.type){for(this.type==="linear"?a=o.createLinearGradient(u.x1,u.y1,u.x2,u.y2):this.type==="radial"&&(a=o.createRadialGradient(u.x1,u.y1,u.r1,u.x2,u.y2,u.r2)),d=0,l=this.colorStops.length;d<l;d++){var g=this.colorStops[d].color,m=this.colorStops[d].opacity,y=this.colorStops[d].offset;typeof m<"u"&&(g=new t.Color(g).setAlpha(m).toRgba()),a.addColorStop(y,g)}return a}}}),t.util.object.extend(t.Gradient,{fromElement:function(o,a,u,d){var l=parseFloat(u)/(/%$/.test(u)?100:1);l=l<0?0:l>1?1:l,isNaN(l)&&(l=1);var g=o.getElementsByTagName("stop"),m,y=o.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",_=o.getAttribute("gradientTransform")||"",S=[],T,A,N=0,Q=0,re;for(o.nodeName==="linearGradient"||o.nodeName==="LINEARGRADIENT"?(m="linear",T=n(o)):(m="radial",T=c(o)),A=g.length;A--;)S.push(f(g[A],l));re=t.parseTransformAttribute(_),i(a,T,d,y),y==="pixels"&&(N=-a.left,Q=-a.top);var ve=new t.Gradient({id:o.getAttribute("id"),type:m,coords:T,colorStops:S,gradientUnits:y,gradientTransform:re,offsetX:N,offsetY:Q});return ve}});function i(o,a,u,d){var l,g;Object.keys(a).forEach(function(m){l=a[m],l==="Infinity"?g=1:l==="-Infinity"?g=0:(g=parseFloat(a[m],10),typeof l=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(l)&&(g*=.01,d==="pixels"&&((m==="x1"||m==="x2"||m==="r2")&&(g*=u.viewBoxWidth||u.width),(m==="y1"||m==="y2")&&(g*=u.viewBoxHeight||u.height)))),a[m]=g})}}(),function(){var f=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(n,c){if(n||(n={}),this.id=t.Object.__uid++,this.setOptions(n),!n.source||n.source&&typeof n.source!="string"){c&&c(this);return}else{var h=this;this.source=t.util.createImage(),t.util.loadImage(n.source,function(i,o){h.source=i,c&&c(h,o)},null,this.crossOrigin)}},toObject:function(n){var c=t.Object.NUM_FRACTION_DIGITS,h,i;return typeof this.source.src=="string"?h=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(h=this.source.toDataURL()),i={type:"pattern",source:h,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:f(this.offsetX,c),offsetY:f(this.offsetY,c),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,i,n),i},toSVG:function(n){var c=typeof this.source=="function"?this.source():this.source,h=c.width/n.width,i=c.height/n.height,o=this.offsetX/n.width,a=this.offsetY/n.height,u="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(i=1,a&&(i+=Math.abs(a))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(h=1,o&&(h+=Math.abs(o))),c.src?u=c.src:c.toDataURL&&(u=c.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+o+'" y="'+a+'" width="'+h+'" height="'+i+`">
<image x="0" y="0" width="`+c.width+'" height="'+c.height+'" xlink:href="'+u+`"></image>
</pattern>
`},setOptions:function(n){for(var c in n)this[c]=n[c]},toLive:function(n){var c=this.source;return!c||typeof c.src<"u"&&(!c.complete||c.naturalWidth===0||c.naturalHeight===0)?"":n.createPattern(c,this.repeat)}})}(),function(f){var n=f.fabric||(f.fabric={}),c=n.util.toFixed;if(n.Shadow){n.warn("fabric.Shadow is already defined.");return}n.Shadow=n.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(h){typeof h=="string"&&(h=this._parseShadow(h));for(var i in h)this[i]=h[i];this.id=n.Object.__uid++},_parseShadow:function(h){var i=h.trim(),o=n.Shadow.reOffsetsAndBlur.exec(i)||[],a=i.replace(n.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:a.trim(),offsetX:parseFloat(o[1],10)||0,offsetY:parseFloat(o[2],10)||0,blur:parseFloat(o[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(h){var i=40,o=40,a=n.Object.NUM_FRACTION_DIGITS,u=n.util.rotateVector({x:this.offsetX,y:this.offsetY},n.util.degreesToRadians(-h.angle)),d=20,l=new n.Color(this.color);return h.width&&h.height&&(i=c((Math.abs(u.x)+this.blur)/h.width,a)*100+d,o=c((Math.abs(u.y)+this.blur)/h.height,a)*100+d),h.flipX&&(u.x*=-1),h.flipY&&(u.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+o+'%" height="'+(100+2*o)+'%" x="-'+i+'%" width="'+(100+2*i)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+c(this.blur?this.blur/2:0,a)+`"></feGaussianBlur>
	<feOffset dx="`+c(u.x,a)+'" dy="'+c(u.y,a)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+l.toRgb()+'" flood-opacity="'+l.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var h={},i=n.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(o){this[o]!==i[o]&&(h[o]=this[o])},this),h}}),n.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var f=t.util.object.extend,n=t.util.getElementOffset,c=t.util.removeFromArray,h=t.util.toFixed,i=t.util.transformPoint,o=t.util.invertTransform,a=t.util.getNodeCanvas,u=t.util.createCanvasElement,d=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(l,g){g||(g={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(l,g)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(l,g){var m=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(l),this._initOptions(g),this.interactive||this._initRetinaScaling(),g.overlayImage&&this.setOverlayImage(g.overlayImage,m),g.backgroundImage&&this.setBackgroundImage(g.backgroundImage,m),g.backgroundColor&&this.setBackgroundColor(g.backgroundColor,m),g.overlayColor&&this.setOverlayColor(g.overlayColor,m),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var l=t.devicePixelRatio;this.__initRetinaScaling(l,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(l,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(l,g,m){g.setAttribute("width",this.width*l),g.setAttribute("height",this.height*l),m.scale(l,l)},calcOffset:function(){return this._offset=n(this.lowerCanvasEl),this},setOverlayImage:function(l,g,m){return this.__setBgOverlayImage("overlayImage",l,g,m)},setBackgroundImage:function(l,g,m){return this.__setBgOverlayImage("backgroundImage",l,g,m)},setOverlayColor:function(l,g){return this.__setBgOverlayColor("overlayColor",l,g)},setBackgroundColor:function(l,g){return this.__setBgOverlayColor("backgroundColor",l,g)},__setBgOverlayImage:function(l,g,m,y){return typeof g=="string"?t.util.loadImage(g,function(_,S){if(_){var T=new t.Image(_,y);this[l]=T,T.canvas=this}m&&m(_,S)},this,y&&y.crossOrigin):(y&&g.setOptions(y),this[l]=g,g&&(g.canvas=this),m&&m(g,!1)),this},__setBgOverlayColor:function(l,g,m){return this[l]=g,this._initGradient(g,l),this._initPattern(g,l,m),this},_createCanvasElement:function(){var l=u();if(!l||(l.style||(l.style={}),typeof l.getContext>"u"))throw d;return l},_initOptions:function(l){var g=this.lowerCanvasEl;this._setOptions(l),this.width=this.width||parseInt(g.width,10)||0,this.height=this.height||parseInt(g.height,10)||0,this.lowerCanvasEl.style&&(g.width=this.width,g.height=this.height,g.style.width=this.width+"px",g.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(l){l&&l.getContext?this.lowerCanvasEl=l:this.lowerCanvasEl=t.util.getById(l)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(l,g){return this.setDimensions({width:l},g)},setHeight:function(l,g){return this.setDimensions({height:l},g)},setDimensions:function(l,g){var m;g=g||{};for(var y in l)m=l[y],g.cssOnly||(this._setBackstoreDimension(y,l[y]),m+="px",this.hasLostContext=!0),g.backstoreOnly||this._setCssDimension(y,m);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),g.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(l,g){return this.lowerCanvasEl[l]=g,this.upperCanvasEl&&(this.upperCanvasEl[l]=g),this.cacheCanvasEl&&(this.cacheCanvasEl[l]=g),this[l]=g,this},_setCssDimension:function(l,g){return this.lowerCanvasEl.style[l]=g,this.upperCanvasEl&&(this.upperCanvasEl.style[l]=g),this.wrapperEl&&(this.wrapperEl.style[l]=g),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(l){var g=this._activeObject,m=this.backgroundImage,y=this.overlayImage,_,S,T;for(this.viewportTransform=l,S=0,T=this._objects.length;S<T;S++)_=this._objects[S],_.group||_.setCoords(!0);return g&&g.setCoords(),m&&m.setCoords(!0),y&&y.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(l,g){var m=l,y=this.viewportTransform.slice(0);l=i(l,o(this.viewportTransform)),y[0]=g,y[3]=g;var _=i(l,y);return y[4]+=m.x-_.x,y[5]+=m.y-_.y,this.setViewportTransform(y)},setZoom:function(l){return this.zoomToPoint(new t.Point(0,0),l),this},absolutePan:function(l){var g=this.viewportTransform.slice(0);return g[4]=-l.x,g[5]=-l.y,this.setViewportTransform(g)},relativePan:function(l){return this.absolutePan(new t.Point(-l.x-this.viewportTransform[4],-l.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(l){this.stateful&&l.setupState(),l._set("canvas",this),l.setCoords(),this.fire("object:added",{target:l}),l.fire("added")},_onObjectRemoved:function(l){this.fire("object:removed",{target:l}),l.fire("removed"),delete l.canvas},clearContext:function(l){return l.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var l=this.contextContainer;return this.renderCanvas(l,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var l={},g=this.width,m=this.height,y=o(this.viewportTransform);return l.tl=i({x:0,y:0},y),l.br=i({x:g,y:m},y),l.tr=new t.Point(l.br.x,l.tl.y),l.bl=new t.Point(l.tl.x,l.br.y),this.vptCoords=l,l},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(l,g){var m=this.viewportTransform,y=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(l),t.util.setImageSmoothing(l,this.imageSmoothingEnabled),this.fire("before:render",{ctx:l}),this._renderBackground(l),l.save(),l.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._renderObjects(l,g),l.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(l),y&&(y.canvas=this,y.shouldCache(),y._transformDone=!0,y.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(l)),this._renderOverlay(l),this.controlsAboveOverlay&&this.interactive&&this.drawControls(l),this.fire("after:render",{ctx:l})},drawClipPathOnCanvas:function(l){var g=this.viewportTransform,m=this.clipPath;l.save(),l.transform(g[0],g[1],g[2],g[3],g[4],g[5]),l.globalCompositeOperation="destination-in",m.transform(l),l.scale(1/m.zoomX,1/m.zoomY),l.drawImage(m._cacheCanvas,-m.cacheTranslationX,-m.cacheTranslationY),l.restore()},_renderObjects:function(l,g){var m,y;for(m=0,y=g.length;m<y;++m)g[m]&&g[m].render(l)},_renderBackgroundOrOverlay:function(l,g){var m=this[g+"Color"],y=this[g+"Image"],_=this.viewportTransform,S=this[g+"Vpt"];if(!(!m&&!y)){if(m){l.save(),l.beginPath(),l.moveTo(0,0),l.lineTo(this.width,0),l.lineTo(this.width,this.height),l.lineTo(0,this.height),l.closePath(),l.fillStyle=m.toLive?m.toLive(l,this):m,S&&l.transform(_[0],_[1],_[2],_[3],_[4],_[5]),l.transform(1,0,0,1,m.offsetX||0,m.offsetY||0);var T=m.gradientTransform||m.patternTransform;T&&l.transform(T[0],T[1],T[2],T[3],T[4],T[5]),l.fill(),l.restore()}y&&(l.save(),S&&l.transform(_[0],_[1],_[2],_[3],_[4],_[5]),y.render(l),l.restore())}},_renderBackground:function(l){this._renderBackgroundOrOverlay(l,"background")},_renderOverlay:function(l){this._renderBackgroundOrOverlay(l,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(l){return this._centerObject(l,new t.Point(this.getCenterPoint().x,l.getCenterPoint().y))},centerObjectV:function(l){return this._centerObject(l,new t.Point(l.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(l){var g=this.getCenterPoint();return this._centerObject(l,g)},viewportCenterObject:function(l){var g=this.getVpCenter();return this._centerObject(l,g)},viewportCenterObjectH:function(l){var g=this.getVpCenter();return this._centerObject(l,new t.Point(g.x,l.getCenterPoint().y)),this},viewportCenterObjectV:function(l){var g=this.getVpCenter();return this._centerObject(l,new t.Point(l.getCenterPoint().x,g.y))},getVpCenter:function(){var l=this.getCenterPoint(),g=o(this.viewportTransform);return i(l,g)},_centerObject:function(l,g){return l.setPositionByOrigin(g,"center","center"),l.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(l){return this.toDatalessObject(l)},toObject:function(l){return this._toObjectMethod("toObject",l)},toDatalessObject:function(l){return this._toObjectMethod("toDatalessObject",l)},_toObjectMethod:function(l,g){var m=this.clipPath,y={version:t.version,objects:this._toObjects(l,g)};return m&&!m.excludeFromExport&&(y.clipPath=this._toObject(this.clipPath,l,g)),f(y,this.__serializeBgOverlay(l,g)),t.util.populateWithProperties(this,y,g),y},_toObjects:function(l,g){return this._objects.filter(function(m){return!m.excludeFromExport}).map(function(m){return this._toObject(m,l,g)},this)},_toObject:function(l,g,m){var y;this.includeDefaultValues||(y=l.includeDefaultValues,l.includeDefaultValues=!1);var _=l[g](m);return this.includeDefaultValues||(l.includeDefaultValues=y),_},__serializeBgOverlay:function(l,g){var m={},y=this.backgroundImage,_=this.overlayImage,S=this.backgroundColor,T=this.overlayColor;return S&&S.toObject?S.excludeFromExport||(m.background=S.toObject(g)):S&&(m.background=S),T&&T.toObject?T.excludeFromExport||(m.overlay=T.toObject(g)):T&&(m.overlay=T),y&&!y.excludeFromExport&&(m.backgroundImage=this._toObject(y,l,g)),_&&!_.excludeFromExport&&(m.overlayImage=this._toObject(_,l,g)),m},svgViewportTransformation:!0,toSVG:function(l,g){l||(l={}),l.reviver=g;var m=[];return this._setSVGPreamble(m,l),this._setSVGHeader(m,l),this.clipPath&&m.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(m,"background"),this._setSVGBgOverlayImage(m,"backgroundImage",g),this._setSVGObjects(m,g),this.clipPath&&m.push(`</g>
`),this._setSVGBgOverlayColor(m,"overlay"),this._setSVGBgOverlayImage(m,"overlayImage",g),m.push("</svg>"),m.join("")},_setSVGPreamble:function(l,g){g.suppressPreamble||l.push('<?xml version="1.0" encoding="',g.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(l,g){var m=g.width||this.width,y=g.height||this.height,_,S='viewBox="0 0 '+this.width+" "+this.height+'" ',T=t.Object.NUM_FRACTION_DIGITS;g.viewBox?S='viewBox="'+g.viewBox.x+" "+g.viewBox.y+" "+g.viewBox.width+" "+g.viewBox.height+'" ':this.svgViewportTransformation&&(_=this.viewportTransform,S='viewBox="'+h(-_[4]/_[0],T)+" "+h(-_[5]/_[3],T)+" "+h(this.width/_[0],T)+" "+h(this.height/_[3],T)+'" '),l.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',m,'" ','height="',y,'" ',S,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(g),`</defs>
`)},createSVGClipPathMarkup:function(l){var g=this.clipPath;return g?(g.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+g.clipPathId+`" >
`+this.clipPath.toClipPathSVG(l.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var l=this,g=["background","overlay"].map(function(m){var y=l[m+"Color"];if(y&&y.toLive){var _=l[m+"Vpt"],S=l.viewportTransform,T={width:l.width/(_?S[0]:1),height:l.height/(_?S[3]:1)};return y.toSVG(T,{additionalTransform:_?t.util.matrixToSVG(S):""})}});return g.join("")},createSVGFontFacesMarkup:function(){var l="",g={},m,y,_,S,T,A,N,Q,re,ve=t.fontPaths,we=[];for(this._objects.forEach(function Ce(xe){we.push(xe),xe._objects&&xe._objects.forEach(Ce)}),Q=0,re=we.length;Q<re;Q++)if(m=we[Q],y=m.fontFamily,!(m.type.indexOf("text")===-1||g[y]||!ve[y])&&(g[y]=!0,!!m.styles)){_=m.styles;for(T in _){S=_[T];for(N in S)A=S[N],y=A.fontFamily,!g[y]&&ve[y]&&(g[y]=!0)}}for(var Te in g)l+=[`		@font-face {
`,"			font-family: '",Te,`';
`,"			src: url('",ve[Te],`');
`,`		}
`].join("");return l&&(l=['	<style type="text/css">',`<![CDATA[
`,l,"]]>",`</style>
`].join("")),l},_setSVGObjects:function(l,g){var m,y,_,S=this._objects;for(y=0,_=S.length;y<_;y++)m=S[y],!m.excludeFromExport&&this._setSVGObject(l,m,g)},_setSVGObject:function(l,g,m){l.push(g.toSVG(m))},_setSVGBgOverlayImage:function(l,g,m){this[g]&&!this[g].excludeFromExport&&this[g].toSVG&&l.push(this[g].toSVG(m))},_setSVGBgOverlayColor:function(l,g){var m=this[g+"Color"],y=this.viewportTransform,_=this.width,S=this.height;if(m)if(m.toLive){var T=m.repeat,A=t.util.invertTransform(y),N=this[g+"Vpt"],Q=N?t.util.matrixToSVG(A):"";l.push('<rect transform="'+Q+" translate(",_/2,",",S/2,')"',' x="',m.offsetX-_/2,'" y="',m.offsetY-S/2,'" ','width="',T==="repeat-y"||T==="no-repeat"?m.source.width:_,'" height="',T==="repeat-x"||T==="no-repeat"?m.source.height:S,'" fill="url(#SVGID_'+m.id+')"',`></rect>
`)}else l.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',m,'"',`></rect>
`)},sendToBack:function(l){if(!l)return this;var g=this._activeObject,m,y,_;if(l===g&&l.type==="activeSelection")for(_=g._objects,m=_.length;m--;)y=_[m],c(this._objects,y),this._objects.unshift(y);else c(this._objects,l),this._objects.unshift(l);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(l){if(!l)return this;var g=this._activeObject,m,y,_;if(l===g&&l.type==="activeSelection")for(_=g._objects,m=0;m<_.length;m++)y=_[m],c(this._objects,y),this._objects.push(y);else c(this._objects,l),this._objects.push(l);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(l,g){if(!l)return this;var m=this._activeObject,y,_,S,T,A,N=0;if(l===m&&l.type==="activeSelection")for(A=m._objects,y=0;y<A.length;y++)_=A[y],S=this._objects.indexOf(_),S>0+N&&(T=S-1,c(this._objects,_),this._objects.splice(T,0,_)),N++;else S=this._objects.indexOf(l),S!==0&&(T=this._findNewLowerIndex(l,S,g),c(this._objects,l),this._objects.splice(T,0,l));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(l,g,m){var y,_;if(m)for(y=g,_=g-1;_>=0;--_){var S=l.intersectsWithObject(this._objects[_])||l.isContainedWithinObject(this._objects[_])||this._objects[_].isContainedWithinObject(l);if(S){y=_;break}}else y=g-1;return y},bringForward:function(l,g){if(!l)return this;var m=this._activeObject,y,_,S,T,A,N=0;if(l===m&&l.type==="activeSelection")for(A=m._objects,y=A.length;y--;)_=A[y],S=this._objects.indexOf(_),S<this._objects.length-1-N&&(T=S+1,c(this._objects,_),this._objects.splice(T,0,_)),N++;else S=this._objects.indexOf(l),S!==this._objects.length-1&&(T=this._findNewUpperIndex(l,S,g),c(this._objects,l),this._objects.splice(T,0,l));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(l,g,m){var y,_,S;if(m)for(y=g,_=g+1,S=this._objects.length;_<S;++_){var T=l.intersectsWithObject(this._objects[_])||l.isContainedWithinObject(this._objects[_])||this._objects[_].isContainedWithinObject(l);if(T){y=_;break}}else y=g+1;return y},moveTo:function(l,g){return c(this._objects,l),this._objects.splice(g,0,l),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(l){l.dispose&&l.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),f(t.StaticCanvas.prototype,t.Observable),f(t.StaticCanvas.prototype,t.Collection),f(t.StaticCanvas.prototype,t.DataURLExporter),f(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(l){var g=u();if(!g||!g.getContext)return null;var m=g.getContext("2d");if(!m)return null;switch(l){case"setLineDash":return typeof m.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var l=a(this.lowerCanvasEl);return l&&l.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(l){var g=a(this.lowerCanvasEl);return g&&g.createJPEGStream(l)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(f){f.strokeStyle=this.color,f.lineWidth=this.width,f.lineCap=this.strokeLineCap,f.miterLimit=this.strokeMiterLimit,f.lineJoin=this.strokeLineJoin,f.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(f){var n=this.canvas.viewportTransform;f.save(),f.transform(n[0],n[1],n[2],n[3],n[4],n[5])},_setShadow:function(){if(this.shadow){var f=this.canvas,n=this.shadow,c=f.contextTop,h=f.getZoom();f&&f._isRetinaScaling()&&(h*=t.devicePixelRatio),c.shadowColor=n.color,c.shadowBlur=n.blur*h,c.shadowOffsetX=n.offsetX*h,c.shadowOffsetY=n.offsetY*h}},needsFullRender:function(){var f=new t.Color(this.color);return f.getAlpha()<1||!!this.shadow},_resetShadow:function(){var f=this.canvas.contextTop;f.shadowColor="",f.shadowBlur=f.shadowOffsetX=f.shadowOffsetY=0},_isOutSideCanvas:function(f){return f.x<0||f.x>this.canvas.getWidth()||f.y<0||f.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(f){this.canvas=f,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(f,n,c){var h=n.midPointFrom(c);return f.quadraticCurveTo(n.x,n.y,h.x,h.y),h},onMouseDown:function(f,n){this.canvas._isMainEvent(n.e)&&(this.drawStraightLine=n.e[this.straightLineKey],this._prepareForDrawing(f),this._captureDrawingPath(f),this._render())},onMouseMove:function(f,n){if(this.canvas._isMainEvent(n.e)&&(this.drawStraightLine=n.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(f))&&this._captureDrawingPath(f)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var c=this._points,h=c.length,i=this.canvas.contextTop;this._saveAndTransform(i),this.oldEnd&&(i.beginPath(),i.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(i,c[h-2],c[h-1],!0),i.stroke(),i.restore()}},onMouseUp:function(f){return this.canvas._isMainEvent(f.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(f){var n=new t.Point(f.x,f.y);this._reset(),this._addPoint(n),this.canvas.contextTop.moveTo(n.x,n.y)},_addPoint:function(f){return this._points.length>1&&f.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(f),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(f){var n=new t.Point(f.x,f.y);return this._addPoint(n)},_render:function(f){var n,c,h=this._points[0],i=this._points[1];if(f=f||this.canvas.contextTop,this._saveAndTransform(f),f.beginPath(),this._points.length===2&&h.x===i.x&&h.y===i.y){var o=this.width/1e3;h=new t.Point(h.x,h.y),i=new t.Point(i.x,i.y),h.x-=o,i.x+=o}for(f.moveTo(h.x,h.y),n=1,c=this._points.length;n<c;n++)this._drawSegment(f,h,i),h=this._points[n],i=this._points[n+1];f.lineTo(h.x,h.y),f.stroke(),f.restore()},convertPointsToSVGPath:function(f){var n=this.width/1e3;return t.util.getSmoothPathFromPoints(f,n)},_isEmptySVGPath:function(f){var n=t.util.joinPath(f);return n==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(f){var n=new t.Path(f,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,n.shadow=new t.Shadow(this.shadow)),n},decimatePoints:function(f,n){if(f.length<=2)return f;var c=this.canvas.getZoom(),h=Math.pow(n/c,2),i,o=f.length-1,a=f[0],u=[a],d;for(i=1;i<o-1;i++)d=Math.pow(a.x-f[i].x,2)+Math.pow(a.y-f[i].y,2),d>=h&&(a=f[i],u.push(a));return u.push(f[o]),u},_finalizeAndAddPath:function(){var f=this.canvas.contextTop;f.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var n=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(n)){this.canvas.requestRenderAll();return}var c=this.createPath(n);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:c}),this.canvas.add(c),this.canvas.requestRenderAll(),c.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:c})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(f){this.canvas=f,this.points=[]},drawDot:function(f){var n=this.addPoint(f),c=this.canvas.contextTop;this._saveAndTransform(c),this.dot(c,n),c.restore()},dot:function(f,n){f.fillStyle=n.fill,f.beginPath(),f.arc(n.x,n.y,n.radius,0,Math.PI*2,!1),f.closePath(),f.fill()},onMouseDown:function(f){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(f)},_render:function(){var f=this.canvas.contextTop,n,c,h=this.points;for(this._saveAndTransform(f),n=0,c=h.length;n<c;n++)this.dot(f,h[n]);f.restore()},onMouseMove:function(f){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(f)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(f),this._render()):this.drawDot(f))},onMouseUp:function(){var f=this.canvas.renderOnAddRemove,n,c;this.canvas.renderOnAddRemove=!1;var h=[];for(n=0,c=this.points.length;n<c;n++){var i=this.points[n],o=new t.Circle({radius:i.radius,left:i.x,top:i.y,originX:"center",originY:"center",fill:i.fill});this.shadow&&(o.shadow=new t.Shadow(this.shadow)),h.push(o)}var a=new t.Group(h);a.canvas=this.canvas,this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=f,this.canvas.requestRenderAll()},addPoint:function(f){var n=new t.Point(f.x,f.y),c=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,h=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return n.radius=c,n.fill=h,this.points.push(n),n}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(f){this.canvas=f,this.sprayChunks=[]},onMouseDown:function(f){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(f),this.render(this.sprayChunkPoints)},onMouseMove:function(f){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(f)||(this.addSprayChunk(f),this.render(this.sprayChunkPoints))},onMouseUp:function(){var f=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var n=[],c=0,h=this.sprayChunks.length;c<h;c++)for(var i=this.sprayChunks[c],o=0,a=i.length;o<a;o++){var u=new t.Rect({width:i[o].width,height:i[o].width,left:i[o].x+1,top:i[o].y+1,originX:"center",originY:"center",fill:this.color});n.push(u)}this.optimizeOverlapping&&(n=this._getOptimizedRects(n));var d=new t.Group(n);this.shadow&&d.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:d}),this.canvas.add(d),this.canvas.fire("path:created",{path:d}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=f,this.canvas.requestRenderAll()},_getOptimizedRects:function(f){var n={},c,h,i;for(h=0,i=f.length;h<i;h++)c=f[h].left+""+f[h].top,n[c]||(n[c]=f[h]);var o=[];for(c in n)o.push(n[c]);return o},render:function(f){var n=this.canvas.contextTop,c,h;for(n.fillStyle=this.color,this._saveAndTransform(n),c=0,h=f.length;c<h;c++){var i=f[c];typeof i.opacity<"u"&&(n.globalAlpha=i.opacity),n.fillRect(i.x,i.y,i.width,i.width)}n.restore()},_render:function(){var f=this.canvas.contextTop,n,c;for(f.fillStyle=this.color,this._saveAndTransform(f),n=0,c=this.sprayChunks.length;n<c;n++)this.render(this.sprayChunks[n]);f.restore()},addSprayChunk:function(f){this.sprayChunkPoints=[];var n,c,h,i=this.width/2,o;for(o=0;o<this.density;o++){n=t.util.getRandomInt(f.x-i,f.x+i),c=t.util.getRandomInt(f.y-i,f.y+i),this.dotWidthVariance?h=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):h=this.dotWidth;var a=new t.Point(n,c);a.width=h,this.randomOpacity&&(a.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var f=20,n=5,c=t.util.createCanvasElement(),h=c.getContext("2d");return c.width=c.height=f+n,h.fillStyle=this.color,h.beginPath(),h.arc(f/2,f/2,f/2,0,Math.PI*2,!1),h.closePath(),h.fill(),c},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(f){return f.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(f){this.callSuper("_setBrushStyles",f),f.strokeStyle=this.getPattern(f)},createPath:function(f){var n=this.callSuper("createPath",f),c=n._getLeftTopCoords().scalarAdd(n.strokeWidth/2);return n.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-c.x,offsetY:-c.y}),n}}),function(){var f=t.util.getPointer,n=t.util.degreesToRadians,c=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(i,o){o||(o={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(i,o),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var i=this.getActiveObjects(),o,a,u;if(i.length>0&&!this.preserveObjectStacking){a=[],u=[];for(var d=0,l=this._objects.length;d<l;d++)o=this._objects[d],i.indexOf(o)===-1?a.push(o):u.push(o);i.length>1&&(this._activeObject._objects=u),a.push.apply(a,u)}else a=this._objects;return a},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var i=this.contextContainer;return this.renderCanvas(i,this._chooseObjectsToRender()),this},renderTopLayer:function(i){i.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(i),this.contextTopDirty=!0),i.restore()},renderTop:function(){var i=this.contextTop;return this.clearContext(i),this.renderTopLayer(i),this.fire("after:render"),this},_normalizePointer:function(i,o){var a=i.calcTransformMatrix(),u=t.util.invertTransform(a),d=this.restorePointerVpt(o);return t.util.transformPoint(d,u)},isTargetTransparent:function(i,o,a){if(i.shouldCache()&&i._cacheCanvas&&i!==this._activeObject){var u=this._normalizePointer(i,{x:o,y:a}),d=Math.max(i.cacheTranslationX+u.x*i.zoomX,0),l=Math.max(i.cacheTranslationY+u.y*i.zoomY,0),_=t.util.isTransparent(i._cacheContext,Math.round(d),Math.round(l),this.targetFindTolerance);return _}var g=this.contextCache,m=i.selectionBackgroundColor,y=this.viewportTransform;i.selectionBackgroundColor="",this.clearContext(g),g.save(),g.transform(y[0],y[1],y[2],y[3],y[4],y[5]),i.render(g),g.restore(),i.selectionBackgroundColor=m;var _=t.util.isTransparent(g,o,a,this.targetFindTolerance);return _},_isSelectionKeyPressed:function(i){var o=!1;return Array.isArray(this.selectionKey)?o=!!this.selectionKey.find(function(a){return i[a]===!0}):o=i[this.selectionKey],o},_shouldClearSelection:function(i,o){var a=this.getActiveObjects(),u=this._activeObject;return!o||o&&u&&a.length>1&&a.indexOf(o)===-1&&u!==o&&!this._isSelectionKeyPressed(i)||o&&!o.evented||o&&!o.selectable&&u&&u!==o},_shouldCenterTransform:function(i,o,a){if(i){var u;return o==="scale"||o==="scaleX"||o==="scaleY"||o==="resizing"?u=this.centeredScaling||i.centeredScaling:o==="rotate"&&(u=this.centeredRotation||i.centeredRotation),u?!a:a}},_getOriginFromCorner:function(i,o){var a={x:i.originX,y:i.originY};return o==="ml"||o==="tl"||o==="bl"?a.x="right":(o==="mr"||o==="tr"||o==="br")&&(a.x="left"),o==="tl"||o==="mt"||o==="tr"?a.y="bottom":(o==="bl"||o==="mb"||o==="br")&&(a.y="top"),a},_getActionFromCorner:function(i,o,a,u){if(!o||!i)return"drag";var d=u.controls[o];return d.getActionName(a,d,u)},_setupCurrentTransform:function(i,o,a){if(o){var u=this.getPointer(i),d=o.__corner,l=o.controls[d],g=a&&d?l.getActionHandler(i,o,l):t.controlsUtils.dragHandler,m=this._getActionFromCorner(a,d,i,o),y=this._getOriginFromCorner(o,d),_=i[this.centeredKey],S={target:o,action:m,actionHandler:g,corner:d,scaleX:o.scaleX,scaleY:o.scaleY,skewX:o.skewX,skewY:o.skewY,offsetX:u.x-o.left,offsetY:u.y-o.top,originX:y.x,originY:y.y,ex:u.x,ey:u.y,lastX:u.x,lastY:u.y,theta:n(o.angle),width:o.width*o.scaleX,shiftKey:i.shiftKey,altKey:_,original:t.util.saveObjectTransform(o)};this._shouldCenterTransform(o,m,_)&&(S.originX="center",S.originY="center"),S.original.originX=y.x,S.original.originY=y.y,this._currentTransform=S,this._beforeTransform(i)}},setCursor:function(i){this.upperCanvasEl.style.cursor=i},_drawSelection:function(i){var o=this._groupSelector,a=new t.Point(o.ex,o.ey),u=t.util.transformPoint(a,this.viewportTransform),d=new t.Point(o.ex+o.left,o.ey+o.top),l=t.util.transformPoint(d,this.viewportTransform),g=Math.min(u.x,l.x),m=Math.min(u.y,l.y),y=Math.max(u.x,l.x),_=Math.max(u.y,l.y),S=this.selectionLineWidth/2;this.selectionColor&&(i.fillStyle=this.selectionColor,i.fillRect(g,m,y-g,_-m)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(i.lineWidth=this.selectionLineWidth,i.strokeStyle=this.selectionBorderColor,g+=S,m+=S,y-=S,_-=S,t.Object.prototype._setLineDash.call(this,i,this.selectionDashArray),i.strokeRect(g,m,y-g,_-m))},findTarget:function(i,o){if(!this.skipTargetFind){var a=!0,u=this.getPointer(i,a),d=this._activeObject,l=this.getActiveObjects(),g,m,y=c(i),_=l.length>1&&!o||l.length===1;if(this.targets=[],_&&d._findTargetCorner(u,y)||l.length>1&&!o&&d===this._searchPossibleTargets([d],u))return d;if(l.length===1&&d===this._searchPossibleTargets([d],u))if(this.preserveObjectStacking)g=d,m=this.targets,this.targets=[];else return d;var S=this._searchPossibleTargets(this._objects,u);return i[this.altSelectionKey]&&S&&g&&S!==g&&(S=g,this.targets=m),S}},_checkTarget:function(i,o,a){if(o&&o.visible&&o.evented&&o.containsPoint(i))if((this.perPixelTargetFind||o.perPixelTargetFind)&&!o.isEditing){var u=this.isTargetTransparent(o,a.x,a.y);if(!u)return!0}else return!0},_searchPossibleTargets:function(i,o){for(var a,u=i.length,d;u--;){var l=i[u],g=l.group?this._normalizePointer(l.group,o):o;if(this._checkTarget(g,l,o)){a=i[u],a.subTargetCheck&&a instanceof t.Group&&(d=this._searchPossibleTargets(a._objects,o),d&&this.targets.push(d));break}}return a},restorePointerVpt:function(i){return t.util.transformPoint(i,t.util.invertTransform(this.viewportTransform))},getPointer:function(i,o){if(this._absolutePointer&&!o)return this._absolutePointer;if(this._pointer&&o)return this._pointer;var a=f(i),u=this.upperCanvasEl,d=u.getBoundingClientRect(),l=d.width||0,g=d.height||0,m;(!l||!g)&&("top"in d&&"bottom"in d&&(g=Math.abs(d.top-d.bottom)),"right"in d&&"left"in d&&(l=Math.abs(d.right-d.left))),this.calcOffset(),a.x=a.x-this._offset.left,a.y=a.y-this._offset.top,o||(a=this.restorePointerVpt(a));var y=this.getRetinaScaling();return y!==1&&(a.x/=y,a.y/=y),l===0||g===0?m={width:1,height:1}:m={width:u.width/l,height:u.height/g},{x:a.x*m.width,y:a.y*m.height}},_createUpperCanvas:function(){var i=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),o=this.lowerCanvasEl,a=this.upperCanvasEl;a?a.className="":(a=this._createCanvasElement(),this.upperCanvasEl=a),t.util.addClass(a,"upper-canvas "+i),this.wrapperEl.appendChild(a),this._copyCanvasStyle(o,a),this._applyCanvasStyle(a),this.contextTop=a.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(i){var o=this.width||i.width,a=this.height||i.height;t.util.setStyle(i,{position:"absolute",width:o+"px",height:a+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),i.width=o,i.height=a,t.util.makeElementUnselectable(i)},_copyCanvasStyle:function(i,o){o.style.cssText=i.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var i=this._activeObject;return i?i.type==="activeSelection"&&i._objects?i._objects.slice(0):[i]:[]},_onObjectRemoved:function(i){i===this._activeObject&&(this.fire("before:selection:cleared",{target:i}),this._discardActiveObject(),this.fire("selection:cleared",{target:i}),i.fire("deselected")),i===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",i)},_fireSelectionEvents:function(i,o){var a=!1,u=this.getActiveObjects(),d=[],l=[];i.forEach(function(g){u.indexOf(g)===-1&&(a=!0,g.fire("deselected",{e:o,target:g}),l.push(g))}),u.forEach(function(g){i.indexOf(g)===-1&&(a=!0,g.fire("selected",{e:o,target:g}),d.push(g))}),i.length>0&&u.length>0?a&&this.fire("selection:updated",{e:o,selected:d,deselected:l}):u.length>0?this.fire("selection:created",{e:o,selected:d}):i.length>0&&this.fire("selection:cleared",{e:o,deselected:l})},setActiveObject:function(i,o){var a=this.getActiveObjects();return this._setActiveObject(i,o),this._fireSelectionEvents(a,o),this},_setActiveObject:function(i,o){return this._activeObject===i||!this._discardActiveObject(o,i)||i.onSelect({e:o})?!1:(this._activeObject=i,!0)},_discardActiveObject:function(i,o){var a=this._activeObject;if(a){if(a.onDeselect({e:i,object:o}))return!1;this._activeObject=null}return!0},discardActiveObject:function(i){var o=this.getActiveObjects(),a=this.getActiveObject();return o.length&&this.fire("before:selection:cleared",{target:a,e:i}),this._discardActiveObject(i),this._fireSelectionEvents(o,i),this},dispose:function(){var i=this.wrapperEl;return this.removeListeners(),i.removeChild(this.upperCanvasEl),i.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(o){t.util.cleanUpJsdomNode(this[o]),this[o]=void 0}.bind(this)),i.parentNode&&i.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(i){var o=this._activeObject;o&&o._renderControls(i)},_toObject:function(i,o,a){var u=this._realizeGroupTransformOnObject(i),d=this.callSuper("_toObject",i,o,a);return this._unwindGroupTransformOnObject(i,u),d},_realizeGroupTransformOnObject:function(i){if(i.group&&i.group.type==="activeSelection"&&this._activeObject===i.group){var o=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],a={};return o.forEach(function(u){a[u]=i[u]}),t.util.addTransformToObject(i,this._activeObject.calcOwnMatrix()),a}else return null},_unwindGroupTransformOnObject:function(i,o){o&&i.set(o)},_setSVGObject:function(i,o,a){var u=this._realizeGroupTransformOnObject(o);this.callSuper("_setSVGObject",i,o,a),this._unwindGroupTransformOnObject(o,u)},setViewportTransform:function(i){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,i)}});for(var h in t.StaticCanvas)h!=="prototype"&&(t.Canvas[h]=t.StaticCanvas[h])}(),function(){var f=t.util.addListener,n=t.util.removeListener,c=3,h=2,i=1,o={passive:!1};function a(u,d){return u.button&&u.button===d-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(f,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(u,d){var l=this.upperCanvasEl,g=this._getEventPrefix();u(t.window,"resize",this._onResize),u(l,g+"down",this._onMouseDown),u(l,g+"move",this._onMouseMove,o),u(l,g+"out",this._onMouseOut),u(l,g+"enter",this._onMouseEnter),u(l,"wheel",this._onMouseWheel),u(l,"contextmenu",this._onContextMenu),u(l,"dblclick",this._onDoubleClick),u(l,"dragover",this._onDragOver),u(l,"dragenter",this._onDragEnter),u(l,"dragleave",this._onDragLeave),u(l,"drop",this._onDrop),this.enablePointerEvents||u(l,"touchstart",this._onTouchStart,o),typeof eventjs<"u"&&d in eventjs&&(eventjs[d](l,"gesture",this._onGesture),eventjs[d](l,"drag",this._onDrag),eventjs[d](l,"orientation",this._onOrientationChange),eventjs[d](l,"shake",this._onShake),eventjs[d](l,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(n,"remove");var u=this._getEventPrefix();n(t.document,u+"up",this._onMouseUp),n(t.document,"touchend",this._onTouchEnd,o),n(t.document,u+"move",this._onMouseMove,o),n(t.document,"touchmove",this._onMouseMove,o)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(u,d){this.__onTransformGesture&&this.__onTransformGesture(u,d)},_onDrag:function(u,d){this.__onDrag&&this.__onDrag(u,d)},_onMouseWheel:function(u){this.__onMouseWheel(u)},_onMouseOut:function(u){var d=this._hoveredTarget;this.fire("mouse:out",{target:d,e:u}),this._hoveredTarget=null,d&&d.fire("mouseout",{e:u});var l=this;this._hoveredTargets.forEach(function(g){l.fire("mouse:out",{target:d,e:u}),g&&d.fire("mouseout",{e:u})}),this._hoveredTargets=[]},_onMouseEnter:function(u){!this._currentTransform&&!this.findTarget(u)&&(this.fire("mouse:over",{target:null,e:u}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(u,d){this.__onOrientationChange&&this.__onOrientationChange(u,d)},_onShake:function(u,d){this.__onShake&&this.__onShake(u,d)},_onLongPress:function(u,d){this.__onLongPress&&this.__onLongPress(u,d)},_onDragOver:function(u){u.preventDefault();var d=this._simpleEventHandler("dragover",u);this._fireEnterLeaveEvents(d,u)},_onDrop:function(u){return this._simpleEventHandler("drop:before",u),this._simpleEventHandler("drop",u)},_onContextMenu:function(u){return this.stopContextMenu&&(u.stopPropagation(),u.preventDefault()),!1},_onDoubleClick:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"dblclick"),this._resetTransformEventData(u)},getPointerId:function(u){var d=u.changedTouches;return d?d[0]&&d[0].identifier:this.enablePointerEvents?u.pointerId:-1},_isMainEvent:function(u){return u.isPrimary===!0?!0:u.isPrimary===!1?!1:u.type==="touchend"&&u.touches.length===0?!0:u.changedTouches?u.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(u){u.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(u)),this.__onMouseDown(u),this._resetTransformEventData();var d=this.upperCanvasEl,l=this._getEventPrefix();f(t.document,"touchend",this._onTouchEnd,o),f(t.document,"touchmove",this._onMouseMove,o),n(d,l+"down",this._onMouseDown)},_onMouseDown:function(u){this.__onMouseDown(u),this._resetTransformEventData();var d=this.upperCanvasEl,l=this._getEventPrefix();n(d,l+"move",this._onMouseMove,o),f(t.document,l+"up",this._onMouseUp),f(t.document,l+"move",this._onMouseMove,o)},_onTouchEnd:function(u){if(!(u.touches.length>0)){this.__onMouseUp(u),this._resetTransformEventData(),this.mainTouchId=null;var d=this._getEventPrefix();n(t.document,"touchend",this._onTouchEnd,o),n(t.document,"touchmove",this._onMouseMove,o);var l=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){f(l.upperCanvasEl,d+"down",l._onMouseDown),l._willAddMouseDown=0},400)}},_onMouseUp:function(u){this.__onMouseUp(u),this._resetTransformEventData();var d=this.upperCanvasEl,l=this._getEventPrefix();this._isMainEvent(u)&&(n(t.document,l+"up",this._onMouseUp),n(t.document,l+"move",this._onMouseMove,o),f(d,l+"move",this._onMouseMove,o))},_onMouseMove:function(u){!this.allowTouchScrolling&&u.preventDefault&&u.preventDefault(),this.__onMouseMove(u)},_onResize:function(){this.calcOffset()},_shouldRender:function(u){var d=this._activeObject;return!!d!=!!u||d&&u&&d!==u?!0:(d&&d.isEditing,!1)},__onMouseUp:function(u){var d,l=this._currentTransform,g=this._groupSelector,m=!1,y=!g||g.left===0&&g.top===0;if(this._cacheTransformEventData(u),d=this._target,this._handleEvent(u,"up:before"),a(u,c)){this.fireRightClick&&this._handleEvent(u,"up",c,y);return}if(a(u,h)){this.fireMiddleClick&&this._handleEvent(u,"up",h,y),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(u);return}if(this._isMainEvent(u)){if(l&&(this._finalizeCurrentTransform(u),m=l.actionPerformed),!y){var _=d===this._activeObject;this._maybeGroupObjects(u),m||(m=this._shouldRender(d)||!_&&d===this._activeObject)}var S,T;if(d){if(S=d._findTargetCorner(this.getPointer(u,!0),t.util.isTouchEvent(u)),d.selectable&&d!==this._activeObject&&d.activeOn==="up")this.setActiveObject(d,u),m=!0;else{var A=d.controls[S],N=A&&A.getMouseUpHandler(u,d,A);N&&(T=this.getPointer(u),N(u,l,T.x,T.y))}d.isMoving=!1}if(l&&(l.target!==d||l.corner!==S)){var Q=l.target&&l.target.controls[l.corner],re=Q&&Q.getMouseUpHandler(u,d,A);T=T||this.getPointer(u),re&&re(u,l,T.x,T.y)}this._setCursorFromEvent(u,d),this._handleEvent(u,"up",i,y),this._groupSelector=null,this._currentTransform=null,d&&(d.__corner=0),m?this.requestRenderAll():y||this.renderTop()}},_simpleEventHandler:function(u,d){var l=this.findTarget(d),g=this.targets,m={e:d,target:l,subTargets:g};if(this.fire(u,m),l&&l.fire(u,m),!g)return l;for(var y=0;y<g.length;y++)g[y].fire(u,m);return l},_handleEvent:function(u,d,l,g){var m=this._target,y=this.targets||[],_={e:u,target:m,subTargets:y,button:l||i,isClick:g||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};d==="up"&&(_.currentTarget=this.findTarget(u),_.currentSubTargets=this.targets),this.fire("mouse:"+d,_),m&&m.fire("mouse"+d,_);for(var S=0;S<y.length;S++)y[S].fire("mouse"+d,_)},_finalizeCurrentTransform:function(u){var d=this._currentTransform,l=d.target,g={e:u,target:l,transform:d,action:d.action};l._scaling&&(l._scaling=!1),l.setCoords(),(d.actionPerformed||this.stateful&&l.hasStateChanged())&&this._fire("modified",g)},_onMouseDownInDrawingMode:function(u){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(u).requestRenderAll();var d=this.getPointer(u);this.freeDrawingBrush.onMouseDown(d,{e:u,pointer:d}),this._handleEvent(u,"down")},_onMouseMoveInDrawingMode:function(u){if(this._isCurrentlyDrawing){var d=this.getPointer(u);this.freeDrawingBrush.onMouseMove(d,{e:u,pointer:d})}this.setCursor(this.freeDrawingCursor),this._handleEvent(u,"move")},_onMouseUpInDrawingMode:function(u){var d=this.getPointer(u);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:u,pointer:d}),this._handleEvent(u,"up")},__onMouseDown:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"down:before");var d=this._target;if(a(u,c)){this.fireRightClick&&this._handleEvent(u,"down",c);return}if(a(u,h)){this.fireMiddleClick&&this._handleEvent(u,"down",h);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(u);return}if(this._isMainEvent(u)&&!this._currentTransform){var l=this._pointer;this._previousPointer=l;var g=this._shouldRender(d),m=this._shouldGroup(u,d);if(this._shouldClearSelection(u,d)?this.discardActiveObject(u):m&&(this._handleGrouping(u,d),d=this._activeObject),this.selection&&(!d||!d.selectable&&!d.isEditing&&d!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),d){var y=d===this._activeObject;d.selectable&&d.activeOn==="down"&&this.setActiveObject(d,u);var _=d._findTargetCorner(this.getPointer(u,!0),t.util.isTouchEvent(u));if(d.__corner=_,d===this._activeObject&&(_||!m)){this._setupCurrentTransform(u,d,y);var S=d.controls[_],l=this.getPointer(u),T=S&&S.getMouseDownHandler(u,d,S);T&&T(u,this._currentTransform,l.x,l.y)}}this._handleEvent(u,"down"),(g||m)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(u){this._resetTransformEventData(),this._pointer=this.getPointer(u,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(u)||null},_beforeTransform:function(u){var d=this._currentTransform;this.stateful&&d.target.saveState(),this.fire("before:transform",{e:u,transform:d})},__onMouseMove:function(u){this._handleEvent(u,"move:before"),this._cacheTransformEventData(u);var d,l;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(u);return}if(this._isMainEvent(u)){var g=this._groupSelector;g?(l=this._absolutePointer,g.left=l.x-g.ex,g.top=l.y-g.ey,this.renderTop()):this._currentTransform?this._transformObject(u):(d=this.findTarget(u)||null,this._setCursorFromEvent(u,d),this._fireOverOutEvents(d,u)),this._handleEvent(u,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(u,d){var l=this._hoveredTarget,g=this._hoveredTargets,m=this.targets,y=Math.max(g.length,m.length);this.fireSyntheticInOutEvents(u,d,{oldTarget:l,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var _=0;_<y;_++)this.fireSyntheticInOutEvents(m[_],d,{oldTarget:g[_],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=u,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(u,d){var l=this._draggedoverTarget,g=this._hoveredTargets,m=this.targets,y=Math.max(g.length,m.length);this.fireSyntheticInOutEvents(u,d,{oldTarget:l,evtOut:"dragleave",evtIn:"dragenter"});for(var _=0;_<y;_++)this.fireSyntheticInOutEvents(m[_],d,{oldTarget:g[_],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=u},fireSyntheticInOutEvents:function(u,d,l){var g,m,y=l.oldTarget,_,S,T=y!==u,A=l.canvasEvtIn,N=l.canvasEvtOut;T&&(g={e:d,target:u,previousTarget:y},m={e:d,target:y,nextTarget:u}),S=u&&T,_=y&&T,_&&(N&&this.fire(N,m),y.fire(l.evtOut,m)),S&&(A&&this.fire(A,g),u.fire(l.evtIn,g))},__onMouseWheel:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"wheel"),this._resetTransformEventData()},_transformObject:function(u){var d=this.getPointer(u),l=this._currentTransform;l.reset=!1,l.shiftKey=u.shiftKey,l.altKey=u[this.centeredKey],this._performTransformAction(u,l,d),l.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(u,d,l){var g=l.x,m=l.y,y=d.action,_=!1,S=d.actionHandler;S&&(_=S(u,d,g,m)),y==="drag"&&_&&(d.target.isMoving=!0,this.setCursor(d.target.moveCursor||this.moveCursor)),d.actionPerformed=d.actionPerformed||_},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(u,d){if(!d)return this.setCursor(this.defaultCursor),!1;var l=d.hoverCursor||this.hoverCursor,g=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,m=(!g||!g.contains(d))&&d._findTargetCorner(this.getPointer(u,!0));m?this.setCursor(this.getCornerCursor(m,d,u)):(d.subTargetCheck&&this.targets.concat().reverse().map(function(y){l=y.hoverCursor||l}),this.setCursor(l))},getCornerCursor:function(u,d,l){var g=d.controls[u];return g.cursorStyleHandler(l,g,d)}})}(),function(){var f=Math.min,n=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(c,h){var i=this._activeObject;return i&&this._isSelectionKeyPressed(c)&&h&&h.selectable&&this.selection&&(i!==h||i.type==="activeSelection")&&!h.onSelect({e:c})},_handleGrouping:function(c,h){var i=this._activeObject;i.__corner||h===i&&(h=this.findTarget(c,!0),!h||!h.selectable)||(i&&i.type==="activeSelection"?this._updateActiveSelection(h,c):this._createActiveSelection(h,c))},_updateActiveSelection:function(c,h){var i=this._activeObject,o=i._objects.slice(0);i.contains(c)?(i.removeWithUpdate(c),this._hoveredTarget=c,this._hoveredTargets=this.targets.concat(),i.size()===1&&this._setActiveObject(i.item(0),h)):(i.addWithUpdate(c),this._hoveredTarget=i,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(o,h)},_createActiveSelection:function(c,h){var i=this.getActiveObjects(),o=this._createGroup(c);this._hoveredTarget=o,this._setActiveObject(o,h),this._fireSelectionEvents(i,h)},_createGroup:function(c){var h=this._objects,i=h.indexOf(this._activeObject)<h.indexOf(c),o=i?[this._activeObject,c]:[c,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(o,{canvas:this})},_groupSelectedObjects:function(c){var h=this._collectObjects(c),i;h.length===1?this.setActiveObject(h[0],c):h.length>1&&(i=new t.ActiveSelection(h.reverse(),{canvas:this}),this.setActiveObject(i,c))},_collectObjects:function(c){for(var h=[],i,o=this._groupSelector.ex,a=this._groupSelector.ey,u=o+this._groupSelector.left,d=a+this._groupSelector.top,l=new t.Point(f(o,u),f(a,d)),g=new t.Point(n(o,u),n(a,d)),m=!this.selectionFullyContained,y=o===u&&a===d,_=this._objects.length;_--&&(i=this._objects[_],!(!(!i||!i.selectable||!i.visible)&&(m&&i.intersectsWithRect(l,g,!0)||i.isContainedWithinRect(l,g,!0)||m&&i.containsPoint(l,null,!0)||m&&i.containsPoint(g,null,!0))&&(h.push(i),y))););return h.length>1&&(h=h.filter(function(S){return!S.onSelect({e:c})})),h},_maybeGroupObjects:function(c){this.selection&&this._groupSelector&&this._groupSelectedObjects(c),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(f){f||(f={});var n=f.format||"png",c=f.quality||1,h=(f.multiplier||1)*(f.enableRetinaScaling?this.getRetinaScaling():1),i=this.toCanvasElement(h,f);return t.util.toDataURL(i,n,c)},toCanvasElement:function(f,n){f=f||1,n=n||{};var c=(n.width||this.width)*f,h=(n.height||this.height)*f,i=this.getZoom(),o=this.width,a=this.height,u=i*f,d=this.viewportTransform,l=(d[4]-(n.left||0))*f,g=(d[5]-(n.top||0))*f,m=this.interactive,y=[u,0,0,u,l,g],_=this.enableRetinaScaling,S=t.util.createCanvasElement(),T=this.contextTop;return S.width=c,S.height=h,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=y,this.width=c,this.height=h,this.calcViewportBoundaries(),this.renderCanvas(S.getContext("2d"),this._objects),this.viewportTransform=d,this.width=o,this.height=a,this.calcViewportBoundaries(),this.interactive=m,this.enableRetinaScaling=_,this.contextTop=T,S}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(f,n,c){if(f){var h=typeof f=="string"?JSON.parse(f):t.util.object.clone(f),i=this,o=h.clipPath,a=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete h.clipPath,this._enlivenObjects(h.objects,function(u){i.clear(),i._setBgOverlay(h,function(){o?i._enlivenObjects([o],function(d){i.clipPath=d[0],i.__setupCanvas.call(i,h,u,a,n)}):i.__setupCanvas.call(i,h,u,a,n)})},c),this}},__setupCanvas:function(f,n,c,h){var i=this;n.forEach(function(o,a){i.insertAt(o,a)}),this.renderOnAddRemove=c,delete f.objects,delete f.backgroundImage,delete f.overlayImage,delete f.background,delete f.overlay,this._setOptions(f),this.renderAll(),h&&h()},_setBgOverlay:function(f,n){var c={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!f.backgroundImage&&!f.overlayImage&&!f.background&&!f.overlay){n&&n();return}var h=function(){c.backgroundImage&&c.overlayImage&&c.backgroundColor&&c.overlayColor&&n&&n()};this.__setBgOverlay("backgroundImage",f.backgroundImage,c,h),this.__setBgOverlay("overlayImage",f.overlayImage,c,h),this.__setBgOverlay("backgroundColor",f.background,c,h),this.__setBgOverlay("overlayColor",f.overlay,c,h)},__setBgOverlay:function(f,n,c,h){var i=this;if(!n){c[f]=!0,h&&h();return}f==="backgroundImage"||f==="overlayImage"?t.util.enlivenObjects([n],function(o){i[f]=o[0],c[f]=!0,h&&h()}):this["set"+t.util.string.capitalize(f,!0)](n,function(){c[f]=!0,h&&h()})},_enlivenObjects:function(f,n,c){if(!f||f.length===0){n&&n([]);return}t.util.enlivenObjects(f,function(h){n&&n(h)},null,c)},_toDataURL:function(f,n){this.clone(function(c){n(c.toDataURL(f))})},_toDataURLWithMultiplier:function(f,n,c){this.clone(function(h){c(h.toDataURLWithMultiplier(f,n))})},clone:function(f,n){var c=JSON.stringify(this.toJSON(n));this.cloneWithoutData(function(h){h.loadFromJSON(c,function(){f&&f(h)})})},cloneWithoutData:function(f){var n=t.util.createCanvasElement();n.width=this.width,n.height=this.height;var c=new t.Canvas(n);this.backgroundImage?(c.setBackgroundImage(this.backgroundImage.src,function(){c.renderAll(),f&&f(c)}),c.backgroundImageOpacity=this.backgroundImageOpacity,c.backgroundImageStretch=this.backgroundImageStretch):f&&f(c)}}),function(f){var n=f.fabric||(f.fabric={}),c=n.util.object.extend,h=n.util.object.clone,i=n.util.toFixed,o=n.util.string.capitalize,a=n.util.degreesToRadians,u=!n.isLikelyNode,d=2;n.Object||(n.Object=n.util.createClass(n.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:u,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(l){l&&this.setOptions(l)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=n.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(l){var g=n.perfLimitSizeTotal,m=l.width,y=l.height,_=n.maxCacheSideLimit,S=n.minCacheSideLimit;if(m<=_&&y<=_&&m*y<=g)return m<S&&(l.width=S),y<S&&(l.height=S),l;var T=m/y,A=n.util.limitDimsByArea(T,g),N=n.util.capValue,Q=N(S,A.x,_),re=N(S,A.y,_);return m>Q&&(l.zoomX/=m/Q,l.width=Q,l.capped=!0),y>re&&(l.zoomY/=y/re,l.height=re,l.capped=!0),l},_getCacheCanvasDimensions:function(){var l=this.getTotalObjectScaling(),g=this._getTransformedDimensions(0,0),m=g.x*l.scaleX/this.scaleX,y=g.y*l.scaleY/this.scaleY;return{width:m+d,height:y+d,zoomX:l.scaleX,zoomY:l.scaleY,x:m,y}},_updateCacheCanvas:function(){var l=this.canvas;if(this.noScaleCache&&l&&l._currentTransform){var g=l._currentTransform.target,m=l._currentTransform.action;if(this===g&&m.slice&&m.slice(0,5)==="scale")return!1}var y=this._cacheCanvas,_=this._limitCacheSize(this._getCacheCanvasDimensions()),S=n.minCacheSideLimit,T=_.width,A=_.height,N,Q,re=_.zoomX,ve=_.zoomY,we=T!==this.cacheWidth||A!==this.cacheHeight,Te=this.zoomX!==re||this.zoomY!==ve,Ce=we||Te,xe=0,Oe=0,me=!1;if(we){var ee=this._cacheCanvas.width,O=this._cacheCanvas.height,j=T>ee||A>O,z=(T<ee*.9||A<O*.9)&&ee>S&&O>S;me=j||z,j&&!_.capped&&(T>S||A>S)&&(xe=T*.1,Oe=A*.1)}return this instanceof n.Text&&this.path&&(Ce=!0,me=!0,xe+=this.getHeightOfLine(0)*this.zoomX,Oe+=this.getHeightOfLine(0)*this.zoomY),Ce?(me?(y.width=Math.ceil(T+xe),y.height=Math.ceil(A+Oe)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,y.width,y.height)),N=_.x/2,Q=_.y/2,this.cacheTranslationX=Math.round(y.width/2-N)+N,this.cacheTranslationY=Math.round(y.height/2-Q)+Q,this.cacheWidth=T,this.cacheHeight=A,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(re,ve),this.zoomX=re,this.zoomY=ve,!0):!1},setOptions:function(l){this._setOptions(l),this._initGradient(l.fill,"fill"),this._initGradient(l.stroke,"stroke"),this._initPattern(l.fill,"fill"),this._initPattern(l.stroke,"stroke")},transform:function(l){var g=this.group&&!this.group._transformDone||this.group&&this.canvas&&l===this.canvas.contextTop,m=this.calcTransformMatrix(!g);l.transform(m[0],m[1],m[2],m[3],m[4],m[5])},toObject:function(l){var g=n.Object.NUM_FRACTION_DIGITS,m={type:this.type,version:n.version,originX:this.originX,originY:this.originY,left:i(this.left,g),top:i(this.top,g),width:i(this.width,g),height:i(this.height,g),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:i(this.strokeWidth,g),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:i(this.strokeMiterLimit,g),scaleX:i(this.scaleX,g),scaleY:i(this.scaleY,g),angle:i(this.angle,g),flipX:this.flipX,flipY:this.flipY,opacity:i(this.opacity,g),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:i(this.skewX,g),skewY:i(this.skewY,g)};return this.clipPath&&!this.clipPath.excludeFromExport&&(m.clipPath=this.clipPath.toObject(l),m.clipPath.inverted=this.clipPath.inverted,m.clipPath.absolutePositioned=this.clipPath.absolutePositioned),n.util.populateWithProperties(this,m,l),this.includeDefaultValues||(m=this._removeDefaultValues(m)),m},toDatalessObject:function(l){return this.toObject(l)},_removeDefaultValues:function(l){var g=n.util.getKlass(l.type).prototype,m=g.stateProperties;return m.forEach(function(y){y==="left"||y==="top"||(l[y]===g[y]&&delete l[y],Array.isArray(l[y])&&Array.isArray(g[y])&&l[y].length===0&&g[y].length===0&&delete l[y])}),l},toString:function(){return"#<fabric."+o(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var l=n.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(l.scaleX),scaleY:Math.abs(l.scaleY)}},getTotalObjectScaling:function(){var l=this.getObjectScaling(),g=l.scaleX,m=l.scaleY;if(this.canvas){var y=this.canvas.getZoom(),_=this.canvas.getRetinaScaling();g*=y*_,m*=y*_}return{scaleX:g,scaleY:m}},getObjectOpacity:function(){var l=this.opacity;return this.group&&(l*=this.group.getObjectOpacity()),l},_set:function(l,g){var m=l==="scaleX"||l==="scaleY",y=this[l]!==g,_=!1;return m&&(g=this._constrainScale(g)),l==="scaleX"&&g<0?(this.flipX=!this.flipX,g*=-1):l==="scaleY"&&g<0?(this.flipY=!this.flipY,g*=-1):l==="shadow"&&g&&!(g instanceof n.Shadow)?g=new n.Shadow(g):l==="dirty"&&this.group&&this.group.set("dirty",g),this[l]=g,y&&(_=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(l)>-1?(this.dirty=!0,_&&this.group.set("dirty",!0)):_&&this.stateProperties.indexOf(l)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:n.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(l){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(l.save(),this._setupCompositeOperation(l),this.drawSelectionBackground(l),this.transform(l),this._setOpacity(l),this._setShadow(l,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(l)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(l),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),l.restore())},renderCache:function(l){l=l||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,l.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(l,g){if(l.save(),g.inverted?l.globalCompositeOperation="destination-out":l.globalCompositeOperation="destination-in",g.absolutePositioned){var m=n.util.invertTransform(this.calcTransformMatrix());l.transform(m[0],m[1],m[2],m[3],m[4],m[5])}g.transform(l),l.scale(1/g.zoomX,1/g.zoomY),l.drawImage(g._cacheCanvas,-g.cacheTranslationX,-g.cacheTranslationY),l.restore()},drawObject:function(l,g){var m=this.fill,y=this.stroke;g?(this.fill="black",this.stroke="",this._setClippingProperties(l)):this._renderBackground(l),this._render(l),this._drawClipPath(l,this.clipPath),this.fill=m,this.stroke=y},_drawClipPath:function(l,g){g&&(g.canvas=this.canvas,g.shouldCache(),g._transformDone=!0,g.renderCache({forClipping:!0}),this.drawClipPathOnCache(l,g))},drawCacheOnCanvas:function(l){l.scale(1/this.zoomX,1/this.zoomY),l.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(l){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!l&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!l){var g=this.cacheWidth/this.zoomX,m=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-g/2,-m/2,g,m)}return!0}return!1},_renderBackground:function(l){if(this.backgroundColor){var g=this._getNonTransformedDimensions();l.fillStyle=this.backgroundColor,l.fillRect(-g.x/2,-g.y/2,g.x,g.y),this._removeShadow(l)}},_setOpacity:function(l){this.group&&!this.group._transformDone?l.globalAlpha=this.getObjectOpacity():l.globalAlpha*=this.opacity},_setStrokeStyles:function(l,g){var m=g.stroke;m&&(l.lineWidth=g.strokeWidth,l.lineCap=g.strokeLineCap,l.lineDashOffset=g.strokeDashOffset,l.lineJoin=g.strokeLineJoin,l.miterLimit=g.strokeMiterLimit,m.toLive?m.gradientUnits==="percentage"||m.gradientTransform||m.patternTransform?this._applyPatternForTransformedGradient(l,m):(l.strokeStyle=m.toLive(l,this),this._applyPatternGradientTransform(l,m)):l.strokeStyle=g.stroke)},_setFillStyles:function(l,g){var m=g.fill;m&&(m.toLive?(l.fillStyle=m.toLive(l,this),this._applyPatternGradientTransform(l,g.fill)):l.fillStyle=m)},_setClippingProperties:function(l){l.globalAlpha=1,l.strokeStyle="transparent",l.fillStyle="#000000"},_setLineDash:function(l,g){!g||g.length===0||(1&g.length&&g.push.apply(g,g),l.setLineDash(g))},_renderControls:function(l,g){var m=this.getViewportTransform(),y=this.calcTransformMatrix(),_,S,T;g=g||{},S=typeof g.hasBorders<"u"?g.hasBorders:this.hasBorders,T=typeof g.hasControls<"u"?g.hasControls:this.hasControls,y=n.util.multiplyTransformMatrices(m,y),_=n.util.qrDecompose(y),l.save(),l.translate(_.translateX,_.translateY),l.lineWidth=1*this.borderScaleFactor,this.group||(l.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(_.angle-=180),l.rotate(a(this.group?_.angle:this.angle)),g.forActiveSelection||this.group?S&&this.drawBordersInGroup(l,_,g):S&&this.drawBorders(l,g),T&&this.drawControls(l,g),l.restore()},_setShadow:function(l){if(this.shadow){var g=this.shadow,m=this.canvas,y,_=m&&m.viewportTransform[0]||1,S=m&&m.viewportTransform[3]||1;g.nonScaling?y={scaleX:1,scaleY:1}:y=this.getObjectScaling(),m&&m._isRetinaScaling()&&(_*=n.devicePixelRatio,S*=n.devicePixelRatio),l.shadowColor=g.color,l.shadowBlur=g.blur*n.browserShadowBlurConstant*(_+S)*(y.scaleX+y.scaleY)/4,l.shadowOffsetX=g.offsetX*_*y.scaleX,l.shadowOffsetY=g.offsetY*S*y.scaleY}},_removeShadow:function(l){this.shadow&&(l.shadowColor="",l.shadowBlur=l.shadowOffsetX=l.shadowOffsetY=0)},_applyPatternGradientTransform:function(l,g){if(!g||!g.toLive)return{offsetX:0,offsetY:0};var m=g.gradientTransform||g.patternTransform,y=-this.width/2+g.offsetX||0,_=-this.height/2+g.offsetY||0;return g.gradientUnits==="percentage"?l.transform(this.width,0,0,this.height,y,_):l.transform(1,0,0,1,y,_),m&&l.transform(m[0],m[1],m[2],m[3],m[4],m[5]),{offsetX:y,offsetY:_}},_renderPaintInOrder:function(l){this.paintFirst==="stroke"?(this._renderStroke(l),this._renderFill(l)):(this._renderFill(l),this._renderStroke(l))},_render:function(){},_renderFill:function(l){this.fill&&(l.save(),this._setFillStyles(l,this),this.fillRule==="evenodd"?l.fill("evenodd"):l.fill(),l.restore())},_renderStroke:function(l){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(l),l.save(),this.strokeUniform&&this.group){var g=this.getObjectScaling();l.scale(1/g.scaleX,1/g.scaleY)}else this.strokeUniform&&l.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(l,this.strokeDashArray),this._setStrokeStyles(l,this),l.stroke(),l.restore()}},_applyPatternForTransformedGradient:function(l,g){var m=this._limitCacheSize(this._getCacheCanvasDimensions()),y=n.util.createCanvasElement(),_,S=this.canvas.getRetinaScaling(),T=m.x/this.scaleX/S,A=m.y/this.scaleY/S;y.width=T,y.height=A,_=y.getContext("2d"),_.beginPath(),_.moveTo(0,0),_.lineTo(T,0),_.lineTo(T,A),_.lineTo(0,A),_.closePath(),_.translate(T/2,A/2),_.scale(m.zoomX/this.scaleX/S,m.zoomY/this.scaleY/S),this._applyPatternGradientTransform(_,g),_.fillStyle=g.toLive(l),_.fill(),l.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),l.scale(S*this.scaleX/m.zoomX,S*this.scaleY/m.zoomY),l.strokeStyle=_.createPattern(y,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var l=n.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",l.scaleX),this.set("scaleY",l.scaleY),this.angle=l.angle,this.skewX=l.skewX,this.skewY=0}},_removeTransformMatrix:function(l){var g=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),g=n.util.transformPoint(g,this.transformMatrix)),this.transformMatrix=null,l&&(this.scaleX*=l.scaleX,this.scaleY*=l.scaleY,this.cropX=l.cropX,this.cropY=l.cropY,g.x+=l.offsetLeft,g.y+=l.offsetTop,this.width=l.width,this.height=l.height),this.setPositionByOrigin(g,"center","center")},clone:function(l,g){var m=this.toObject(g);this.constructor.fromObject?this.constructor.fromObject(m,l):n.Object._fromObject("Object",m,l)},cloneAsImage:function(l,g){var m=this.toCanvasElement(g);return l&&l(new n.Image(m)),this},toCanvasElement:function(l){l||(l={});var g=n.util,m=g.saveObjectTransform(this),y=this.group,_=this.shadow,S=Math.abs,T=(l.multiplier||1)*(l.enableRetinaScaling?n.devicePixelRatio:1);delete this.group,l.withoutTransform&&g.resetObjectTransform(this),l.withoutShadow&&(this.shadow=null);var A=n.util.createCanvasElement(),N=this.getBoundingRect(!0,!0),Q=this.shadow,re,ve={x:0,y:0},we,Te,Ce;Q&&(we=Q.blur,Q.nonScaling?re={scaleX:1,scaleY:1}:re=this.getObjectScaling(),ve.x=2*Math.round(S(Q.offsetX)+we)*S(re.scaleX),ve.y=2*Math.round(S(Q.offsetY)+we)*S(re.scaleY)),Te=N.width+ve.x,Ce=N.height+ve.y,A.width=Math.ceil(Te),A.height=Math.ceil(Ce);var xe=new n.StaticCanvas(A,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});l.format==="jpeg"&&(xe.backgroundColor="#fff"),this.setPositionByOrigin(new n.Point(xe.width/2,xe.height/2),"center","center");var Oe=this.canvas;xe.add(this);var me=xe.toCanvasElement(T||1,l);return this.shadow=_,this.set("canvas",Oe),y&&(this.group=y),this.set(m).setCoords(),xe._objects=[],xe.dispose(),xe=null,me},toDataURL:function(l){return l||(l={}),n.util.toDataURL(this.toCanvasElement(l),l.format||"png",l.quality||1)},isType:function(l){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===l},complexity:function(){return 1},toJSON:function(l){return this.toObject(l)},rotate:function(l){var g=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return g&&this._setOriginToCenter(),this.set("angle",l),g&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(l,g){g=g||this.canvas.getPointer(l);var m=new n.Point(g.x,g.y),y=this._getLeftTopCoords();return this.angle&&(m=n.util.rotatePoint(m,y,a(-this.angle))),{x:m.x-y.x,y:m.y-y.y}},_setupCompositeOperation:function(l){this.globalCompositeOperation&&(l.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){n.runningAnimations&&n.runningAnimations.cancelByTarget(this)}}),n.util.createAccessors&&n.util.createAccessors(n.Object),c(n.Object.prototype,n.Observable),n.Object.NUM_FRACTION_DIGITS=2,n.Object.ENLIVEN_PROPS=["clipPath"],n.Object._fromObject=function(l,g,m,y){var _=n[l];g=h(g,!0),n.util.enlivenPatterns([g.fill,g.stroke],function(S){typeof S[0]<"u"&&(g.fill=S[0]),typeof S[1]<"u"&&(g.stroke=S[1]),n.util.enlivenObjectEnlivables(g,g,function(){var T=y?new _(g[y],g):new _(g);m&&m(T)})})},n.Object.__uid=0)}(e),function(){var f=t.util.degreesToRadians,n={left:-.5,center:0,right:.5},c={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(h,i,o,a,u){var d=h.x,l=h.y,g,m,y;return typeof i=="string"?i=n[i]:i-=.5,typeof a=="string"?a=n[a]:a-=.5,g=a-i,typeof o=="string"?o=c[o]:o-=.5,typeof u=="string"?u=c[u]:u-=.5,m=u-o,(g||m)&&(y=this._getTransformedDimensions(),d=h.x+g*y.x,l=h.y+m*y.y),new t.Point(d,l)},translateToCenterPoint:function(h,i,o){var a=this.translateToGivenOrigin(h,i,o,"center","center");return this.angle?t.util.rotatePoint(a,h,f(this.angle)):a},translateToOriginPoint:function(h,i,o){var a=this.translateToGivenOrigin(h,"center","center",i,o);return this.angle?t.util.rotatePoint(a,h,f(this.angle)):a},getCenterPoint:function(){var h=new t.Point(this.left,this.top);return this.translateToCenterPoint(h,this.originX,this.originY)},getPointByOrigin:function(h,i){var o=this.getCenterPoint();return this.translateToOriginPoint(o,h,i)},toLocalPoint:function(h,i,o){var a=this.getCenterPoint(),u,d;return typeof i<"u"&&typeof o<"u"?u=this.translateToGivenOrigin(a,"center","center",i,o):u=new t.Point(this.left,this.top),d=new t.Point(h.x,h.y),this.angle&&(d=t.util.rotatePoint(d,a,-f(this.angle))),d.subtractEquals(u)},setPositionByOrigin:function(h,i,o){var a=this.translateToCenterPoint(h,i,o),u=this.translateToOriginPoint(a,this.originX,this.originY);this.set("left",u.x),this.set("top",u.y)},adjustPosition:function(h){var i=f(this.angle),o=this.getScaledWidth(),a=t.util.cos(i)*o,u=t.util.sin(i)*o,d,l;typeof this.originX=="string"?d=n[this.originX]:d=this.originX-.5,typeof h=="string"?l=n[h]:l=h-.5,this.left+=a*(l-d),this.top+=u*(l-d),this.setCoords(),this.originX=h},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var h=this.getCenterPoint();this.originX="center",this.originY="center",this.left=h.x,this.top=h.y},_resetOrigin:function(){var h=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=h.x,this.top=h.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function f(o){return[new t.Point(o.tl.x,o.tl.y),new t.Point(o.tr.x,o.tr.y),new t.Point(o.br.x,o.br.y),new t.Point(o.bl.x,o.bl.y)]}var n=t.util,c=n.degreesToRadians,h=n.multiplyTransformMatrices,i=n.transformPoint;n.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(o,a){return a?o?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),o?this.aCoords:this.lineCoords)},getCoords:function(o,a){return f(this._getCoords(o,a))},intersectsWithRect:function(o,a,u,d){var l=this.getCoords(u,d),g=t.Intersection.intersectPolygonRectangle(l,o,a);return g.status==="Intersection"},intersectsWithObject:function(o,a,u){var d=t.Intersection.intersectPolygonPolygon(this.getCoords(a,u),o.getCoords(a,u));return d.status==="Intersection"||o.isContainedWithinObject(this,a,u)||this.isContainedWithinObject(o,a,u)},isContainedWithinObject:function(o,a,u){for(var d=this.getCoords(a,u),l=a?o.aCoords:o.lineCoords,g=0,m=o._getImageLines(l);g<4;g++)if(!o.containsPoint(d[g],m))return!1;return!0},isContainedWithinRect:function(o,a,u,d){var l=this.getBoundingRect(u,d);return l.left>=o.x&&l.left+l.width<=a.x&&l.top>=o.y&&l.top+l.height<=a.y},containsPoint:function(o,g,u,d){var l=this._getCoords(u,d),g=g||this._getImageLines(l),m=this._findCrossPoints(o,g);return m!==0&&m%2===1},isOnScreen:function(o){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br,d=this.getCoords(!0,o);return d.some(function(l){return l.x<=u.x&&l.x>=a.x&&l.y<=u.y&&l.y>=a.y})||this.intersectsWithRect(a,u,!0,o)?!0:this._containsCenterOfCanvas(a,u,o)},_containsCenterOfCanvas:function(o,a,u){var d={x:(o.x+a.x)/2,y:(o.y+a.y)/2};return!!this.containsPoint(d,null,!0,u)},isPartiallyOnScreen:function(o){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br;if(this.intersectsWithRect(a,u,!0,o))return!0;var d=this.getCoords(!0,o).every(function(l){return(l.x>=u.x||l.x<=a.x)&&(l.y>=u.y||l.y<=a.y)});return d&&this._containsCenterOfCanvas(a,u,o)},_getImageLines:function(o){var a={topline:{o:o.tl,d:o.tr},rightline:{o:o.tr,d:o.br},bottomline:{o:o.br,d:o.bl},leftline:{o:o.bl,d:o.tl}};return a},_findCrossPoints:function(o,a){var u,d,l,g,m,y=0,_;for(var S in a)if(_=a[S],!(_.o.y<o.y&&_.d.y<o.y)&&!(_.o.y>=o.y&&_.d.y>=o.y)&&(_.o.x===_.d.x&&_.o.x>=o.x?m=_.o.x:(u=0,d=(_.d.y-_.o.y)/(_.d.x-_.o.x),l=o.y-u*o.x,g=_.o.y-d*_.o.x,m=-(l-g)/(u-d)),m>=o.x&&(y+=1),y===2))break;return y},getBoundingRect:function(o,a){var u=this.getCoords(o,a);return n.makeBoundingBoxFromPoints(u)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(o){return Math.abs(o)<this.minScaleLimit?o<0?-this.minScaleLimit:this.minScaleLimit:o===0?1e-4:o},scale:function(o){return this._set("scaleX",o),this._set("scaleY",o),this.setCoords()},scaleToWidth:function(o,a){var u=this.getBoundingRect(a).width/this.getScaledWidth();return this.scale(o/this.width/u)},scaleToHeight:function(o,a){var u=this.getBoundingRect(a).height/this.getScaledHeight();return this.scale(o/this.height/u)},calcLineCoords:function(){var o=this.getViewportTransform(),a=this.padding,u=c(this.angle),d=n.cos(u),l=n.sin(u),g=d*a,m=l*a,y=g+m,_=g-m,S=this.calcACoords(),T={tl:i(S.tl,o),tr:i(S.tr,o),bl:i(S.bl,o),br:i(S.br,o)};return a&&(T.tl.x-=_,T.tl.y-=y,T.tr.x+=y,T.tr.y-=_,T.bl.x-=y,T.bl.y+=_,T.br.x+=_,T.br.y+=y),T},calcOCoords:function(){var o=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),u=this.getViewportTransform(),d=h(u,a),l=h(d,o),l=h(l,[1/u[0],0,0,1/u[3],0,0]),g=this._calculateCurrentDimensions(),m={};return this.forEachControl(function(y,_,S){m[_]=y.positionHandler(g,l,S)}),m},calcACoords:function(){var o=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),u=h(a,o),d=this._getTransformedDimensions(),l=d.x/2,g=d.y/2;return{tl:i({x:-l,y:-g},u),tr:i({x:l,y:-g},u),bl:i({x:-l,y:g},u),br:i({x:l,y:g},u)}},setCoords:function(o){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),o?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return n.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var o=this.getCenterPoint();return[1,0,0,1,o.x,o.y]},transformMatrixKey:function(o){var a="_",u="";return!o&&this.group&&(u=this.group.transformMatrixKey(o)+a),u+this.top+a+this.left+a+this.scaleX+a+this.scaleY+a+this.skewX+a+this.skewY+a+this.angle+a+this.originX+a+this.originY+a+this.width+a+this.height+a+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(o){var a=this.calcOwnMatrix();if(o||!this.group)return a;var u=this.transformMatrixKey(o),d=this.matrixCache||(this.matrixCache={});return d.key===u?d.value:(this.group&&(a=h(this.group.calcTransformMatrix(!1),a)),d.key=u,d.value=a,a)},calcOwnMatrix:function(){var o=this.transformMatrixKey(!0),a=this.ownMatrixCache||(this.ownMatrixCache={});if(a.key===o)return a.value;var u=this._calcTranslateMatrix(),d={angle:this.angle,translateX:u[4],translateY:u[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return a.key=o,a.value=n.composeMatrix(d),a.value},_getNonTransformedDimensions:function(){var o=this.strokeWidth,a=this.width+o,u=this.height+o;return{x:a,y:u}},_getTransformedDimensions:function(o,a){typeof o>"u"&&(o=this.skewX),typeof a>"u"&&(a=this.skewY);var u,d,l,g=o===0&&a===0;if(this.strokeUniform?(d=this.width,l=this.height):(u=this._getNonTransformedDimensions(),d=u.x,l=u.y),g)return this._finalizeDimensions(d*this.scaleX,l*this.scaleY);var m=n.sizeAfterTransform(d,l,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:o,skewY:a});return this._finalizeDimensions(m.x,m.y)},_finalizeDimensions:function(o,a){return this.strokeUniform?{x:o+this.strokeWidth,y:a+this.strokeWidth}:{x:o,y:a}},_calculateCurrentDimensions:function(){var o=this.getViewportTransform(),a=this._getTransformedDimensions(),u=i(a,o,!0);return u.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(f){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,f):this.canvas&&this.canvas.sendBackwards(this,f),this},bringForward:function(f){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,f):this.canvas&&this.canvas.bringForward(this,f),this},moveTo:function(f){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,f):this.canvas&&this.canvas.moveTo(this,f),this}}),function(){function f(c,h){if(h){if(h.toLive)return c+": url(#SVGID_"+h.id+"); ";var i=new t.Color(h),o=c+": "+i.toRgb()+"; ",a=i.getAlpha();return a!==1&&(o+=c+"-opacity: "+a.toString()+"; "),o}else return c+": none; "}var n=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(c){var h=this.fillRule?this.fillRule:"nonzero",i=this.strokeWidth?this.strokeWidth:"0",o=this.strokeDashArray?this.strokeDashArray.join(" "):"none",a=this.strokeDashOffset?this.strokeDashOffset:"0",u=this.strokeLineCap?this.strokeLineCap:"butt",d=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",g=typeof this.opacity<"u"?this.opacity:"1",m=this.visible?"":" visibility: hidden;",y=c?"":this.getSvgFilter(),_=f("fill",this.fill),S=f("stroke",this.stroke);return[S,"stroke-width: ",i,"; ","stroke-dasharray: ",o,"; ","stroke-linecap: ",u,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",d,"; ","stroke-miterlimit: ",l,"; ",_,"fill-rule: ",h,"; ","opacity: ",g,";",y,m].join("")},getSvgSpanStyles:function(c,h){var i="; ",a=c.fontFamily?"font-family: "+(c.fontFamily.indexOf("'")===-1&&c.fontFamily.indexOf('"')===-1?"'"+c.fontFamily+"'":c.fontFamily)+i:"",o=c.strokeWidth?"stroke-width: "+c.strokeWidth+i:"",a=a,u=c.fontSize?"font-size: "+c.fontSize+"px"+i:"",d=c.fontStyle?"font-style: "+c.fontStyle+i:"",l=c.fontWeight?"font-weight: "+c.fontWeight+i:"",g=c.fill?f("fill",c.fill):"",m=c.stroke?f("stroke",c.stroke):"",y=this.getSvgTextDecoration(c),_=c.deltaY?"baseline-shift: "+-c.deltaY+"; ":"";return y&&(y="text-decoration: "+y+i),[m,o,a,u,d,l,y,g,_,h?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(c){return["overline","underline","line-through"].filter(function(h){return c[h.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(c,h){var i=c?this.calcTransformMatrix():this.calcOwnMatrix(),o='transform="'+t.util.matrixToSVG(i);return o+(h||"")+'" '},_setSVGBg:function(c){if(this.backgroundColor){var h=t.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',n(-this.width/2,h),'" y="',n(-this.height/2,h),'" width="',n(this.width,h),'" height="',n(this.height,h),`"></rect>
`)}},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(c),{reviver:c})},toClipPathSVG:function(c){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(c),{reviver:c})},_createBaseClipPathSVGMarkup:function(c,h){h=h||{};var i=h.reviver,o=h.additionalTransform||"",a=[this.getSvgTransform(!0,o),this.getSvgCommons()].join(""),u=c.indexOf("COMMON_PARTS");return c[u]=a,i?i(c.join("")):c.join("")},_createBaseSVGMarkup:function(c,h){h=h||{};var i=h.noStyle,o=h.reviver,a=i?"":'style="'+this.getSvgStyles()+'" ',u=h.withShadow?'style="'+this.getSvgFilter()+'" ':"",d=this.clipPath,l=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",g=d&&d.absolutePositioned,m=this.stroke,y=this.fill,_=this.shadow,S,T=[],A,N=c.indexOf("COMMON_PARTS"),Q=h.additionalTransform;return d&&(d.clipPathId="CLIPPATH_"+t.Object.__uid++,A='<clipPath id="'+d.clipPathId+`" >
`+d.toClipPathSVG(o)+`</clipPath>
`),g&&T.push("<g ",u,this.getSvgCommons(),` >
`),T.push("<g ",this.getSvgTransform(!1),g?"":u+this.getSvgCommons(),` >
`),S=[a,l,i?"":this.addPaintOrder()," ",Q?'transform="'+Q+'" ':""].join(""),c[N]=S,y&&y.toLive&&T.push(y.toSVG(this)),m&&m.toLive&&T.push(m.toSVG(this)),_&&T.push(_.toSVG(this)),d&&T.push(A),T.push(c.join("")),T.push(`</g>
`),g&&T.push(`</g>
`),o?o(T.join("")):T.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var f=t.util.object.extend,n="stateProperties";function c(i,o,a){var u={},d=!0;a.forEach(function(l){u[l]=i[l]}),f(i[o],u,d)}function h(i,o,a){if(i===o)return!0;if(Array.isArray(i)){if(!Array.isArray(o)||i.length!==o.length)return!1;for(var u=0,d=i.length;u<d;u++)if(!h(i[u],o[u]))return!1;return!0}else if(i&&typeof i=="object"){var l=Object.keys(i),g;if(!o||typeof o!="object"||!a&&l.length!==Object.keys(o).length)return!1;for(var u=0,d=l.length;u<d;u++)if(g=l[u],!(g==="canvas"||g==="group")&&!h(i[g],o[g]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(i){i=i||n;var o="_"+i;return Object.keys(this[o]).length<this[i].length?!0:!h(this[o],this,!0)},saveState:function(i){var o=i&&i.propertySet||n,a="_"+o;return this[a]?(c(this,a,this[o]),i&&i.stateProperties&&c(this,a,i.stateProperties),this):this.setupState(i)},setupState:function(i){i=i||{};var o=i.propertySet||n;return i.propertySet=o,this["_"+o]={},this.saveState(i),this}})}(),function(){var f=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(n,c){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var h=n.x,i=n.y,o,a,u=Object.keys(this.oCoords),d=u.length-1,l;for(this.__corner=0;d>=0;d--)if(l=u[d],!!this.isControlVisible(l)&&(a=this._getImageLines(c?this.oCoords[l].touchCorner:this.oCoords[l].corner),o=this._findCrossPoints({x:h,y:i},a),o!==0&&o%2===1))return this.__corner=l,l;return!1},forEachControl:function(n){for(var c in this.controls)n(this.controls[c],c,this)},_setCornerCoords:function(){var n=this.oCoords;for(var c in n){var h=this.controls[c];n[c].corner=h.calcCornerCoords(this.angle,this.cornerSize,n[c].x,n[c].y,!1),n[c].touchCorner=h.calcCornerCoords(this.angle,this.touchCornerSize,n[c].x,n[c].y,!0)}},drawSelectionBackground:function(n){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;n.save();var c=this.getCenterPoint(),h=this._calculateCurrentDimensions(),i=this.canvas.viewportTransform;return n.translate(c.x,c.y),n.scale(1/i[0],1/i[3]),n.rotate(f(this.angle)),n.fillStyle=this.selectionBackgroundColor,n.fillRect(-h.x/2,-h.y/2,h.x,h.y),n.restore(),this},drawBorders:function(n,c){c=c||{};var h=this._calculateCurrentDimensions(),i=this.borderScaleFactor,o=h.x+i,a=h.y+i,u=typeof c.hasControls<"u"?c.hasControls:this.hasControls,d=!1;return n.save(),n.strokeStyle=c.borderColor||this.borderColor,this._setLineDash(n,c.borderDashArray||this.borderDashArray),n.strokeRect(-o/2,-a/2,o,a),u&&(n.beginPath(),this.forEachControl(function(l,g,m){l.withConnection&&l.getVisibility(m,g)&&(d=!0,n.moveTo(l.x*o,l.y*a),n.lineTo(l.x*o+l.offsetX,l.y*a+l.offsetY))}),d&&n.stroke()),n.restore(),this},drawBordersInGroup:function(n,c,h){h=h||{};var i=t.util.sizeAfterTransform(this.width,this.height,c),o=this.strokeWidth,a=this.strokeUniform,u=this.borderScaleFactor,d=i.x+o*(a?this.canvas.getZoom():c.scaleX)+u,l=i.y+o*(a?this.canvas.getZoom():c.scaleY)+u;return n.save(),this._setLineDash(n,h.borderDashArray||this.borderDashArray),n.strokeStyle=h.borderColor||this.borderColor,n.strokeRect(-d/2,-l/2,d,l),n.restore(),this},drawControls:function(n,c){c=c||{},n.save();var h=this.canvas.getRetinaScaling(),i,o;return n.setTransform(h,0,0,h,0,0),n.strokeStyle=n.fillStyle=c.cornerColor||this.cornerColor,this.transparentCorners||(n.strokeStyle=c.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(n,c.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(i=this.group.calcTransformMatrix()),this.forEachControl(function(a,u,d){o=d.oCoords[u],a.getVisibility(d,u)&&(i&&(o=t.util.transformPoint(o,i)),a.render(n,o.x,o.y,c,d))}),n.restore(),this},isControlVisible:function(n){return this.controls[n]&&this.controls[n].getVisibility(this,n)},setControlVisible:function(n,c){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[n]=c,this},setControlsVisibility:function(n){n||(n={});for(var c in n)this.setControlVisible(c,n[c]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(f,n){n=n||{};var c=function(){},h=n.onComplete||c,i=n.onChange||c,o=this;return t.util.animate({target:this,startValue:f.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(a){f.set("left",a),o.requestRenderAll(),i()},onComplete:function(){f.setCoords(),h()}})},fxCenterObjectV:function(f,n){n=n||{};var c=function(){},h=n.onComplete||c,i=n.onChange||c,o=this;return t.util.animate({target:this,startValue:f.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(a){f.set("top",a),o.requestRenderAll(),i()},onComplete:function(){f.setCoords(),h()}})},fxRemove:function(f,n){n=n||{};var c=function(){},h=n.onComplete||c,i=n.onChange||c,o=this;return t.util.animate({target:this,startValue:f.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(a){f.set("opacity",a),o.requestRenderAll(),i()},onComplete:function(){o.remove(f),h()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var f=[],n,c,h=[];for(n in arguments[0])f.push(n);for(var i=0,o=f.length;i<o;i++)n=f[i],c=i!==o-1,h.push(this._animate(n,arguments[0][n],arguments[1],c));return h}else return this._animate.apply(this,arguments)},_animate:function(f,n,c,h){var i=this,o;n=n.toString(),c?c=t.util.object.clone(c):c={},~f.indexOf(".")&&(o=f.split("."));var a=i.colorProperties.indexOf(f)>-1||o&&i.colorProperties.indexOf(o[1])>-1,u=o?this.get(o[0])[o[1]]:this.get(f);"from"in c||(c.from=u),a||(~n.indexOf("=")?n=u+parseFloat(n.replace("=","")):n=parseFloat(n));var d={target:this,startValue:c.from,endValue:n,byValue:c.by,easing:c.easing,duration:c.duration,abort:c.abort&&function(l,g,m){return c.abort.call(i,l,g,m)},onChange:function(l,g,m){o?i[o[0]][o[1]]=l:i.set(f,l),!h&&c.onChange&&c.onChange(l,g,m)},onComplete:function(l,g,m){h||(i.setCoords(),c.onComplete&&c.onComplete(l,g,m))}};return a?t.util.animateColor(d.startValue,d.endValue,d.duration,d):t.util.animate(d)}}),function(f){var n=f.fabric||(f.fabric={}),c=n.util.object.extend,h=n.util.object.clone,i={x1:1,x2:1,y1:1,y2:1};if(n.Line){n.warn("fabric.Line is already defined");return}n.Line=n.util.createClass(n.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:n.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(a,u){a||(a=[0,0,0,0]),this.callSuper("initialize",u),this.set("x1",a[0]),this.set("y1",a[1]),this.set("x2",a[2]),this.set("y2",a[3]),this._setWidthHeight(u)},_setWidthHeight:function(a){a||(a={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in a?a.left:this._getLeftToOriginX(),this.top="top"in a?a.top:this._getTopToOriginY()},_set:function(a,u){return this.callSuper("_set",a,u),typeof i[a]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:o({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:o({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(a){a.beginPath();var u=this.calcLinePoints();a.moveTo(u.x1,u.y1),a.lineTo(u.x2,u.y2),a.lineWidth=this.strokeWidth;var d=a.strokeStyle;a.strokeStyle=this.stroke||a.fillStyle,this.stroke&&this._renderStroke(a),a.strokeStyle=d},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(a){return c(this.callSuper("toObject",a),this.calcLinePoints())},_getNonTransformedDimensions:function(){var a=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(a.y-=this.strokeWidth),this.height===0&&(a.x-=this.strokeWidth)),a},calcLinePoints:function(){var a=this.x1<=this.x2?-1:1,u=this.y1<=this.y2?-1:1,d=a*this.width*.5,l=u*this.height*.5,g=a*this.width*-.5,m=u*this.height*-.5;return{x1:d,x2:g,y1:l,y2:m}},_toSVG:function(){var a=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,`" />
`]}}),n.Line.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),n.Line.fromElement=function(a,u,d){d=d||{};var l=n.parseAttributes(a,n.Line.ATTRIBUTE_NAMES),g=[l.x1||0,l.y1||0,l.x2||0,l.y2||0];u(new n.Line(g,c(l,d)))},n.Line.fromObject=function(a,u){function d(g){delete g.points,u&&u(g)}var l=h(a,!0);l.points=[a.x1,a.y1,a.x2,a.y2],n.Object._fromObject("Line",l,d,"points")};function o(a,u){var d=a.origin,l=a.axis1,g=a.axis2,m=a.dimension,y=u.nearest,_=u.center,S=u.farthest;return function(){switch(this.get(d)){case y:return Math.min(this.get(l),this.get(g));case _:return Math.min(this.get(l),this.get(g))+.5*this.get(m);case S:return Math.max(this.get(l),this.get(g))}}}}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.util.degreesToRadians;if(n.Circle){n.warn("fabric.Circle is already defined.");return}n.Circle=n.util.createClass(n.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:n.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(i,o){return this.callSuper("_set",i,o),i==="radius"&&this.setRadius(o),this},toObject:function(i){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(i))},_toSVG:function(){var i,o=0,a=0,u=(this.endAngle-this.startAngle)%360;if(u===0)i=["<circle ","COMMON_PARTS",'cx="'+o+'" cy="'+a+'" ','r="',this.radius,`" />
`];else{var d=c(this.startAngle),l=c(this.endAngle),g=this.radius,m=n.util.cos(d)*g,y=n.util.sin(d)*g,_=n.util.cos(l)*g,S=n.util.sin(l)*g,T=u>180?"1":"0";i=['<path d="M '+m+" "+y," A "+g+" "+g," 0 ",+T+" 1"," "+_+" "+S,'" ',"COMMON_PARTS",` />
`]}return i},_render:function(i){i.beginPath(),i.arc(0,0,this.radius,c(this.startAngle),c(this.endAngle),!1),this._renderPaintInOrder(i)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(i){return this.radius=i,this.set("width",i*2).set("height",i*2)}}),n.Circle.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),n.Circle.fromElement=function(i,o){var a=n.parseAttributes(i,n.Circle.ATTRIBUTE_NAMES);if(!h(a))throw new Error("value of `r` attribute is required and can not be negative");a.left=(a.left||0)-a.radius,a.top=(a.top||0)-a.radius,o(new n.Circle(a))};function h(i){return"radius"in i&&i.radius>=0}n.Circle.fromObject=function(i,o){n.Object._fromObject("Circle",i,o)}}(e),function(f){var n=f.fabric||(f.fabric={});if(n.Triangle){n.warn("fabric.Triangle is already defined");return}n.Triangle=n.util.createClass(n.Object,{type:"triangle",width:100,height:100,_render:function(c){var h=this.width/2,i=this.height/2;c.beginPath(),c.moveTo(-h,i),c.lineTo(0,-i),c.lineTo(h,i),c.closePath(),this._renderPaintInOrder(c)},_toSVG:function(){var c=this.width/2,h=this.height/2,i=[-c+" "+h,"0 "+-h,c+" "+h].join(",");return["<polygon ","COMMON_PARTS",'points="',i,'" />']}}),n.Triangle.fromObject=function(c,h){return n.Object._fromObject("Triangle",c,h)}}(e),function(f){var n=f.fabric||(f.fabric={}),c=Math.PI*2;if(n.Ellipse){n.warn("fabric.Ellipse is already defined.");return}n.Ellipse=n.util.createClass(n.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:n.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(h){this.callSuper("initialize",h),this.set("rx",h&&h.rx||0),this.set("ry",h&&h.ry||0)},_set:function(h,i){switch(this.callSuper("_set",h,i),h){case"rx":this.rx=i,this.set("width",i*2);break;case"ry":this.ry=i,this.set("height",i*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(h){return this.callSuper("toObject",["rx","ry"].concat(h))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(h){h.beginPath(),h.save(),h.transform(1,0,0,this.ry/this.rx,0,0),h.arc(0,0,this.rx,0,c,!1),h.restore(),this._renderPaintInOrder(h)}}),n.Ellipse.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),n.Ellipse.fromElement=function(h,i){var o=n.parseAttributes(h,n.Ellipse.ATTRIBUTE_NAMES);o.left=(o.left||0)-o.rx,o.top=(o.top||0)-o.ry,i(new n.Ellipse(o))},n.Ellipse.fromObject=function(h,i){n.Object._fromObject("Ellipse",h,i)}}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.util.object.extend;if(n.Rect){n.warn("fabric.Rect is already defined");return}n.Rect=n.util.createClass(n.Object,{stateProperties:n.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:n.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(h){this.callSuper("initialize",h),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(h){var i=this.rx?Math.min(this.rx,this.width/2):0,o=this.ry?Math.min(this.ry,this.height/2):0,a=this.width,u=this.height,d=-this.width/2,l=-this.height/2,g=i!==0||o!==0,m=1-.5522847498;h.beginPath(),h.moveTo(d+i,l),h.lineTo(d+a-i,l),g&&h.bezierCurveTo(d+a-m*i,l,d+a,l+m*o,d+a,l+o),h.lineTo(d+a,l+u-o),g&&h.bezierCurveTo(d+a,l+u-m*o,d+a-m*i,l+u,d+a-i,l+u),h.lineTo(d+i,l+u),g&&h.bezierCurveTo(d+m*i,l+u,d,l+u-m*o,d,l+u-o),h.lineTo(d,l+o),g&&h.bezierCurveTo(d,l+m*o,d+m*i,l,d+i,l),h.closePath(),this._renderPaintInOrder(h)},toObject:function(h){return this.callSuper("toObject",["rx","ry"].concat(h))},_toSVG:function(){var h=-this.width/2,i=-this.height/2;return["<rect ","COMMON_PARTS",'x="',h,'" y="',i,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),n.Rect.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),n.Rect.fromElement=function(h,i,o){if(!h)return i(null);o=o||{};var a=n.parseAttributes(h,n.Rect.ATTRIBUTE_NAMES);a.left=a.left||0,a.top=a.top||0,a.height=a.height||0,a.width=a.width||0;var u=new n.Rect(c(o?n.util.object.clone(o):{},a));u.visible=u.visible&&u.width>0&&u.height>0,i(u)},n.Rect.fromObject=function(h,i){return n.Object._fromObject("Rect",h,i)}}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.util.object.extend,h=n.util.array.min,i=n.util.array.max,o=n.util.toFixed,a=n.util.projectStrokeOnPoints;if(n.Polyline){n.warn("fabric.Polyline is already defined");return}n.Polyline=n.util.createClass(n.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:n.Object.prototype.cacheProperties.concat("points"),initialize:function(u,d){d=d||{},this.points=u||[],this.callSuper("initialize",d),this._setPositionDimensions(d)},_projectStrokeOnPoints:function(){return a(this.points,this,!0)},_setPositionDimensions:function(u){var d=this._calcDimensions(u),l,g=this.exactBoundingBox?this.strokeWidth:0;this.width=d.width-g,this.height=d.height-g,u.fromSVG||(l=this.translateToGivenOrigin({x:d.left-this.strokeWidth/2+g/2,y:d.top-this.strokeWidth/2+g/2},"left","top",this.originX,this.originY)),typeof u.left>"u"&&(this.left=u.fromSVG?d.left:l.x),typeof u.top>"u"&&(this.top=u.fromSVG?d.top:l.y),this.pathOffset={x:d.left+this.width/2+g/2,y:d.top+this.height/2+g/2}},_calcDimensions:function(){var u=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,d=h(u,"x")||0,l=h(u,"y")||0,g=i(u,"x")||0,m=i(u,"y")||0,y=g-d,_=m-l;return{left:d,top:l,width:y,height:_}},toObject:function(u){return c(this.callSuper("toObject",u),{points:this.points.concat()})},_toSVG:function(){for(var u=[],d=this.pathOffset.x,l=this.pathOffset.y,g=n.Object.NUM_FRACTION_DIGITS,m=0,y=this.points.length;m<y;m++)u.push(o(this.points[m].x-d,g),",",o(this.points[m].y-l,g)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',u.join(""),`" />
`]},commonRender:function(u){var d,l=this.points.length,g=this.pathOffset.x,m=this.pathOffset.y;if(!l||isNaN(this.points[l-1].y))return!1;u.beginPath(),u.moveTo(this.points[0].x-g,this.points[0].y-m);for(var y=0;y<l;y++)d=this.points[y],u.lineTo(d.x-g,d.y-m);return!0},_render:function(u){this.commonRender(u)&&this._renderPaintInOrder(u)},complexity:function(){return this.get("points").length}}),n.Polyline.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat(),n.Polyline.fromElementGenerator=function(u){return function(d,l,g){if(!d)return l(null);g||(g={});var m=n.parsePointsAttribute(d.getAttribute("points")),y=n.parseAttributes(d,n[u].ATTRIBUTE_NAMES);y.fromSVG=!0,l(new n[u](m,c(y,g)))}},n.Polyline.fromElement=n.Polyline.fromElementGenerator("Polyline"),n.Polyline.fromObject=function(u,d){return n.Object._fromObject("Polyline",u,d,"points")}}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.util.projectStrokeOnPoints;if(n.Polygon){n.warn("fabric.Polygon is already defined");return}n.Polygon=n.util.createClass(n.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return c(this.points,this)},_render:function(h){this.commonRender(h)&&(h.closePath(),this._renderPaintInOrder(h))}}),n.Polygon.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat(),n.Polygon.fromElement=n.Polyline.fromElementGenerator("Polygon"),n.Polygon.fromObject=function(h,i){n.Object._fromObject("Polygon",h,i,"points")}}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.util.array.min,h=n.util.array.max,i=n.util.object.extend,o=n.util.object.clone,a=n.util.toFixed;if(n.Path){n.warn("fabric.Path is already defined");return}n.Path=n.util.createClass(n.Object,{type:"path",path:null,cacheProperties:n.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:n.Object.prototype.stateProperties.concat("path"),initialize:function(u,d){d=o(d||{}),delete d.path,this.callSuper("initialize",d),this._setPath(u||[],d)},_setPath:function(u,d){this.path=n.util.makePathSimpler(Array.isArray(u)?u:n.util.parsePath(u)),n.Polyline.prototype._setPositionDimensions.call(this,d||{})},_renderPathCommands:function(u){var d,l=0,g=0,m=0,y=0,_=0,S=0,T=-this.pathOffset.x,A=-this.pathOffset.y;u.beginPath();for(var N=0,Q=this.path.length;N<Q;++N)switch(d=this.path[N],d[0]){case"L":m=d[1],y=d[2],u.lineTo(m+T,y+A);break;case"M":m=d[1],y=d[2],l=m,g=y,u.moveTo(m+T,y+A);break;case"C":m=d[5],y=d[6],_=d[3],S=d[4],u.bezierCurveTo(d[1]+T,d[2]+A,_+T,S+A,m+T,y+A);break;case"Q":u.quadraticCurveTo(d[1]+T,d[2]+A,d[3]+T,d[4]+A),m=d[3],y=d[4],_=d[1],S=d[2];break;case"z":case"Z":m=l,y=g,u.closePath();break}},_render:function(u){this._renderPathCommands(u),this._renderPaintInOrder(u)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(u){return i(this.callSuper("toObject",u),{path:this.path.map(function(d){return d.slice()})})},toDatalessObject:function(u){var d=this.toObject(["sourcePath"].concat(u));return d.sourcePath&&delete d.path,d},_toSVG:function(){var u=n.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',u,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var u=n.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,u)+", "+a(-this.pathOffset.y,u)+")"},toClipPathSVG:function(u){var d=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:d})},toSVG:function(u){var d=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:d})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var u=[],d=[],l,g=0,m=0,y=0,_=0,S,T=0,A=this.path.length;T<A;++T){switch(l=this.path[T],l[0]){case"L":y=l[1],_=l[2],S=[];break;case"M":y=l[1],_=l[2],g=y,m=_,S=[];break;case"C":S=n.util.getBoundsOfCurve(y,_,l[1],l[2],l[3],l[4],l[5],l[6]),y=l[5],_=l[6];break;case"Q":S=n.util.getBoundsOfCurve(y,_,l[1],l[2],l[1],l[2],l[3],l[4]),y=l[3],_=l[4];break;case"z":case"Z":y=g,_=m;break}S.forEach(function(Ce){u.push(Ce.x),d.push(Ce.y)}),u.push(y),d.push(_)}var N=c(u)||0,Q=c(d)||0,re=h(u)||0,ve=h(d)||0,we=re-N,Te=ve-Q;return{left:N,top:Q,width:we,height:Te}}}),n.Path.fromObject=function(u,d){if(typeof u.sourcePath=="string"){var l=u.sourcePath;n.loadSVGFromURL(l,function(g){var m=g[0];m.setOptions(u),u.clipPath?n.util.enlivenObjects([u.clipPath],function(y){m.clipPath=y[0],d&&d(m)}):d&&d(m)})}else n.Object._fromObject("Path",u,d,"path")},n.Path.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat(["d"]),n.Path.fromElement=function(u,d,l){var g=n.parseAttributes(u,n.Path.ATTRIBUTE_NAMES);g.fromSVG=!0,d(new n.Path(g.d,i(g,l)))}}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.util.array.min,h=n.util.array.max;n.Group||(n.Group=n.util.createClass(n.Object,n.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(i,o,a){o=o||{},this._objects=[],a&&this.callSuper("initialize",o),this._objects=i||[];for(var u=this._objects.length;u--;)this._objects[u].group=this;if(a)this._updateObjectsACoords();else{var d=o&&o.centerPoint;o.originX!==void 0&&(this.originX=o.originX),o.originY!==void 0&&(this.originY=o.originY),d||this._calcBounds(),this._updateObjectsCoords(d),delete o.centerPoint,this.callSuper("initialize",o)}this.setCoords()},_updateObjectsACoords:function(){for(var i=!0,o=this._objects.length;o--;)this._objects[o].setCoords(i)},_updateObjectsCoords:function(o){for(var o=o||this.getCenterPoint(),a=this._objects.length;a--;)this._updateObjectCoords(this._objects[a],o)},_updateObjectCoords:function(i,o){var a=i.left,u=i.top,d=!0;i.set({left:a-o.x,top:u-o.y}),i.group=this,i.setCoords(d)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(i){var o=!!this.group;return this._restoreObjectsState(),n.util.resetObjectTransform(this),i&&(o&&n.util.removeTransformFromObject(i,this.group.calcTransformMatrix()),this._objects.push(i),i.group=this,i._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,o?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(i){return this._restoreObjectsState(),n.util.resetObjectTransform(this),this.remove(i),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(i){this.dirty=!0,i.group=this,i._set("canvas",this.canvas)},_onObjectRemoved:function(i){this.dirty=!0,delete i.group},_set:function(i,o){var a=this._objects.length;if(this.useSetOnGroup)for(;a--;)this._objects[a].setOnGroup(i,o);if(i==="canvas")for(;a--;)this._objects[a]._set(i,o);n.Object.prototype._set.call(this,i,o)},toObject:function(i){var o=this.includeDefaultValues,a=this._objects.filter(function(d){return!d.excludeFromExport}).map(function(d){var l=d.includeDefaultValues;d.includeDefaultValues=o;var g=d.toObject(i);return d.includeDefaultValues=l,g}),u=n.Object.prototype.toObject.call(this,i);return u.objects=a,u},toDatalessObject:function(i){var o,a=this.sourcePath;if(a)o=a;else{var u=this.includeDefaultValues;o=this._objects.map(function(l){var g=l.includeDefaultValues;l.includeDefaultValues=u;var m=l.toDatalessObject(i);return l.includeDefaultValues=g,m})}var d=n.Object.prototype.toDatalessObject.call(this,i);return d.objects=o,d},render:function(i){this._transformDone=!0,this.callSuper("render",i),this._transformDone=!1},shouldCache:function(){var i=n.Object.prototype.shouldCache.call(this);if(i){for(var o=0,a=this._objects.length;o<a;o++)if(this._objects[o].willDrawShadow())return this.ownCaching=!1,!1}return i},willDrawShadow:function(){if(n.Object.prototype.willDrawShadow.call(this))return!0;for(var i=0,o=this._objects.length;i<o;i++)if(this._objects[i].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(i){for(var o=0,a=this._objects.length;o<a;o++)this._objects[o].render(i);this._drawClipPath(i,this.clipPath)},isCacheDirty:function(i){if(this.callSuper("isCacheDirty",i))return!0;if(!this.statefullCache)return!1;for(var o=0,a=this._objects.length;o<a;o++)if(this._objects[o].isCacheDirty(!0)){if(this._cacheCanvas){var u=this.cacheWidth/this.zoomX,d=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-u/2,-d/2,u,d)}return!0}return!1},_restoreObjectsState:function(){var i=this.calcOwnMatrix();return this._objects.forEach(function(o){n.util.addTransformToObject(o,i),delete o.group,o.setCoords()}),this},destroy:function(){return this._objects.forEach(function(i){i.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(i){i.dispose&&i.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var i=this._objects,o=this.canvas;this._objects=[];var a=this.toObject();delete a.objects;var u=new n.ActiveSelection([]);return u.set(a),u.type="activeSelection",o.remove(this),i.forEach(function(d){d.group=u,d.dirty=!0,o.add(d)}),u.canvas=o,u._objects=i,o._activeObject=u,u.setCoords(),u}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var i=!0;return this.forEachObject(function(o){o.setCoords(i)}),this},_calcBounds:function(i){for(var o=[],a=[],u,d,l,g=["tr","br","bl","tl"],m=0,y=this._objects.length,_,S=g.length;m<y;++m){for(u=this._objects[m],l=u.calcACoords(),_=0;_<S;_++)d=g[_],o.push(l[d].x),a.push(l[d].y);u.aCoords=l}this._getBounds(o,a,i)},_getBounds:function(i,o,a){var u=new n.Point(c(i),c(o)),d=new n.Point(h(i),h(o)),l=u.y||0,g=u.x||0,m=d.x-u.x||0,y=d.y-u.y||0;this.width=m,this.height=y,a||this.setPositionByOrigin({x:g,y:l},"left","top")},_toSVG:function(i){for(var o=["<g ","COMMON_PARTS",` >
`],a=0,u=this._objects.length;a<u;a++)o.push("		",this._objects[a].toSVG(i));return o.push(`</g>
`),o},getSvgStyles:function(){var i=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",o=this.visible?"":" visibility: hidden;";return[i,this.getSvgFilter(),o].join("")},toClipPathSVG:function(i){for(var o=[],a=0,u=this._objects.length;a<u;a++)o.push("	",this._objects[a].toClipPathSVG(i));return this._createBaseClipPathSVGMarkup(o,{reviver:i})}}),n.Group.fromObject=function(i,o){var a=i.objects,u=n.util.object.clone(i,!0);if(delete u.objects,typeof a=="string"){n.loadSVGFromURL(a,function(d){var l=n.util.groupSVGElements(d,i,a),g=u.clipPath;delete u.clipPath,l.set(u),g?n.util.enlivenObjects([g],function(m){l.clipPath=m[0],o&&o(l)}):o&&o(l)});return}n.util.enlivenObjects(a,function(d){n.util.enlivenObjectEnlivables(i,u,function(){o&&o(new n.Group(d,u,!0))})})})}(e),function(f){var n=f.fabric||(f.fabric={});n.ActiveSelection||(n.ActiveSelection=n.util.createClass(n.Group,{type:"activeSelection",initialize:function(c,h){h=h||{},this._objects=c||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;h.originX&&(this.originX=h.originX),h.originY&&(this.originY=h.originY),this._calcBounds(),this._updateObjectsCoords(),n.Object.prototype.initialize.call(this,h),this.setCoords()},toGroup:function(){var c=this._objects.concat();this._objects=[];var h=n.Object.prototype.toObject.call(this),i=new n.Group([]);if(delete h.type,i.set(h),c.forEach(function(a){a.canvas.remove(a),a.group=i}),i._objects=c,!this.canvas)return i;var o=this.canvas;return o.add(i),o._activeObject=i,i.setCoords(),i},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(c,h,i){c.save(),c.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",c,h),i=i||{},typeof i.hasControls>"u"&&(i.hasControls=!1),i.forActiveSelection=!0;for(var o=0,a=this._objects.length;o<a;o++)this._objects[o]._renderControls(c,i);c.restore()}}),n.ActiveSelection.fromObject=function(c,h){n.util.enlivenObjects(c.objects,function(i){delete c.objects,h&&h(new n.ActiveSelection(i,c,!0))})})}(e),function(f){var n=t.util.object.extend;if(f.fabric||(f.fabric={}),f.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(c,h){h||(h={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",h),this._initElement(c,h)},getElement:function(){return this._element||{}},setElement:function(c,h){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=c,this._originalElement=c,this._initConfig(h),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(c){var h=t.filterBackend;h&&h.evictCachesForKey&&h.evictCachesForKey(c)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(c){t.util.cleanUpJsdomNode(this[c]),this[c]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var c=this.getElement();return{width:c.naturalWidth||c.width,height:c.naturalHeight||c.height}},_stroke:function(c){if(!(!this.stroke||this.strokeWidth===0)){var h=this.width/2,i=this.height/2;c.beginPath(),c.moveTo(-h,-i),c.lineTo(h,-i),c.lineTo(h,i),c.lineTo(-h,i),c.lineTo(-h,-i),c.closePath()}},toObject:function(c){var h=[];this.filters.forEach(function(o){o&&h.push(o.toObject())});var i=n(this.callSuper("toObject",["cropX","cropY"].concat(c)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:h});return this.resizeFilter&&(i.resizeFilter=this.resizeFilter.toObject()),i},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var c=[],h=[],i,o=this._element,a=-this.width/2,u=-this.height/2,d="",l="";if(!o)return[];if(this.hasCrop()){var g=t.Object.__uid++;c.push('<clipPath id="imageCrop_'+g+`">
`,'	<rect x="'+a+'" y="'+u+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),d=' clip-path="url(#imageCrop_'+g+')" '}if(this.imageSmoothing||(l='" image-rendering="optimizeSpeed'),h.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',a-this.cropX,'" y="',u-this.cropY,'" width="',o.width||o.naturalWidth,'" height="',o.height||o.height,l,'"',d,`></image>
`),this.stroke||this.strokeDashArray){var m=this.fill;this.fill=null,i=["	<rect ",'x="',a,'" y="',u,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=m}return this.paintFirst!=="fill"?c=c.concat(i,h):c=c.concat(h,i),c},getSrc:function(c){var h=c?this._element:this._originalElement;return h?h.toDataURL?h.toDataURL():this.srcFromAttribute?h.getAttribute("src"):h.src:this.src||""},setSrc:function(c,h,i){return t.util.loadImage(c,function(o,a){this.setElement(o,i),this._setWidthHeight(),h&&h(this,a)},this,i&&i.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var c=this.resizeFilter,h=this.minimumScaleTrigger,i=this.getTotalObjectScaling(),o=i.scaleX,a=i.scaleY,u=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!c||o>h&&a>h){this._element=u,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=o,this._lastScaleY=a;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var d=t.util.createCanvasElement(),l=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,g=u.width,m=u.height;d.width=g,d.height=m,this._element=d,this._lastScaleX=c.scaleX=o,this._lastScaleY=c.scaleY=a,t.filterBackend.applyFilters([c],u,g,m,this._element,l),this._filterScalingX=d.width/this._originalElement.width,this._filterScalingY=d.height/this._originalElement.height},applyFilters:function(c){if(c=c||this.filters||[],c=c.filter(function(u){return u&&!u.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),c.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var h=this._originalElement,i=h.naturalWidth||h.width,o=h.naturalHeight||h.height;if(this._element===this._originalElement){var a=t.util.createCanvasElement();a.width=i,a.height=o,this._element=a,this._filteredEl=a}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,i,o),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(c,this._originalElement,i,o,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(c){t.util.setImageSmoothing(c,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(c),this._renderPaintInOrder(c)},drawCacheOnCanvas:function(c){t.util.setImageSmoothing(c,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,c)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(c){var h=this._element;if(h){var i=this._filterScalingX,o=this._filterScalingY,a=this.width,u=this.height,d=Math.min,l=Math.max,g=l(this.cropX,0),m=l(this.cropY,0),y=h.naturalWidth||h.width,_=h.naturalHeight||h.height,S=g*i,T=m*o,A=d(a*i,y-S),N=d(u*o,_-T),Q=-a/2,re=-u/2,ve=d(a,y/i-g),we=d(u,_/o-m);h&&c.drawImage(h,S,T,A,N,Q,re,ve,we)}},_needsResize:function(){var c=this.getTotalObjectScaling();return c.scaleX!==this._lastScaleX||c.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(c,h){this.setElement(t.util.getById(c),h),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(c){c||(c={}),this.setOptions(c),this._setWidthHeight(c)},_initFilters:function(c,h){c&&c.length?t.util.enlivenObjects(c,function(i){h&&h(i)},"fabric.Image.filters"):h&&h()},_setWidthHeight:function(c){c||(c={});var h=this.getElement();this.width=c.width||h.naturalWidth||h.width||0,this.height=c.height||h.naturalHeight||h.height||0},parsePreserveAspectRatioAttribute:function(){var c=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),h=this._element.width,i=this._element.height,o=1,a=1,u=0,d=0,l=0,g=0,m,y=this.width,_=this.height,S={width:y,height:_};return c&&(c.alignX!=="none"||c.alignY!=="none")?(c.meetOrSlice==="meet"&&(o=a=t.util.findScaleToFit(this._element,S),m=(y-h*o)/2,c.alignX==="Min"&&(u=-m),c.alignX==="Max"&&(u=m),m=(_-i*a)/2,c.alignY==="Min"&&(d=-m),c.alignY==="Max"&&(d=m)),c.meetOrSlice==="slice"&&(o=a=t.util.findScaleToCover(this._element,S),m=h-y/o,c.alignX==="Mid"&&(l=m/2),c.alignX==="Max"&&(l=m),m=i-_/a,c.alignY==="Mid"&&(g=m/2),c.alignY==="Max"&&(g=m),h=y/o,i=_/a)):(o=y/h,a=_/i),{width:h,height:i,scaleX:o,scaleY:a,offsetLeft:u,offsetTop:d,cropX:l,cropY:g}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(c,h){var i=t.util.object.clone(c);t.util.loadImage(i.src,function(o,a){if(a){h&&h(null,!0);return}t.Image.prototype._initFilters.call(i,i.filters,function(u){i.filters=u||[],t.Image.prototype._initFilters.call(i,[i.resizeFilter],function(d){i.resizeFilter=d[0],t.util.enlivenObjectEnlivables(i,i,function(){var l=new t.Image(o,i);h(l,!1)})})})},null,i.crossOrigin)},t.Image.fromURL=function(c,h,i){t.util.loadImage(c,function(o,a){h&&h(new t.Image(o,i),a)},null,i&&i.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(c,h,i){var o=t.parseAttributes(c,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(o["xlink:href"],h,n(i?t.util.object.clone(i):{},o))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var f=this.angle%360;return f>0?Math.round((f-1)/90)*90:Math.round(f/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(f){f=f||{};var n=function(){},c=f.onComplete||n,h=f.onChange||n,i=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(o){i.rotate(o),h()},onComplete:function(){i.setCoords(),c()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(f){return f.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(f){return f.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function f(c,h){var i="precision "+h+` float;
void main(){}`,o=c.createShader(c.FRAGMENT_SHADER);return c.shaderSource(o,i),c.compileShader(o),!!c.getShaderParameter(o,c.COMPILE_STATUS)}t.isWebglSupported=function(c){if(t.isLikelyNode)return!1;c=c||t.WebglFilterBackend.prototype.tileSize;var h=document.createElement("canvas"),i=h.getContext("webgl")||h.getContext("experimental-webgl"),o=!1;if(i){t.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),o=t.maxTextureSize>=c;for(var a=["highp","mediump","lowp"],u=0;u<3;u++)if(f(i,a[u])){t.webGlPrecision=a[u];break}}return this.isSupported=o,o},t.WebglFilterBackend=n;function n(c){c&&c.tileSize&&(this.tileSize=c.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}n.prototype={tileSize:2048,resources:{},setupGLContext:function(c,h){this.dispose(),this.createWebGLCanvas(c,h),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(c,h)},chooseFastestCopyGLTo2DMethod:function(c,h){var i=typeof window.performance<"u",o;try{new ImageData(1,1),o=!0}catch{o=!1}var a=typeof ArrayBuffer<"u",u=typeof Uint8ClampedArray<"u";if(i&&o&&a&&u){var d=t.util.createCanvasElement(),l=new ArrayBuffer(c*h*4);if(t.forceGLPutImageData){this.imageBuffer=l,this.copyGLTo2D=x;return}var g={imageBuffer:l,destinationWidth:c,destinationHeight:h,targetCanvas:d},m,y,_;d.width=c,d.height=h,m=window.performance.now(),v.call(g,this.gl,g),y=window.performance.now()-m,m=window.performance.now(),x.call(g,this.gl,g),_=window.performance.now()-m,y>_?(this.imageBuffer=l,this.copyGLTo2D=x):this.copyGLTo2D=v}},createWebGLCanvas:function(c,h){var i=t.util.createCanvasElement();i.width=c,i.height=h;var o={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},a=i.getContext("webgl",o);a||(a=i.getContext("experimental-webgl",o)),a&&(a.clearColor(0,0,0,0),this.canvas=i,this.gl=a)},applyFilters:function(c,h,i,o,a,u){var d=this.gl,l;u&&(l=this.getCachedTexture(u,h));var g={originalWidth:h.width||h.originalWidth,originalHeight:h.height||h.originalHeight,sourceWidth:i,sourceHeight:o,destinationWidth:i,destinationHeight:o,context:d,sourceTexture:this.createTexture(d,i,o,!l&&h),targetTexture:this.createTexture(d,i,o),originalTexture:l||this.createTexture(d,i,o,!l&&h),passes:c.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:a},m=d.createFramebuffer();return d.bindFramebuffer(d.FRAMEBUFFER,m),c.forEach(function(y){y&&y.applyTo(g)}),p(g),this.copyGLTo2D(d,g),d.bindTexture(d.TEXTURE_2D,null),d.deleteTexture(g.sourceTexture),d.deleteTexture(g.targetTexture),d.deleteFramebuffer(m),a.getContext("2d").setTransform(1,0,0,1,0,0),g},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(c,h,i,o,a){var u=c.createTexture();return c.bindTexture(c.TEXTURE_2D,u),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a||c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a||c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),o?c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,o):c.texImage2D(c.TEXTURE_2D,0,c.RGBA,h,i,0,c.RGBA,c.UNSIGNED_BYTE,null),u},getCachedTexture:function(c,h){if(this.textureCache[c])return this.textureCache[c];var i=this.createTexture(this.gl,h.width,h.height,h);return this.textureCache[c]=i,i},evictCachesForKey:function(c){this.textureCache[c]&&(this.gl.deleteTexture(this.textureCache[c]),delete this.textureCache[c])},copyGLTo2D:v,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var c=this.gl,h={renderer:"",vendor:""};if(!c)return h;var i=c.getExtension("WEBGL_debug_renderer_info");if(i){var o=c.getParameter(i.UNMASKED_RENDERER_WEBGL),a=c.getParameter(i.UNMASKED_VENDOR_WEBGL);o&&(h.renderer=o.toLowerCase()),a&&(h.vendor=a.toLowerCase())}return this.gpuInfo=h,h}}}();function p(f){var n=f.targetCanvas,c=n.width,h=n.height,i=f.destinationWidth,o=f.destinationHeight;(c!==i||h!==o)&&(n.width=i,n.height=o)}function v(f,n){var c=f.canvas,h=n.targetCanvas,i=h.getContext("2d");i.translate(0,h.height),i.scale(1,-1);var o=c.height-h.height;i.drawImage(c,0,o,h.width,h.height,0,0,h.width,h.height)}function x(f,n){var c=n.targetCanvas,h=c.getContext("2d"),i=n.destinationWidth,o=n.destinationHeight,a=i*o*4,u=new Uint8Array(this.imageBuffer,0,a),d=new Uint8ClampedArray(this.imageBuffer,0,a);f.readPixels(0,0,i,o,f.RGBA,f.UNSIGNED_BYTE,u);var l=new ImageData(d,i,o);h.putImageData(l,0,0)}(function(){var f=function(){};t.Canvas2dFilterBackend=n;function n(){}n.prototype={evictCachesForKey:f,dispose:f,clearWebGLCaches:f,resources:{},applyFilters:function(c,h,i,o,a){var u=a.getContext("2d");u.drawImage(h,0,0,i,o);var d=u.getImageData(0,0,i,o),l=u.getImageData(0,0,i,o),g={sourceWidth:i,sourceHeight:o,imageData:d,originalEl:h,originalImageData:l,canvasEl:a,ctx:u,filterBackend:this};return c.forEach(function(m){m.applyTo(g)}),(g.imageData.width!==i||g.imageData.height!==o)&&(a.width=g.imageData.width,a.height=g.imageData.height),u.putImageData(g.imageData,0,0),g}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(f){f&&this.setOptions(f)},setOptions:function(f){for(var n in f)this[n]=f[n]},createProgram:function(f,n,c){n=n||this.fragmentSource,c=c||this.vertexSource,t.webGlPrecision!=="highp"&&(n=n.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var h=f.createShader(f.VERTEX_SHADER);if(f.shaderSource(h,c),f.compileShader(h),!f.getShaderParameter(h,f.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+f.getShaderInfoLog(h));var i=f.createShader(f.FRAGMENT_SHADER);if(f.shaderSource(i,n),f.compileShader(i),!f.getShaderParameter(i,f.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+f.getShaderInfoLog(i));var o=f.createProgram();if(f.attachShader(o,h),f.attachShader(o,i),f.linkProgram(o),!f.getProgramParameter(o,f.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+f.getProgramInfoLog(o));var a=this.getAttributeLocations(f,o),u=this.getUniformLocations(f,o)||{};return u.uStepW=f.getUniformLocation(o,"uStepW"),u.uStepH=f.getUniformLocation(o,"uStepH"),{program:o,attributeLocations:a,uniformLocations:u}},getAttributeLocations:function(f,n){return{aPosition:f.getAttribLocation(n,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(f,n,c){var h=n.aPosition,i=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,i),f.enableVertexAttribArray(h),f.vertexAttribPointer(h,2,f.FLOAT,!1,0,0),f.bufferData(f.ARRAY_BUFFER,c,f.STATIC_DRAW)},_setupFrameBuffer:function(f){var n=f.context,c,h;f.passes>1?(c=f.destinationWidth,h=f.destinationHeight,(f.sourceWidth!==c||f.sourceHeight!==h)&&(n.deleteTexture(f.targetTexture),f.targetTexture=f.filterBackend.createTexture(n,c,h)),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,f.targetTexture,0)):(n.bindFramebuffer(n.FRAMEBUFFER,null),n.finish())},_swapTextures:function(f){f.passes--,f.pass++;var n=f.targetTexture;f.targetTexture=f.sourceTexture,f.sourceTexture=n},isNeutralState:function(){var f=this.mainParameter,n=t.Image.filters[this.type].prototype;if(f)if(Array.isArray(n[f])){for(var c=n[f].length;c--;)if(this[f][c]!==n[f][c])return!1;return!0}else return n[f]===this[f];else return!1},applyTo:function(f){f.webgl?(this._setupFrameBuffer(f),this.applyToWebGL(f),this._swapTextures(f)):this.applyTo2d(f)},retrieveShader:function(f){return f.programCache.hasOwnProperty(this.type)||(f.programCache[this.type]=this.createProgram(f.context)),f.programCache[this.type]},applyToWebGL:function(f){var n=f.context,c=this.retrieveShader(f);f.pass===0&&f.originalTexture?n.bindTexture(n.TEXTURE_2D,f.originalTexture):n.bindTexture(n.TEXTURE_2D,f.sourceTexture),n.useProgram(c.program),this.sendAttributeData(n,c.attributeLocations,f.aPosition),n.uniform1f(c.uniformLocations.uStepW,1/f.sourceWidth),n.uniform1f(c.uniformLocations.uStepH,1/f.sourceHeight),this.sendUniformData(n,c.uniformLocations),n.viewport(0,0,f.destinationWidth,f.destinationHeight),n.drawArrays(n.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(f,n,c){f.activeTexture(c),f.bindTexture(f.TEXTURE_2D,n),f.activeTexture(f.TEXTURE0)},unbindAdditionalTexture:function(f,n){f.activeTexture(n),f.bindTexture(f.TEXTURE_2D,null),f.activeTexture(f.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(f){this[this.mainParameter]=f},sendUniformData:function(){},createHelpLayer:function(f){if(!f.helpLayer){var n=document.createElement("canvas");n.width=f.sourceWidth,n.height=f.sourceHeight,f.helpLayer=n}},toObject:function(){var f={type:this.type},n=this.mainParameter;return n&&(f[n]=this[n]),f},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(f,n){var c=new t.Image.filters[f.type](f);return n&&n(c),c},function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.ColorMatrix=h(c.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(i){this.callSuper("initialize",i),this.matrix=this.matrix.slice(0)},applyTo2d:function(i){var o=i.imageData,a=o.data,u=a.length,d=this.matrix,l,g,m,y,_,S=this.colorsOnly;for(_=0;_<u;_+=4)l=a[_],g=a[_+1],m=a[_+2],S?(a[_]=l*d[0]+g*d[1]+m*d[2]+d[4]*255,a[_+1]=l*d[5]+g*d[6]+m*d[7]+d[9]*255,a[_+2]=l*d[10]+g*d[11]+m*d[12]+d[14]*255):(y=a[_+3],a[_]=l*d[0]+g*d[1]+m*d[2]+y*d[3]+d[4]*255,a[_+1]=l*d[5]+g*d[6]+m*d[7]+y*d[8]+d[9]*255,a[_+2]=l*d[10]+g*d[11]+m*d[12]+y*d[13]+d[14]*255,a[_+3]=l*d[15]+g*d[16]+m*d[17]+y*d[18]+d[19]*255)},getUniformLocations:function(i,o){return{uColorMatrix:i.getUniformLocation(o,"uColorMatrix"),uConstants:i.getUniformLocation(o,"uConstants")}},sendUniformData:function(i,o){var a=this.matrix,u=[a[0],a[1],a[2],a[3],a[5],a[6],a[7],a[8],a[10],a[11],a[12],a[13],a[15],a[16],a[17],a[18]],d=[a[4],a[9],a[14],a[19]];i.uniformMatrix4fv(o.uColorMatrix,!1,u),i.uniform4fv(o.uConstants,d)}}),n.Image.filters.ColorMatrix.fromObject=n.Image.filters.BaseFilter.fromObject}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Brightness=h(c.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(i){if(this.brightness!==0){var o=i.imageData,a=o.data,u,d=a.length,l=Math.round(this.brightness*255);for(u=0;u<d;u+=4)a[u]=a[u]+l,a[u+1]=a[u+1]+l,a[u+2]=a[u+2]+l}},getUniformLocations:function(i,o){return{uBrightness:i.getUniformLocation(o,"uBrightness")}},sendUniformData:function(i,o){i.uniform1f(o.uBrightness,this.brightness)}}),n.Image.filters.Brightness.fromObject=n.Image.filters.BaseFilter.fromObject}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.util.object.extend,h=n.Image.filters,i=n.util.createClass;h.Convolute=i(h.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(o){var a=Math.sqrt(this.matrix.length),u=this.type+"_"+a+"_"+(this.opaque?1:0),d=this.fragmentSource[u];return o.programCache.hasOwnProperty(u)||(o.programCache[u]=this.createProgram(o.context,d)),o.programCache[u]},applyTo2d:function(o){var a=o.imageData,u=a.data,d=this.matrix,l=Math.round(Math.sqrt(d.length)),g=Math.floor(l/2),m=a.width,y=a.height,_=o.ctx.createImageData(m,y),S=_.data,T=this.opaque?1:0,A,N,Q,re,ve,we,Te,Ce,xe,Oe,me,ee,O;for(me=0;me<y;me++)for(Oe=0;Oe<m;Oe++){for(ve=(me*m+Oe)*4,A=0,N=0,Q=0,re=0,O=0;O<l;O++)for(ee=0;ee<l;ee++)Te=me+O-g,we=Oe+ee-g,!(Te<0||Te>=y||we<0||we>=m)&&(Ce=(Te*m+we)*4,xe=d[O*l+ee],A+=u[Ce]*xe,N+=u[Ce+1]*xe,Q+=u[Ce+2]*xe,T||(re+=u[Ce+3]*xe));S[ve]=A,S[ve+1]=N,S[ve+2]=Q,T?S[ve+3]=u[ve+3]:S[ve+3]=re}o.imageData=_},getUniformLocations:function(o,a){return{uMatrix:o.getUniformLocation(a,"uMatrix"),uOpaque:o.getUniformLocation(a,"uOpaque"),uHalfSize:o.getUniformLocation(a,"uHalfSize"),uSize:o.getUniformLocation(a,"uSize")}},sendUniformData:function(o,a){o.uniform1fv(a.uMatrix,this.matrix)},toObject:function(){return c(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),n.Image.filters.Convolute.fromObject=n.Image.filters.BaseFilter.fromObject}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Grayscale=h(c.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(i){var o=i.imageData,a=o.data,u,d=a.length,l,g=this.mode;for(u=0;u<d;u+=4)g==="average"?l=(a[u]+a[u+1]+a[u+2])/3:g==="lightness"?l=(Math.min(a[u],a[u+1],a[u+2])+Math.max(a[u],a[u+1],a[u+2]))/2:g==="luminosity"&&(l=.21*a[u]+.72*a[u+1]+.07*a[u+2]),a[u]=l,a[u+1]=l,a[u+2]=l},retrieveShader:function(i){var o=this.type+"_"+this.mode;if(!i.programCache.hasOwnProperty(o)){var a=this.fragmentSource[this.mode];i.programCache[o]=this.createProgram(i.context,a)}return i.programCache[o]},getUniformLocations:function(i,o){return{uMode:i.getUniformLocation(o,"uMode")}},sendUniformData:function(i,o){var a=1;i.uniform1i(o.uMode,a)},isNeutralState:function(){return!1}}),n.Image.filters.Grayscale.fromObject=n.Image.filters.BaseFilter.fromObject}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Invert=h(c.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(i){var o=i.imageData,a=o.data,u,d=a.length;for(u=0;u<d;u+=4)a[u]=255-a[u],a[u+1]=255-a[u+1],a[u+2]=255-a[u+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(i,o){return{uInvert:i.getUniformLocation(o,"uInvert")}},sendUniformData:function(i,o){i.uniform1i(o.uInvert,this.invert)}}),n.Image.filters.Invert.fromObject=n.Image.filters.BaseFilter.fromObject}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.util.object.extend,h=n.Image.filters,i=n.util.createClass;h.Noise=i(h.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(o){if(this.noise!==0){var a=o.imageData,u=a.data,d,l=u.length,g=this.noise,m;for(d=0,l=u.length;d<l;d+=4)m=(.5-Math.random())*g,u[d]+=m,u[d+1]+=m,u[d+2]+=m}},getUniformLocations:function(o,a){return{uNoise:o.getUniformLocation(a,"uNoise"),uSeed:o.getUniformLocation(a,"uSeed")}},sendUniformData:function(o,a){o.uniform1f(a.uNoise,this.noise/255),o.uniform1f(a.uSeed,Math.random())},toObject:function(){return c(this.callSuper("toObject"),{noise:this.noise})}}),n.Image.filters.Noise.fromObject=n.Image.filters.BaseFilter.fromObject}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Pixelate=h(c.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(i){var o=i.imageData,a=o.data,u=o.height,d=o.width,l,g,m,y,_,S,T,A,N,Q,re;for(g=0;g<u;g+=this.blocksize)for(m=0;m<d;m+=this.blocksize)for(l=g*4*d+m*4,y=a[l],_=a[l+1],S=a[l+2],T=a[l+3],Q=Math.min(g+this.blocksize,u),re=Math.min(m+this.blocksize,d),A=g;A<Q;A++)for(N=m;N<re;N++)l=A*4*d+N*4,a[l]=y,a[l+1]=_,a[l+2]=S,a[l+3]=T},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(i,o){return{uBlocksize:i.getUniformLocation(o,"uBlocksize"),uStepW:i.getUniformLocation(o,"uStepW"),uStepH:i.getUniformLocation(o,"uStepH")}},sendUniformData:function(i,o){i.uniform1f(o.uBlocksize,this.blocksize)}}),n.Image.filters.Pixelate.fromObject=n.Image.filters.BaseFilter.fromObject}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.util.object.extend,h=n.Image.filters,i=n.util.createClass;h.RemoveColor=i(h.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(o){var a=o.imageData,u=a.data,d,l=this.distance*255,g,m,y,_=new n.Color(this.color).getSource(),S=[_[0]-l,_[1]-l,_[2]-l],T=[_[0]+l,_[1]+l,_[2]+l];for(d=0;d<u.length;d+=4)g=u[d],m=u[d+1],y=u[d+2],g>S[0]&&m>S[1]&&y>S[2]&&g<T[0]&&m<T[1]&&y<T[2]&&(u[d+3]=0)},getUniformLocations:function(o,a){return{uLow:o.getUniformLocation(a,"uLow"),uHigh:o.getUniformLocation(a,"uHigh")}},sendUniformData:function(o,a){var u=new n.Color(this.color).getSource(),d=parseFloat(this.distance),l=[0+u[0]/255-d,0+u[1]/255-d,0+u[2]/255-d,1],g=[u[0]/255+d,u[1]/255+d,u[2]/255+d,1];o.uniform4fv(a.uLow,l),o.uniform4fv(a.uHigh,g)},toObject:function(){return c(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),n.Image.filters.RemoveColor.fromObject=n.Image.filters.BaseFilter.fromObject}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass,i={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var o in i)c[o]=h(c.ColorMatrix,{type:o,matrix:i[o],mainParameter:!1,colorsOnly:!0}),n.Image.filters[o].fromObject=n.Image.filters.BaseFilter.fromObject}(e),function(f){var n=f.fabric,c=n.Image.filters,h=n.util.createClass;c.BlendColor=h(c.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(i){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[i]+`}
}`},retrieveShader:function(i){var o=this.type+"_"+this.mode,a;return i.programCache.hasOwnProperty(o)||(a=this.buildSource(this.mode),i.programCache[o]=this.createProgram(i.context,a)),i.programCache[o]},applyTo2d:function(i){var o=i.imageData,a=o.data,u=a.length,d,l,g,m,y,_,S,T=1-this.alpha;S=new n.Color(this.color).getSource(),d=S[0]*this.alpha,l=S[1]*this.alpha,g=S[2]*this.alpha;for(var A=0;A<u;A+=4)switch(m=a[A],y=a[A+1],_=a[A+2],this.mode){case"multiply":a[A]=m*d/255,a[A+1]=y*l/255,a[A+2]=_*g/255;break;case"screen":a[A]=255-(255-m)*(255-d)/255,a[A+1]=255-(255-y)*(255-l)/255,a[A+2]=255-(255-_)*(255-g)/255;break;case"add":a[A]=m+d,a[A+1]=y+l,a[A+2]=_+g;break;case"diff":case"difference":a[A]=Math.abs(m-d),a[A+1]=Math.abs(y-l),a[A+2]=Math.abs(_-g);break;case"subtract":a[A]=m-d,a[A+1]=y-l,a[A+2]=_-g;break;case"darken":a[A]=Math.min(m,d),a[A+1]=Math.min(y,l),a[A+2]=Math.min(_,g);break;case"lighten":a[A]=Math.max(m,d),a[A+1]=Math.max(y,l),a[A+2]=Math.max(_,g);break;case"overlay":a[A]=d<128?2*m*d/255:255-2*(255-m)*(255-d)/255,a[A+1]=l<128?2*y*l/255:255-2*(255-y)*(255-l)/255,a[A+2]=g<128?2*_*g/255:255-2*(255-_)*(255-g)/255;break;case"exclusion":a[A]=d+m-2*d*m/255,a[A+1]=l+y-2*l*y/255,a[A+2]=g+_-2*g*_/255;break;case"tint":a[A]=d+m*T,a[A+1]=l+y*T,a[A+2]=g+_*T}},getUniformLocations:function(i,o){return{uColor:i.getUniformLocation(o,"uColor")}},sendUniformData:function(i,o){var a=new n.Color(this.color).getSource();a[0]=this.alpha*a[0]/255,a[1]=this.alpha*a[1]/255,a[2]=this.alpha*a[2]/255,a[3]=this.alpha,i.uniform4fv(o.uColor,a)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),n.Image.filters.BlendColor.fromObject=n.Image.filters.BaseFilter.fromObject}(e),function(f){var n=f.fabric,c=n.Image.filters,h=n.util.createClass;c.BlendImage=h(c.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(i){var o=this.type+"_"+this.mode,a=this.fragmentSource[this.mode];return i.programCache.hasOwnProperty(o)||(i.programCache[o]=this.createProgram(i.context,a)),i.programCache[o]},applyToWebGL:function(i){var o=i.context,a=this.createTexture(i.filterBackend,this.image);this.bindAdditionalTexture(o,a,o.TEXTURE1),this.callSuper("applyToWebGL",i),this.unbindAdditionalTexture(o,o.TEXTURE1)},createTexture:function(i,o){return i.getCachedTexture(o.cacheKey,o._element)},calculateMatrix:function(){var i=this.image,o=i._element.width,a=i._element.height;return[1/i.scaleX,0,0,0,1/i.scaleY,0,-i.left/o,-i.top/a,1]},applyTo2d:function(i){var o=i.imageData,a=i.filterBackend.resources,u=o.data,d=u.length,l=o.width,g=o.height,m,y,_,S,T,A,N,Q,re,ve,we=this.image,Te;a.blendImage||(a.blendImage=n.util.createCanvasElement()),re=a.blendImage,ve=re.getContext("2d"),re.width!==l||re.height!==g?(re.width=l,re.height=g):ve.clearRect(0,0,l,g),ve.setTransform(we.scaleX,0,0,we.scaleY,we.left,we.top),ve.drawImage(we._element,0,0,l,g),Te=ve.getImageData(0,0,l,g).data;for(var Ce=0;Ce<d;Ce+=4)switch(T=u[Ce],A=u[Ce+1],N=u[Ce+2],Q=u[Ce+3],m=Te[Ce],y=Te[Ce+1],_=Te[Ce+2],S=Te[Ce+3],this.mode){case"multiply":u[Ce]=T*m/255,u[Ce+1]=A*y/255,u[Ce+2]=N*_/255,u[Ce+3]=Q*S/255;break;case"mask":u[Ce+3]=S;break}},getUniformLocations:function(i,o){return{uTransformMatrix:i.getUniformLocation(o,"uTransformMatrix"),uImage:i.getUniformLocation(o,"uImage")}},sendUniformData:function(i,o){var a=this.calculateMatrix();i.uniform1i(o.uImage,1),i.uniformMatrix3fv(o.uTransformMatrix,!1,a)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),n.Image.filters.BlendImage.fromObject=function(i,o){n.Image.fromObject(i.image,function(a){var u=n.util.object.clone(i);u.image=a,o(new n.Image.filters.BlendImage(u))})}}(e),function(f){var n=f.fabric||(f.fabric={}),c=Math.pow,h=Math.floor,i=Math.sqrt,o=Math.abs,a=Math.round,u=Math.sin,d=Math.ceil,l=n.Image.filters,g=n.util.createClass;l.Resize=g(l.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(m,y){return{uDelta:m.getUniformLocation(y,"uDelta"),uTaps:m.getUniformLocation(y,"uTaps")}},sendUniformData:function(m,y){m.uniform2fv(y.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),m.uniform1fv(y.uTaps,this.taps)},retrieveShader:function(m){var y=this.getFilterWindow(),_=this.type+"_"+y;if(!m.programCache.hasOwnProperty(_)){var S=this.generateShader(y);m.programCache[_]=this.createProgram(m.context,S)}return m.programCache[_]},getFilterWindow:function(){var m=this.tempScale;return Math.ceil(this.lanczosLobes/m)},getTaps:function(){for(var m=this.lanczosCreate(this.lanczosLobes),y=this.tempScale,_=this.getFilterWindow(),S=new Array(_),T=1;T<=_;T++)S[T-1]=m(T*y);return S},generateShader:function(S){for(var y=new Array(S),_=this.fragmentSourceTOP,S,T=1;T<=S;T++)y[T-1]=T+".0 * uDelta";return _+="uniform float uTaps["+S+`];
`,_+=`void main() {
`,_+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,_+=`  float sum = 1.0;
`,y.forEach(function(A,N){_+="  color += texture2D(uTexture, vTexCoord + "+A+") * uTaps["+N+`];
`,_+="  color += texture2D(uTexture, vTexCoord - "+A+") * uTaps["+N+`];
`,_+="  sum += 2.0 * uTaps["+N+`];
`}),_+=`  gl_FragColor = color / sum;
`,_+="}",_},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(m){m.webgl?(m.passes++,this.width=m.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=m.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),m.destinationWidth=this.dW,this._setupFrameBuffer(m),this.applyToWebGL(m),this._swapTextures(m),m.sourceWidth=m.destinationWidth,this.height=m.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),m.destinationHeight=this.dH,this._setupFrameBuffer(m),this.applyToWebGL(m),this._swapTextures(m),m.sourceHeight=m.destinationHeight):this.applyTo2d(m)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(m){return function(y){if(y>=m||y<=-m)return 0;if(y<11920929e-14&&y>-11920929e-14)return 1;y*=Math.PI;var _=y/m;return u(y)/y*u(_)/_}},applyTo2d:function(m){var y=m.imageData,_=this.scaleX,S=this.scaleY;this.rcpScaleX=1/_,this.rcpScaleY=1/S;var T=y.width,A=y.height,N=a(T*_),Q=a(A*S),re;this.resizeType==="sliceHack"?re=this.sliceByTwo(m,T,A,N,Q):this.resizeType==="hermite"?re=this.hermiteFastResize(m,T,A,N,Q):this.resizeType==="bilinear"?re=this.bilinearFiltering(m,T,A,N,Q):this.resizeType==="lanczos"&&(re=this.lanczosResize(m,T,A,N,Q)),m.imageData=re},sliceByTwo:function(m,y,_,S,T){var A=m.imageData,N=.5,Q=!1,re=!1,ve=y*N,we=_*N,Te=n.filterBackend.resources,Ce,xe,Oe=0,me=0,ee=y,O=0;for(Te.sliceByTwo||(Te.sliceByTwo=document.createElement("canvas")),Ce=Te.sliceByTwo,(Ce.width<y*1.5||Ce.height<_)&&(Ce.width=y*1.5,Ce.height=_),xe=Ce.getContext("2d"),xe.clearRect(0,0,y*1.5,_),xe.putImageData(A,0,0),S=h(S),T=h(T);!Q||!re;)y=ve,_=we,S<h(ve*N)?ve=h(ve*N):(ve=S,Q=!0),T<h(we*N)?we=h(we*N):(we=T,re=!0),xe.drawImage(Ce,Oe,me,y,_,ee,O,ve,we),Oe=ee,me=O,O+=we;return xe.getImageData(Oe,me,S,T)},lanczosResize:function(m,y,_,S,T){function A(z){var F,U,L,k,D,K,G,Z,le,ne,he;for(O.x=(z+.5)*we,j.x=h(O.x),F=0;F<T;F++){for(O.y=(F+.5)*Te,j.y=h(O.y),D=0,K=0,G=0,Z=0,le=0,U=j.x-Oe;U<=j.x+Oe;U++)if(!(U<0||U>=y)){ne=h(1e3*o(U-O.x)),ee[ne]||(ee[ne]={});for(var ie=j.y-me;ie<=j.y+me;ie++)ie<0||ie>=_||(he=h(1e3*o(ie-O.y)),ee[ne][he]||(ee[ne][he]=ve(i(c(ne*Ce,2)+c(he*xe,2))/1e3)),L=ee[ne][he],L>0&&(k=(ie*y+U)*4,D+=L,K+=L*N[k],G+=L*N[k+1],Z+=L*N[k+2],le+=L*N[k+3]))}k=(F*S+z)*4,re[k]=K/D,re[k+1]=G/D,re[k+2]=Z/D,re[k+3]=le/D}return++z<S?A(z):Q}var N=m.imageData.data,Q=m.ctx.createImageData(S,T),re=Q.data,ve=this.lanczosCreate(this.lanczosLobes),we=this.rcpScaleX,Te=this.rcpScaleY,Ce=2/this.rcpScaleX,xe=2/this.rcpScaleY,Oe=d(we*this.lanczosLobes/2),me=d(Te*this.lanczosLobes/2),ee={},O={},j={};return A(0)},bilinearFiltering:function(m,y,_,S,T){var A,N,Q,re,ve,we,Te,Ce,xe,Oe,me,ee,O=0,j,z=this.rcpScaleX,F=this.rcpScaleY,U=4*(y-1),L=m.imageData,k=L.data,D=m.ctx.createImageData(S,T),K=D.data;for(Te=0;Te<T;Te++)for(Ce=0;Ce<S;Ce++)for(ve=h(z*Ce),we=h(F*Te),xe=z*Ce-ve,Oe=F*Te-we,j=4*(we*y+ve),me=0;me<4;me++)A=k[j+me],N=k[j+4+me],Q=k[j+U+me],re=k[j+U+4+me],ee=A*(1-xe)*(1-Oe)+N*xe*(1-Oe)+Q*Oe*(1-xe)+re*xe*Oe,K[O++]=ee;return D},hermiteFastResize:function(m,y,_,S,T){for(var A=this.rcpScaleX,N=this.rcpScaleY,Q=d(A/2),re=d(N/2),ve=m.imageData,we=ve.data,Te=m.ctx.createImageData(S,T),Ce=Te.data,xe=0;xe<T;xe++)for(var Oe=0;Oe<S;Oe++){for(var me=(Oe+xe*S)*4,ee=0,O=0,j=0,z=0,F=0,U=0,L=0,k=(xe+.5)*N,D=h(xe*N);D<(xe+1)*N;D++)for(var K=o(k-(D+.5))/re,G=(Oe+.5)*A,Z=K*K,le=h(Oe*A);le<(Oe+1)*A;le++){var ne=o(G-(le+.5))/Q,he=i(Z+ne*ne);he>1&&he<-1||(ee=2*he*he*he-3*he*he+1,ee>0&&(ne=4*(le+D*y),L+=ee*we[ne+3],j+=ee,we[ne+3]<255&&(ee=ee*we[ne+3]/250),z+=ee*we[ne],F+=ee*we[ne+1],U+=ee*we[ne+2],O+=ee))}Ce[me]=z/O,Ce[me+1]=F/O,Ce[me+2]=U/O,Ce[me+3]=L/j}return Te},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),n.Image.filters.Resize.fromObject=n.Image.filters.BaseFilter.fromObject}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Contrast=h(c.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(i){if(this.contrast!==0){var o=i.imageData,a,d,u=o.data,d=u.length,l=Math.floor(this.contrast*255),g=259*(l+255)/(255*(259-l));for(a=0;a<d;a+=4)u[a]=g*(u[a]-128)+128,u[a+1]=g*(u[a+1]-128)+128,u[a+2]=g*(u[a+2]-128)+128}},getUniformLocations:function(i,o){return{uContrast:i.getUniformLocation(o,"uContrast")}},sendUniformData:function(i,o){i.uniform1f(o.uContrast,this.contrast)}}),n.Image.filters.Contrast.fromObject=n.Image.filters.BaseFilter.fromObject}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Saturation=h(c.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(i){if(this.saturation!==0){var o=i.imageData,a=o.data,u=a.length,d=-this.saturation,l,g;for(l=0;l<u;l+=4)g=Math.max(a[l],a[l+1],a[l+2]),a[l]+=g!==a[l]?(g-a[l])*d:0,a[l+1]+=g!==a[l+1]?(g-a[l+1])*d:0,a[l+2]+=g!==a[l+2]?(g-a[l+2])*d:0}},getUniformLocations:function(i,o){return{uSaturation:i.getUniformLocation(o,"uSaturation")}},sendUniformData:function(i,o){i.uniform1f(o.uSaturation,-this.saturation)}}),n.Image.filters.Saturation.fromObject=n.Image.filters.BaseFilter.fromObject}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Vibrance=h(c.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(i){if(this.vibrance!==0){var o=i.imageData,a=o.data,u=a.length,d=-this.vibrance,l,g,m,y;for(l=0;l<u;l+=4)g=Math.max(a[l],a[l+1],a[l+2]),m=(a[l]+a[l+1]+a[l+2])/3,y=Math.abs(g-m)*2/255*d,a[l]+=g!==a[l]?(g-a[l])*y:0,a[l+1]+=g!==a[l+1]?(g-a[l+1])*y:0,a[l+2]+=g!==a[l+2]?(g-a[l+2])*y:0}},getUniformLocations:function(i,o){return{uVibrance:i.getUniformLocation(o,"uVibrance")}},sendUniformData:function(i,o){i.uniform1f(o.uVibrance,-this.vibrance)}}),n.Image.filters.Vibrance.fromObject=n.Image.filters.BaseFilter.fromObject}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Blur=h(c.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(i){i.webgl?(this.aspectRatio=i.sourceWidth/i.sourceHeight,i.passes++,this._setupFrameBuffer(i),this.horizontal=!0,this.applyToWebGL(i),this._swapTextures(i),this._setupFrameBuffer(i),this.horizontal=!1,this.applyToWebGL(i),this._swapTextures(i)):this.applyTo2d(i)},applyTo2d:function(i){i.imageData=this.simpleBlur(i)},simpleBlur:function(i){var o=i.filterBackend.resources,a,u,d=i.imageData.width,l=i.imageData.height;o.blurLayer1||(o.blurLayer1=n.util.createCanvasElement(),o.blurLayer2=n.util.createCanvasElement()),a=o.blurLayer1,u=o.blurLayer2,(a.width!==d||a.height!==l)&&(u.width=a.width=d,u.height=a.height=l);var g=a.getContext("2d"),m=u.getContext("2d"),y=15,_,S,T,A,N=this.blur*.06*.5;for(g.putImageData(i.imageData,0,0),m.clearRect(0,0,d,l),A=-y;A<=y;A++)_=(Math.random()-.5)/4,S=A/y,T=N*S*d+_,m.globalAlpha=1-Math.abs(S),m.drawImage(a,T,_),g.drawImage(u,0,0),m.globalAlpha=1,m.clearRect(0,0,u.width,u.height);for(A=-y;A<=y;A++)_=(Math.random()-.5)/4,S=A/y,T=N*S*l+_,m.globalAlpha=1-Math.abs(S),m.drawImage(a,_,T),g.drawImage(u,0,0),m.globalAlpha=1,m.clearRect(0,0,u.width,u.height);i.ctx.drawImage(a,0,0);var Q=i.ctx.getImageData(0,0,a.width,a.height);return g.globalAlpha=1,g.clearRect(0,0,a.width,a.height),Q},getUniformLocations:function(i,o){return{delta:i.getUniformLocation(o,"uDelta")}},sendUniformData:function(i,o){var a=this.chooseRightDelta();i.uniform2fv(o.delta,a)},chooseRightDelta:function(){var i=1,o=[0,0],a;return this.horizontal?this.aspectRatio>1&&(i=1/this.aspectRatio):this.aspectRatio<1&&(i=this.aspectRatio),a=i*this.blur*.12,this.horizontal?o[0]=a:o[1]=a,o}}),c.Blur.fromObject=n.Image.filters.BaseFilter.fromObject}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Gamma=h(c.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(i){this.gamma=[1,1,1],c.BaseFilter.prototype.initialize.call(this,i)},applyTo2d:function(i){var o=i.imageData,a=o.data,u=this.gamma,d=a.length,l=1/u[0],g=1/u[1],m=1/u[2],y;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),y=0,d=256;y<d;y++)this.rVals[y]=Math.pow(y/255,l)*255,this.gVals[y]=Math.pow(y/255,g)*255,this.bVals[y]=Math.pow(y/255,m)*255;for(y=0,d=a.length;y<d;y+=4)a[y]=this.rVals[a[y]],a[y+1]=this.gVals[a[y+1]],a[y+2]=this.bVals[a[y+2]]},getUniformLocations:function(i,o){return{uGamma:i.getUniformLocation(o,"uGamma")}},sendUniformData:function(i,o){i.uniform3fv(o.uGamma,this.gamma)}}),n.Image.filters.Gamma.fromObject=n.Image.filters.BaseFilter.fromObject}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.Composed=h(c.BaseFilter,{type:"Composed",subFilters:[],initialize:function(i){this.callSuper("initialize",i),this.subFilters=this.subFilters.slice(0)},applyTo:function(i){i.passes+=this.subFilters.length-1,this.subFilters.forEach(function(o){o.applyTo(i)})},toObject:function(){return n.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(i){return i.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(i){return!i.isNeutralState()})}}),n.Image.filters.Composed.fromObject=function(i,o){var a=i.subFilters||[],u=a.map(function(l){return new n.Image.filters[l.type](l)}),d=new n.Image.filters.Composed({subFilters:u});return o&&o(d),d}}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.Image.filters,h=n.util.createClass;c.HueRotation=h(c.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var i=this.rotation*Math.PI,o=n.util.cos(i),a=n.util.sin(i),u=1/3,d=Math.sqrt(u)*a,l=1-o;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=o+l/3,this.matrix[1]=u*l-d,this.matrix[2]=u*l+d,this.matrix[5]=u*l+d,this.matrix[6]=o+u*l,this.matrix[7]=u*l-d,this.matrix[10]=u*l-d,this.matrix[11]=u*l+d,this.matrix[12]=o+u*l},isNeutralState:function(i){return this.calculateMatrix(),c.BaseFilter.prototype.isNeutralState.call(this,i)},applyTo:function(i){this.calculateMatrix(),c.BaseFilter.prototype.applyTo.call(this,i)}}),n.Image.filters.HueRotation.fromObject=n.Image.filters.BaseFilter.fromObject}(e),function(f){var n=f.fabric||(f.fabric={}),c=n.util.object.clone;if(n.Text){n.warn("fabric.Text is already defined");return}var h="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");n.Text=n.util.createClass(n.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:n.Object.prototype.stateProperties.concat(h),cacheProperties:n.Object.prototype.cacheProperties.concat(h),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(i,o){this.styles=o?o.styles||{}:{},this.text=i,this.__skipDimension=!0,this.callSuper("initialize",o),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var i=this.path;i&&(i.segmentsInfo=n.util.getPathSegmentsInfo(i.path))},getMeasuringContext:function(){return n._measuringContext||(n._measuringContext=this.canvas&&this.canvas.contextCache||n.util.createCanvasElement().getContext("2d")),n._measuringContext},_splitText:function(){var i=this._splitTextIntoLines(this.text);return this.textLines=i.lines,this._textLines=i.graphemeLines,this._unwrappedTextLines=i._unwrappedLines,this._text=i.graphemeText,i},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var i,o,a,u,d,l,g,m=0,y=this._textLines.length;m<y;m++)if(!(this.textAlign!=="justify"&&(m===y-1||this.isEndOfWrapping(m)))&&(u=0,d=this._textLines[m],o=this.getLineWidth(m),o<this.width&&(g=this.textLines[m].match(this._reSpacesAndTabs)))){a=g.length,i=(this.width-o)/a;for(var _=0,S=d.length;_<=S;_++)l=this.__charBounds[m][_],this._reSpaceAndTab.test(d[_])?(l.width+=i,l.kernedWidth+=i,l.left+=u,u+=i):l.left+=u}},isEndOfWrapping:function(i){return i===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var i=this.callSuper("_getCacheCanvasDimensions"),o=this.fontSize;return i.width+=o*i.zoomX,i.height+=o*i.zoomY,i},_render:function(i){var o=this.path;o&&!o.isNotVisible()&&o._render(i),this._setTextStyles(i),this._renderTextLinesBackground(i),this._renderTextDecoration(i,"underline"),this._renderText(i),this._renderTextDecoration(i,"overline"),this._renderTextDecoration(i,"linethrough")},_renderText:function(i){this.paintFirst==="stroke"?(this._renderTextStroke(i),this._renderTextFill(i)):(this._renderTextFill(i),this._renderTextStroke(i))},_setTextStyles:function(i,o,a){if(i.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":i.textBaseline="middle";break;case"ascender":i.textBaseline="top";break;case"descender":i.textBaseline="bottom";break}i.font=this._getFontDeclaration(o,a)},calcTextWidth:function(){for(var i=this.getLineWidth(0),o=1,a=this._textLines.length;o<a;o++){var u=this.getLineWidth(o);u>i&&(i=u)}return i},_renderTextLine:function(i,o,a,u,d,l){this._renderChars(i,o,a,u,d,l)},_renderTextLinesBackground:function(i){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var o,a,u=i.fillStyle,d,l,g=this._getLeftOffset(),m=this._getTopOffset(),y=0,_=0,S,T,A=this.path,N,Q=0,re=this._textLines.length;Q<re;Q++){if(o=this.getHeightOfLine(Q),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",Q)){m+=o;continue}d=this._textLines[Q],a=this._getLineLeftOffset(Q),_=0,y=0,l=this.getValueOfPropertyAt(Q,0,"textBackgroundColor");for(var ve=0,we=d.length;ve<we;ve++)S=this.__charBounds[Q][ve],T=this.getValueOfPropertyAt(Q,ve,"textBackgroundColor"),A?(i.save(),i.translate(S.renderLeft,S.renderTop),i.rotate(S.angle),i.fillStyle=T,T&&i.fillRect(-S.width/2,-o/this.lineHeight*(1-this._fontSizeFraction),S.width,o/this.lineHeight),i.restore()):T!==l?(N=g+a+y,this.direction==="rtl"&&(N=this.width-N-_),i.fillStyle=l,l&&i.fillRect(N,m,_,o/this.lineHeight),y=S.left,_=S.width,l=T):_+=S.kernedWidth;T&&!A&&(N=g+a+y,this.direction==="rtl"&&(N=this.width-N-_),i.fillStyle=T,i.fillRect(N,m,_,o/this.lineHeight)),m+=o}i.fillStyle=u,this._removeShadow(i)}},getFontCache:function(i){var o=i.fontFamily.toLowerCase();n.charWidthsCache[o]||(n.charWidthsCache[o]={});var a=n.charWidthsCache[o],u=i.fontStyle.toLowerCase()+"_"+(i.fontWeight+"").toLowerCase();return a[u]||(a[u]={}),a[u]},_measureChar:function(i,o,a,u){var d=this.getFontCache(o),l=this._getFontDeclaration(o),g=this._getFontDeclaration(u),m=a+i,y=l===g,_,S,T,A=o.fontSize/this.CACHE_FONT_SIZE,N;if(a&&d[a]!==void 0&&(T=d[a]),d[i]!==void 0&&(N=_=d[i]),y&&d[m]!==void 0&&(S=d[m],N=S-T),_===void 0||T===void 0||S===void 0){var Q=this.getMeasuringContext();this._setTextStyles(Q,o,!0)}return _===void 0&&(N=_=Q.measureText(i).width,d[i]=_),T===void 0&&y&&a&&(T=Q.measureText(a).width,d[a]=T),y&&S===void 0&&(S=Q.measureText(m).width,d[m]=S,N=S-T),{width:_*A,kernedWidth:N*A}},getHeightOfChar:function(i,o){return this.getValueOfPropertyAt(i,o,"fontSize")},measureLine:function(i){var o=this._measureLine(i);return this.charSpacing!==0&&(o.width-=this._getWidthOfCharSpacing()),o.width<0&&(o.width=0),o},_measureLine:function(i){var o=0,a,u,d=this._textLines[i],l,g,m=0,y=new Array(d.length),_=0,S,T,A=this.path,N=this.pathSide==="right";for(this.__charBounds[i]=y,a=0;a<d.length;a++)u=d[a],g=this._getGraphemeBox(u,i,a,l),y[a]=g,o+=g.kernedWidth,l=u;if(y[a]={left:g?g.left+g.width:0,width:0,kernedWidth:0,height:this.fontSize},A){switch(T=A.segmentsInfo[A.segmentsInfo.length-1].length,S=n.util.getPointOnPath(A.path,0,A.segmentsInfo),S.x+=A.pathOffset.x,S.y+=A.pathOffset.y,this.textAlign){case"left":_=N?T-o:0;break;case"center":_=(T-o)/2;break;case"right":_=N?0:T-o;break}for(_+=this.pathStartOffset*(N?-1:1),a=N?d.length-1:0;N?a>=0:a<d.length;N?a--:a++)g=y[a],_>T?_%=T:_<0&&(_+=T),this._setGraphemeOnPath(_,g,S),_+=g.kernedWidth}return{width:o,numOfSpaces:m}},_setGraphemeOnPath:function(i,o,a){var u=i+o.kernedWidth/2,d=this.path,l=n.util.getPointOnPath(d.path,u,d.segmentsInfo);o.renderLeft=l.x-a.x,o.renderTop=l.y-a.y,o.angle=l.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(i,o,a,u,d){var l=this.getCompleteStyleDeclaration(o,a),g=u?this.getCompleteStyleDeclaration(o,a-1):{},m=this._measureChar(i,l,u,g),y=m.kernedWidth,_=m.width,S;this.charSpacing!==0&&(S=this._getWidthOfCharSpacing(),_+=S,y+=S);var T={width:_,left:0,height:l.fontSize,kernedWidth:y,deltaY:l.deltaY};if(a>0&&!d){var A=this.__charBounds[o][a-1];T.left=A.left+A.width+m.kernedWidth-m.width}return T},getHeightOfLine:function(i){if(this.__lineHeights[i])return this.__lineHeights[i];for(var o=this._textLines[i],a=this.getHeightOfChar(i,0),u=1,d=o.length;u<d;u++)a=Math.max(this.getHeightOfChar(i,u),a);return this.__lineHeights[i]=a*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var i,o=0,a=0,u=this._textLines.length;a<u;a++)i=this.getHeightOfLine(a),o+=a===u-1?i/this.lineHeight:i;return o},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(i,o){i.save();for(var a=0,u=this._getLeftOffset(),d=this._getTopOffset(),l=0,g=this._textLines.length;l<g;l++){var m=this.getHeightOfLine(l),y=m/this.lineHeight,_=this._getLineLeftOffset(l);this._renderTextLine(o,i,this._textLines[l],u+_,d+a+y,l),a+=m}i.restore()},_renderTextFill:function(i){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(i,"fillText")},_renderTextStroke:function(i){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(i),i.save(),this._setLineDash(i,this.strokeDashArray),i.beginPath(),this._renderTextCommon(i,"strokeText"),i.closePath(),i.restore())},_renderChars:function(i,o,a,u,d,l){var g=this.getHeightOfLine(l),m=this.textAlign.indexOf("justify")!==-1,y,_,S="",T,A=0,N,Q=this.path,re=!m&&this.charSpacing===0&&this.isEmptyStyles(l)&&!Q,ve=this.direction==="ltr",we=this.direction==="ltr"?1:-1,Te,Ce=o.canvas.getAttribute("dir");if(o.save(),Ce!==this.direction&&(o.canvas.setAttribute("dir",ve?"ltr":"rtl"),o.direction=ve?"ltr":"rtl",o.textAlign=ve?"left":"right"),d-=g*this._fontSizeFraction/this.lineHeight,re){this._renderChar(i,o,l,0,a.join(""),u,d,g),o.restore();return}for(var xe=0,Oe=a.length-1;xe<=Oe;xe++)N=xe===Oe||this.charSpacing||Q,S+=a[xe],T=this.__charBounds[l][xe],A===0?(u+=we*(T.kernedWidth-T.width),A+=T.width):A+=T.kernedWidth,m&&!N&&this._reSpaceAndTab.test(a[xe])&&(N=!0),N||(y=y||this.getCompleteStyleDeclaration(l,xe),_=this.getCompleteStyleDeclaration(l,xe+1),N=n.util.hasStyleChanged(y,_,!1)),N&&(Q?(o.save(),o.translate(T.renderLeft,T.renderTop),o.rotate(T.angle),this._renderChar(i,o,l,xe,S,-A/2,0,g),o.restore()):(Te=u,this._renderChar(i,o,l,xe,S,Te,d,g)),S="",y=_,u+=we*A,A=0);o.restore()},_applyPatternGradientTransformText:function(i){var o=n.util.createCanvasElement(),a,u=this.width+this.strokeWidth,d=this.height+this.strokeWidth;return o.width=u,o.height=d,a=o.getContext("2d"),a.beginPath(),a.moveTo(0,0),a.lineTo(u,0),a.lineTo(u,d),a.lineTo(0,d),a.closePath(),a.translate(u/2,d/2),a.fillStyle=i.toLive(a),this._applyPatternGradientTransform(a,i),a.fill(),a.createPattern(o,"no-repeat")},handleFiller:function(i,o,a){var u,d;return a.toLive?a.gradientUnits==="percentage"||a.gradientTransform||a.patternTransform?(u=-this.width/2,d=-this.height/2,i.translate(u,d),i[o]=this._applyPatternGradientTransformText(a),{offsetX:u,offsetY:d}):(i[o]=a.toLive(i,this),this._applyPatternGradientTransform(i,a)):(i[o]=a,{offsetX:0,offsetY:0})},_setStrokeStyles:function(i,o){return i.lineWidth=o.strokeWidth,i.lineCap=this.strokeLineCap,i.lineDashOffset=this.strokeDashOffset,i.lineJoin=this.strokeLineJoin,i.miterLimit=this.strokeMiterLimit,this.handleFiller(i,"strokeStyle",o.stroke)},_setFillStyles:function(i,o){return this.handleFiller(i,"fillStyle",o.fill)},_renderChar:function(i,o,a,u,d,l,g){var m=this._getStyleDeclaration(a,u),y=this.getCompleteStyleDeclaration(a,u),_=i==="fillText"&&y.fill,S=i==="strokeText"&&y.stroke&&y.strokeWidth,T,A;!S&&!_||(o.save(),_&&(T=this._setFillStyles(o,y)),S&&(A=this._setStrokeStyles(o,y)),o.font=this._getFontDeclaration(y),m&&m.textBackgroundColor&&this._removeShadow(o),m&&m.deltaY&&(g+=m.deltaY),_&&o.fillText(d,l-T.offsetX,g-T.offsetY),S&&o.strokeText(d,l-A.offsetX,g-A.offsetY),o.restore())},setSuperscript:function(i,o){return this._setScript(i,o,this.superscript)},setSubscript:function(i,o){return this._setScript(i,o,this.subscript)},_setScript:function(i,o,a){var u=this.get2DCursorLocation(i,!0),d=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"fontSize"),l=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"deltaY"),g={fontSize:d*a.size,deltaY:l+d*a.baseline};return this.setSelectionStyles(g,i,o),this},_getLineLeftOffset:function(i){var o=this.getLineWidth(i),a=this.width-o,u=this.textAlign,d=this.direction,g,l=0,g=this.isEndOfWrapping(i);return u==="justify"||u==="justify-center"&&!g||u==="justify-right"&&!g||u==="justify-left"&&!g?0:(u==="center"&&(l=a/2),u==="right"&&(l=a),u==="justify-center"&&(l=a/2),u==="justify-right"&&(l=a),d==="rtl"&&(l-=a),l)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var i=this._forceClearCache;return i||(i=this.hasStateChanged("_dimensionAffectingProps")),i&&(this.dirty=!0,this._forceClearCache=!1),i},getLineWidth:function(i){if(this.__lineWidths[i]!==void 0)return this.__lineWidths[i];var o=this.measureLine(i),a=o.width;return this.__lineWidths[i]=a,a},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(i,o,a){var u=this._getStyleDeclaration(i,o);return u&&typeof u[a]<"u"?u[a]:this[a]},_renderTextDecoration:function(i,o){if(!(!this[o]&&!this.styleHas(o))){for(var a,u,d,l,g,m,y,_,S=this._getLeftOffset(),T=this._getTopOffset(),A,N,Q,re,ve,we,Te,Ce,xe=this.path,Oe=this._getWidthOfCharSpacing(),me=this.offsets[o],ee=0,O=this._textLines.length;ee<O;ee++){if(a=this.getHeightOfLine(ee),!this[o]&&!this.styleHas(o,ee)){T+=a;continue}y=this._textLines[ee],we=a/this.lineHeight,l=this._getLineLeftOffset(ee),N=0,Q=0,_=this.getValueOfPropertyAt(ee,0,o),Ce=this.getValueOfPropertyAt(ee,0,"fill"),A=T+we*(1-this._fontSizeFraction),u=this.getHeightOfChar(ee,0),g=this.getValueOfPropertyAt(ee,0,"deltaY");for(var j=0,z=y.length;j<z;j++)if(re=this.__charBounds[ee][j],ve=this.getValueOfPropertyAt(ee,j,o),Te=this.getValueOfPropertyAt(ee,j,"fill"),d=this.getHeightOfChar(ee,j),m=this.getValueOfPropertyAt(ee,j,"deltaY"),xe&&ve&&Te)i.save(),i.fillStyle=Ce,i.translate(re.renderLeft,re.renderTop),i.rotate(re.angle),i.fillRect(-re.kernedWidth/2,me*d+m,re.kernedWidth,this.fontSize/15),i.restore();else if((ve!==_||Te!==Ce||d!==u||m!==g)&&Q>0){var F=S+l+N;this.direction==="rtl"&&(F=this.width-F-Q),_&&Ce&&(i.fillStyle=Ce,i.fillRect(F,A+me*u+g,Q,this.fontSize/15)),N=re.left,Q=re.width,_=ve,Ce=Te,u=d,g=m}else Q+=re.kernedWidth;var F=S+l+N;this.direction==="rtl"&&(F=this.width-F-Q),i.fillStyle=Te,ve&&Te&&i.fillRect(F,A+me*u+g,Q-Oe,this.fontSize/15),T+=a}this._removeShadow(i)}},_getFontDeclaration:function(i,o){var a=i||this,u=this.fontFamily,d=n.Text.genericFonts.indexOf(u.toLowerCase())>-1,l=u===void 0||u.indexOf("'")>-1||u.indexOf(",")>-1||u.indexOf('"')>-1||d?a.fontFamily:'"'+a.fontFamily+'"';return[n.isLikelyNode?a.fontWeight:a.fontStyle,n.isLikelyNode?a.fontStyle:a.fontWeight,o?this.CACHE_FONT_SIZE+"px":a.fontSize+"px",l].join(" ")},render:function(i){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",i)))},_splitTextIntoLines:function(i){for(var o=i.split(this._reNewline),a=new Array(o.length),u=[`
`],d=[],l=0;l<o.length;l++)a[l]=n.util.string.graphemeSplit(o[l]),d=d.concat(a[l],u);return d.pop(),{_unwrappedLines:a,lines:o,graphemeText:d,graphemeLines:a}},toObject:function(i){var o=h.concat(i),a=this.callSuper("toObject",o);return a.styles=n.util.stylesToArray(this.styles,this.text),a.path&&(a.path=this.path.toObject()),a},set:function(i,o){this.callSuper("set",i,o);var a=!1,u=!1;if(typeof i=="object")for(var d in i)d==="path"&&this.setPathInfo(),a=a||this._dimensionAffectingProps.indexOf(d)!==-1,u=u||d==="path";else a=this._dimensionAffectingProps.indexOf(i)!==-1,u=i==="path";return u&&this.setPathInfo(),a&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),n.Text.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),n.Text.DEFAULT_SVG_FONT_SIZE=16,n.Text.fromElement=function(i,o,a){if(!i)return o(null);var u=n.parseAttributes(i,n.Text.ATTRIBUTE_NAMES),d=u.textAnchor||"left";if(a=n.util.object.extend(a?c(a):{},u),a.top=a.top||0,a.left=a.left||0,u.textDecoration){var l=u.textDecoration;l.indexOf("underline")!==-1&&(a.underline=!0),l.indexOf("overline")!==-1&&(a.overline=!0),l.indexOf("line-through")!==-1&&(a.linethrough=!0),delete a.textDecoration}"dx"in u&&(a.left+=u.dx),"dy"in u&&(a.top+=u.dy),"fontSize"in a||(a.fontSize=n.Text.DEFAULT_SVG_FONT_SIZE);var g="";"textContent"in i?g=i.textContent:"firstChild"in i&&i.firstChild!==null&&"data"in i.firstChild&&i.firstChild.data!==null&&(g=i.firstChild.data),g=g.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var m=a.strokeWidth;a.strokeWidth=0;var y=new n.Text(g,a),_=y.getScaledHeight()/y.height,S=(y.height+y.strokeWidth)*y.lineHeight-y.height,T=S*_,A=y.getScaledHeight()+T,N=0;d==="center"&&(N=y.getScaledWidth()/2),d==="right"&&(N=y.getScaledWidth()),y.set({left:y.left-N,top:y.top-(A-y.fontSize*(.07+y._fontSizeFraction))/y.lineHeight,strokeWidth:typeof m<"u"?m:1}),o(y)},n.Text.fromObject=function(i,o){var a=c(i),u=i.path;return delete a.path,n.Object._fromObject("Text",a,function(d){d.styles=n.util.stylesFromArray(i.styles,i.text),u?n.Object._fromObject("Path",u,function(l){d.set("path",l),o(d)},"path"):o(d)},"text")},n.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],n.util.createAccessors&&n.util.createAccessors(n.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(f){if(!this.styles||typeof f<"u"&&!this.styles[f])return!0;var n=typeof f>"u"?this.styles:{line:this.styles[f]};for(var c in n)for(var h in n[c])for(var i in n[c][h])return!1;return!0},styleHas:function(f,n){if(!this.styles||!f||f===""||typeof n<"u"&&!this.styles[n])return!1;var c=typeof n>"u"?this.styles:{0:this.styles[n]};for(var h in c)for(var i in c[h])if(typeof c[h][i][f]<"u")return!0;return!1},cleanStyle:function(f){if(!this.styles||!f||f==="")return!1;var n=this.styles,c=0,h,i,o=!0,a=0,u;for(var d in n){h=0;for(var l in n[d]){var u=n[d][l],g=u.hasOwnProperty(f);c++,g?(i?u[f]!==i&&(o=!1):i=u[f],u[f]===this[f]&&delete u[f]):o=!1,Object.keys(u).length!==0?h++:delete n[d][l]}h===0&&delete n[d]}for(var m=0;m<this._textLines.length;m++)a+=this._textLines[m].length;o&&c===a&&(this[f]=i,this.removeStyle(f))},removeStyle:function(f){if(!(!this.styles||!f||f==="")){var n=this.styles,c,h,i;for(h in n){c=n[h];for(i in c)delete c[i][f],Object.keys(c[i]).length===0&&delete c[i];Object.keys(c).length===0&&delete n[h]}}},_extendStyles:function(f,n){var c=this.get2DCursorLocation(f);this._getLineStyle(c.lineIndex)||this._setLineStyle(c.lineIndex),this._getStyleDeclaration(c.lineIndex,c.charIndex)||this._setStyleDeclaration(c.lineIndex,c.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(c.lineIndex,c.charIndex),n)},get2DCursorLocation:function(f,n){typeof f>"u"&&(f=this.selectionStart);for(var c=n?this._unwrappedTextLines:this._textLines,h=c.length,i=0;i<h;i++){if(f<=c[i].length)return{lineIndex:i,charIndex:f};f-=c[i].length+this.missingNewlineOffset(i)}return{lineIndex:i-1,charIndex:c[i-1].length<f?c[i-1].length:f}},getSelectionStyles:function(f,n,c){typeof f>"u"&&(f=this.selectionStart||0),typeof n>"u"&&(n=this.selectionEnd||f);for(var h=[],i=f;i<n;i++)h.push(this.getStyleAtPosition(i,c));return h},getStyleAtPosition:function(f,n){var c=this.get2DCursorLocation(f),h=n?this.getCompleteStyleDeclaration(c.lineIndex,c.charIndex):this._getStyleDeclaration(c.lineIndex,c.charIndex);return h||{}},setSelectionStyles:function(f,n,c){typeof n>"u"&&(n=this.selectionStart||0),typeof c>"u"&&(c=this.selectionEnd||n);for(var h=n;h<c;h++)this._extendStyles(h,f);return this._forceClearCache=!0,this},_getStyleDeclaration:function(f,n){var c=this.styles&&this.styles[f];return c?c[n]:null},getCompleteStyleDeclaration:function(f,n){for(var c=this._getStyleDeclaration(f,n)||{},h={},i,o=0;o<this._styleProperties.length;o++)i=this._styleProperties[o],h[i]=typeof c[i]>"u"?this[i]:c[i];return h},_setStyleDeclaration:function(f,n,c){this.styles[f][n]=c},_deleteStyleDeclaration:function(f,n){delete this.styles[f][n]},_getLineStyle:function(f){return!!this.styles[f]},_setLineStyle:function(f){this.styles[f]={}},_deleteLineStyle:function(f){delete this.styles[f]}})}(),function(){function f(n){n.textDecoration&&(n.textDecoration.indexOf("underline")>-1&&(n.underline=!0),n.textDecoration.indexOf("line-through")>-1&&(n.linethrough=!0),n.textDecoration.indexOf("overline")>-1&&(n.overline=!0),delete n.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(n,c){this.callSuper("initialize",n,c),this.initBehavior()},setSelectionStart:function(n){n=Math.max(n,0),this._updateAndFire("selectionStart",n)},setSelectionEnd:function(n){n=Math.min(n,this.text.length),this._updateAndFire("selectionEnd",n)},_updateAndFire:function(n,c){this[n]!==c&&(this._fireSelectionChanged(),this[n]=c),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(n){this.clearContextTop(),this.callSuper("render",n),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(n){this.callSuper("_render",n)},clearContextTop:function(n){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var c=this.canvas.contextTop,h=this.canvas.viewportTransform;c.save(),c.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this.transform(c),this._clearTextArea(c),n||c.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var n=this._getCursorBoundaries(),c=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(n,c):this.renderSelection(n,c),c.restore()}},_clearTextArea:function(n){var c=this.width+4,h=this.height+4;n.clearRect(-c/2,-h/2,c,h)},_getCursorBoundaries:function(n){typeof n>"u"&&(n=this.selectionStart);var c=this._getLeftOffset(),h=this._getTopOffset(),i=this._getCursorBoundariesOffsets(n);return{left:c,top:h,leftOffset:i.left,topOffset:i.top}},_getCursorBoundariesOffsets:function(n){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var c,h,i,o=0,a=0,u,d=this.get2DCursorLocation(n);i=d.charIndex,h=d.lineIndex;for(var l=0;l<h;l++)o+=this.getHeightOfLine(l);c=this._getLineLeftOffset(h);var g=this.__charBounds[h][i];return g&&(a=g.left),this.charSpacing!==0&&i===this._textLines[h].length&&(a-=this._getWidthOfCharSpacing()),u={top:o,left:c+(a>0?a:0)},this.direction==="rtl"&&(u.left*=-1),this.cursorOffsetCache=u,this.cursorOffsetCache},renderCursor:function(n,c){var h=this.get2DCursorLocation(),i=h.lineIndex,o=h.charIndex>0?h.charIndex-1:0,a=this.getValueOfPropertyAt(i,o,"fontSize"),u=this.scaleX*this.canvas.getZoom(),d=this.cursorWidth/u,l=n.topOffset,g=this.getValueOfPropertyAt(i,o,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-a*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(n,c),c.fillStyle=this.cursorColor||this.getValueOfPropertyAt(i,o,"fill"),c.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,c.fillRect(n.left+n.leftOffset-d/2,l+n.top+g,d,a)},renderSelection:function(n,c){for(var h=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,i=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,o=this.textAlign.indexOf("justify")!==-1,a=this.get2DCursorLocation(h),u=this.get2DCursorLocation(i),d=a.lineIndex,l=u.lineIndex,g=a.charIndex<0?0:a.charIndex,m=u.charIndex<0?0:u.charIndex,y=d;y<=l;y++){var _=this._getLineLeftOffset(y)||0,S=this.getHeightOfLine(y),T=0,A=0,N=0;if(y===d&&(A=this.__charBounds[d][g].left),y>=d&&y<l)N=o&&!this.isEndOfWrapping(y)?this.width:this.getLineWidth(y)||5;else if(y===l)if(m===0)N=this.__charBounds[l][m].left;else{var Q=this._getWidthOfCharSpacing();N=this.__charBounds[l][m-1].left+this.__charBounds[l][m-1].width-Q}T=S,(this.lineHeight<1||y===l&&this.lineHeight>1)&&(S/=this.lineHeight);var re=n.left+_+A,ve=N-A,we=S,Te=0;this.inCompositionMode?(c.fillStyle=this.compositionColor||"black",we=1,Te=S):c.fillStyle=this.selectionColor,this.direction==="rtl"&&(re=this.width-re-ve),c.fillRect(re,n.top+n.topOffset+Te,ve,we),n.topOffset+=T}},getCurrentCharFontSize:function(){var n=this._getCurrentCharIndex();return this.getValueOfPropertyAt(n.l,n.c,"fontSize")},getCurrentCharColor:function(){var n=this._getCurrentCharIndex();return this.getValueOfPropertyAt(n.l,n.c,"fill")},_getCurrentCharIndex:function(){var n=this.get2DCursorLocation(this.selectionStart,!0),c=n.charIndex>0?n.charIndex-1:0;return{l:n.lineIndex,c}}}),t.IText.fromObject=function(n,c){var h=t.util.stylesFromArray(n.styles,n.text),i=Object.assign({},n,{styles:h});if(f(i),i.styles)for(var o in i.styles)for(var a in i.styles[o])f(i.styles[o][a]);t.Object._fromObject("IText",i,c,"text")}}(),function(){var f=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var n=this;this.on("added",function(){var c=n.canvas;c&&(c._hasITextHandlers||(c._hasITextHandlers=!0,n._initCanvasHandlers(c)),c._iTextInstances=c._iTextInstances||[],c._iTextInstances.push(n))})},initRemovedHandler:function(){var n=this;this.on("removed",function(){var c=n.canvas;c&&(c._iTextInstances=c._iTextInstances||[],t.util.removeFromArray(c._iTextInstances,n),c._iTextInstances.length===0&&(c._hasITextHandlers=!1,n._removeCanvasHandlers(c)))})},_initCanvasHandlers:function(n){n._mouseUpITextHandler=function(){n._iTextInstances&&n._iTextInstances.forEach(function(c){c.__isMousedown=!1})},n.on("mouse:up",n._mouseUpITextHandler)},_removeCanvasHandlers:function(n){n.off("mouse:up",n._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(n,c,h,i){var o;return o={isAborted:!1,abort:function(){this.isAborted=!0}},n.animate("_currentCursorOpacity",c,{duration:h,onComplete:function(){o.isAborted||n[i]()},onChange:function(){n.canvas&&n.selectionStart===n.selectionEnd&&n.renderCursorOrSelection()},abort:function(){return o.isAborted}}),o},_onTickComplete:function(){var n=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){n._currentTickCompleteState=n._animateCursor(n,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(n){var c=this,h=n?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){c._tick()},h)},abortCursorAnimation:function(){var n=this._currentTickState||this._currentTickCompleteState,c=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,n&&c&&c.clearContext(c.contextTop||c.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(n){var c=0,h=n-1;if(this._reSpace.test(this._text[h]))for(;this._reSpace.test(this._text[h]);)c++,h--;for(;/\S/.test(this._text[h])&&h>-1;)c++,h--;return n-c},findWordBoundaryRight:function(n){var c=0,h=n;if(this._reSpace.test(this._text[h]))for(;this._reSpace.test(this._text[h]);)c++,h++;for(;/\S/.test(this._text[h])&&h<this._text.length;)c++,h++;return n+c},findLineBoundaryLeft:function(n){for(var c=0,h=n-1;!/\n/.test(this._text[h])&&h>-1;)c++,h--;return n-c},findLineBoundaryRight:function(n){for(var c=0,h=n;!/\n/.test(this._text[h])&&h<this._text.length;)c++,h++;return n+c},searchWordBoundary:function(n,c){for(var h=this._text,i=this._reSpace.test(h[n])?n-1:n,o=h[i],a=t.reNonWord;!a.test(o)&&i>0&&i<h.length;)i+=c,o=h[i];return a.test(o)&&(i+=c===1?0:1),i},selectWord:function(n){n=n||this.selectionStart;var c=this.searchWordBoundary(n,-1),h=this.searchWordBoundary(n,1);this.selectionStart=c,this.selectionEnd=h,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(n){n=n||this.selectionStart;var c=this.findLineBoundaryLeft(n),h=this.findLineBoundaryRight(n);return this.selectionStart=c,this.selectionEnd=h,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(n){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(n),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(n){n._iTextInstances&&n._iTextInstances.forEach(function(c){c.selected=!1,c.isEditing&&c.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(n){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var c=this.getSelectionStartFromPointer(n.e),h=this.selectionStart,i=this.selectionEnd;(c!==this.__selectionStartOnMouseDown||h===i)&&(h===c||i===c)||(c>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=c):(this.selectionStart=c,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==h||this.selectionEnd!==i)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(n,c,h){var i=h.slice(0,n),o=t.util.string.graphemeSplit(i).length;if(n===c)return{selectionStart:o,selectionEnd:o};var a=h.slice(n,c),u=t.util.string.graphemeSplit(a).length;return{selectionStart:o,selectionEnd:o+u}},fromGraphemeToStringSelection:function(n,c,h){var i=h.slice(0,n),o=i.join("").length;if(n===c)return{selectionStart:o,selectionEnd:o};var a=h.slice(n,c),u=a.join("").length;return{selectionStart:o,selectionEnd:o+u}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var n=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=n.selectionStart,this.hiddenTextarea.selectionEnd=n.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var n=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=n.selectionEnd,this.inCompositionMode||(this.selectionStart=n.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var n=this._calcTextareaPosition();this.hiddenTextarea.style.left=n.left,this.hiddenTextarea.style.top=n.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var n=this.inCompositionMode?this.compositionStart:this.selectionStart,c=this._getCursorBoundaries(n),h=this.get2DCursorLocation(n),i=h.lineIndex,o=h.charIndex,a=this.getValueOfPropertyAt(i,o,"fontSize")*this.lineHeight,u=c.leftOffset,d=this.calcTransformMatrix(),l={x:c.left+u,y:c.top+c.topOffset+a},g=this.canvas.getRetinaScaling(),m=this.canvas.upperCanvasEl,y=m.width/g,_=m.height/g,S=y-a,T=_-a,A=m.clientWidth/y,N=m.clientHeight/_;return l=t.util.transformPoint(l,d),l=t.util.transformPoint(l,this.canvas.viewportTransform),l.x*=A,l.y*=N,l.x<0&&(l.x=0),l.x>S&&(l.x=S),l.y<0&&(l.y=0),l.y>T&&(l.y=T),l.x+=this.canvas._offset.left,l.y+=this.canvas._offset.top,{left:l.x+"px",top:l.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var n=this._textBeforeEdit!==this.text,c=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,c&&(c.blur&&c.blur(),c.parentNode&&c.parentNode.removeChild(c)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),n&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),n&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var n in this.styles)this._textLines[n]||delete this.styles[n]},removeStyleFromTo:function(n,c){var h=this.get2DCursorLocation(n,!0),i=this.get2DCursorLocation(c,!0),o=h.lineIndex,a=h.charIndex,u=i.lineIndex,d=i.charIndex,l,g;if(o!==u){if(this.styles[o])for(l=a;l<this._unwrappedTextLines[o].length;l++)delete this.styles[o][l];if(this.styles[u])for(l=d;l<this._unwrappedTextLines[u].length;l++)g=this.styles[u][l],g&&(this.styles[o]||(this.styles[o]={}),this.styles[o][a+l-d]=g);for(l=o+1;l<=u;l++)delete this.styles[l];this.shiftLineStyles(u,o-u)}else if(this.styles[o]){g=this.styles[o];var m=d-a,y,_;for(l=a;l<d;l++)delete g[l];for(_ in this.styles[o])y=parseInt(_,10),y>=d&&(g[y-m]=g[_],delete g[_])}},shiftLineStyles:function(n,c){var h=f(this.styles);for(var i in this.styles){var o=parseInt(i,10);o>n&&(this.styles[o+c]=h[o],h[o-c]||delete this.styles[o])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(n,c,h,i){var o,a={},u=!1,d=this._unwrappedTextLines[n].length===c;h||(h=1),this.shiftLineStyles(n,h),this.styles[n]&&(o=this.styles[n][c===0?c:c-1]);for(var l in this.styles[n]){var g=parseInt(l,10);g>=c&&(u=!0,a[g-c]=this.styles[n][l],d&&c===0||delete this.styles[n][l])}var m=!1;for(u&&!d&&(this.styles[n+h]=a,m=!0),m&&h--;h>0;)i&&i[h-1]?this.styles[n+h]={0:f(i[h-1])}:o?this.styles[n+h]={0:f(o)}:delete this.styles[n+h],h--;this._forceClearCache=!0},insertCharStyleObject:function(n,c,h,i){this.styles||(this.styles={});var o=this.styles[n],a=o?f(o):{};h||(h=1);for(var u in a){var d=parseInt(u,10);d>=c&&(o[d+h]=a[d],a[d-h]||delete o[d])}if(this._forceClearCache=!0,i){for(;h--;)Object.keys(i[h]).length&&(this.styles[n]||(this.styles[n]={}),this.styles[n][c+h]=f(i[h]));return}if(o)for(var l=o[c?c-1:1];l&&h--;)this.styles[n][c+h]=f(l)},insertNewStyleBlock:function(n,c,h){for(var i=this.get2DCursorLocation(c,!0),o=[0],a=0,u=0;u<n.length;u++)n[u]===`
`?(a++,o[a]=0):o[a]++;o[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,o[0],h),h=h&&h.slice(o[0]+1)),a&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+o[0],a);for(var u=1;u<a;u++)o[u]>0?this.insertCharStyleObject(i.lineIndex+u,0,o[u],h):h&&this.styles[i.lineIndex+u]&&h[0]&&(this.styles[i.lineIndex+u][0]=h[0]),h=h&&h.slice(o[u]+1);o[u]>0&&this.insertCharStyleObject(i.lineIndex+u,0,o[u],h)},setSelectionStartEndWithShift:function(n,c,h){h<=n?(c===n?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=n),this.selectionStart=h):h>n&&h<c?this._selectionDirection==="right"?this.selectionEnd=h:this.selectionStart=h:(c===n?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=c),this.selectionEnd=h)},setSelectionInBoundaries:function(){var n=this.text.length;this.selectionStart>n?this.selectionStart=n:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>n?this.selectionEnd=n:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(f){if(this.canvas){this.__newClickTime=+new Date;var n=f.pointer;this.isTripleClick(n)&&(this.fire("tripleclick",f),this._stopEvent(f.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=n,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(f){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===f.x&&this.__lastPointer.y===f.y},_stopEvent:function(f){f.preventDefault&&f.preventDefault(),f.stopPropagation&&f.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(f){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(f.e))},tripleClickHandler:function(f){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(f.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(f){!this.canvas||!this.editable||f.e.button&&f.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(f.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(f){!this.canvas||!this.editable||f.e.button&&f.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(f){if(this.__isMousedown=!1,!(!this.editable||this.group||f.transform&&f.transform.actionPerformed||f.e.button&&f.e.button!==1)){if(this.canvas){var n=this.canvas._activeObject;if(n&&n!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(f.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(f){var n=this.getSelectionStartFromPointer(f),c=this.selectionStart,h=this.selectionEnd;f.shiftKey?this.setSelectionStartEndWithShift(c,h,n):(this.selectionStart=n,this.selectionEnd=n),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(f){for(var n=this.getLocalPointer(f),c=0,h=0,i=0,o=0,a=0,u,d,l=0,g=this._textLines.length;l<g&&i<=n.y;l++)i+=this.getHeightOfLine(l)*this.scaleY,a=l,l>0&&(o+=this._textLines[l-1].length+this.missingNewlineOffset(l-1));u=this._getLineLeftOffset(a),h=u*this.scaleX,d=this._textLines[a],this.direction==="rtl"&&(n.x=this.width*this.scaleX-n.x+h);for(var m=0,y=d.length;m<y&&(c=h,h+=this.__charBounds[a][m].kernedWidth*this.scaleX,h<=n.x);m++)o++;return this._getNewSelectionStartFromOffset(n,c,h,o,y)},_getNewSelectionStartFromOffset:function(f,n,c,h,i){var o=f.x-n,a=c-f.x,u=a>o||a<0?0:1,d=h+u;return this.flipX&&(d=i-d),d>this._text.length&&(d=this._text.length),d}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var f=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+f.top+"; left: "+f.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+f.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(f){if(this.isEditing){var n=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(f.keyCode in n)this[n[f.keyCode]](f);else if(f.keyCode in this.ctrlKeysMapDown&&(f.ctrlKey||f.metaKey))this[this.ctrlKeysMapDown[f.keyCode]](f);else return;f.stopImmediatePropagation(),f.preventDefault(),f.keyCode>=33&&f.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(f){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(f.keyCode in this.ctrlKeysMapUp&&(f.ctrlKey||f.metaKey))this[this.ctrlKeysMapUp[f.keyCode]](f);else return;f.stopImmediatePropagation(),f.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(f){var n=this.fromPaste;if(this.fromPaste=!1,f&&f.stopPropagation(),!!this.isEditing){var c=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,h=this._text.length,i=c.length,o,a,u=i-h,d=this.selectionStart,l=this.selectionEnd,g=d!==l,m,y,_;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var S=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),T=d>S.selectionStart;g?(o=this._text.slice(d,l),u+=l-d):i<h&&(T?o=this._text.slice(l+u,l):o=this._text.slice(d,d-u)),a=c.slice(S.selectionEnd-u,S.selectionEnd),o&&o.length&&(a.length&&(m=this.getSelectionStyles(d,d+1,!1),m=a.map(function(){return m[0]})),g?(y=d,_=l):T?(y=l-o.length,_=l):(y=l,_=l+o.length),this.removeStyleFromTo(y,_)),a.length&&(n&&a.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(m=t.copiedTextStyle),this.insertNewStyleBlock(a,d,m)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(f){this.compositionStart=f.target.selectionStart,this.compositionEnd=f.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(f){return f&&f.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(f,n){var c=this._getLineLeftOffset(f),h;return n>0&&(h=this.__charBounds[f][n-1],c+=h.left+h.width),c},getDownCursorOffset:function(f,n){var c=this._getSelectionForOffset(f,n),h=this.get2DCursorLocation(c),i=h.lineIndex;if(i===this._textLines.length-1||f.metaKey||f.keyCode===34)return this._text.length-c;var o=h.charIndex,a=this._getWidthBeforeCursor(i,o),u=this._getIndexOnLine(i+1,a),d=this._textLines[i].slice(o);return d.length+u+1+this.missingNewlineOffset(i)},_getSelectionForOffset:function(f,n){return f.shiftKey&&this.selectionStart!==this.selectionEnd&&n?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(f,n){var c=this._getSelectionForOffset(f,n),h=this.get2DCursorLocation(c),i=h.lineIndex;if(i===0||f.metaKey||f.keyCode===33)return-c;var o=h.charIndex,a=this._getWidthBeforeCursor(i,o),u=this._getIndexOnLine(i-1,a),d=this._textLines[i].slice(0,o),l=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+u-d.length+(1-l)},_getIndexOnLine:function(f,n){for(var c=this._textLines[f],h=this._getLineLeftOffset(f),i=h,o=0,a,u,d=0,l=c.length;d<l;d++)if(a=this.__charBounds[f][d].width,i+=a,i>n){u=!0;var g=i-a,m=i,y=Math.abs(g-n),_=Math.abs(m-n);o=_<y?d:d-1;break}return u||(o=c.length-1),o},moveCursorDown:function(f){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",f)},moveCursorUp:function(f){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",f)},_moveCursorUpOrDown:function(f,n){var c="get"+f+"CursorOffset",h=this[c](n,this._selectionDirection==="right");n.shiftKey?this.moveCursorWithShift(h):this.moveCursorWithoutShift(h),h!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(f){var n=this._selectionDirection==="left"?this.selectionStart+f:this.selectionEnd+f;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,n),f!==0},moveCursorWithoutShift:function(f){return f<0?(this.selectionStart+=f,this.selectionEnd=this.selectionStart):(this.selectionEnd+=f,this.selectionStart=this.selectionEnd),f!==0},moveCursorLeft:function(f){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",f)},_move:function(f,n,c){var h;if(f.altKey)h=this["findWordBoundary"+c](this[n]);else if(f.metaKey||f.keyCode===35||f.keyCode===36)h=this["findLineBoundary"+c](this[n]);else return this[n]+=c==="Left"?-1:1,!0;if(typeof h<"u"&&this[n]!==h)return this[n]=h,!0},_moveLeft:function(f,n){return this._move(f,n,"Left")},_moveRight:function(f,n){return this._move(f,n,"Right")},moveCursorLeftWithoutShift:function(f){var n=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(n=this._moveLeft(f,"selectionStart")),this.selectionEnd=this.selectionStart,n},moveCursorLeftWithShift:function(f){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(f,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(f,"selectionStart")},moveCursorRight:function(f){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",f)},_moveCursorLeftOrRight:function(f,n){var c="moveCursor"+f+"With";this._currentCursorOpacity=1,n.shiftKey?c+="Shift":c+="outShift",this[c](n)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(f){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(f,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(f,"selectionEnd")},moveCursorRightWithoutShift:function(f){var n=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(n=this._moveRight(f,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,n},removeChars:function(f,n){typeof n>"u"&&(n=f+1),this.removeStyleFromTo(f,n),this._text.splice(f,n-f),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(f,n,c,h){typeof h>"u"&&(h=c),h>c&&this.removeStyleFromTo(c,h);var i=t.util.string.graphemeSplit(f);this.insertNewStyleBlock(i,c,n),this._text=[].concat(this._text.slice(0,c),i,this._text.slice(h)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var f=t.util.toFixed,n=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var c=this._getSVGLeftTopOffsets(),h=this._getSVGTextAndBg(c.textTop,c.textLeft);return this._wrapSVGTextAndBg(h)},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(),{reviver:c,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(c){var h=!0,i=this.getSvgTextDecoration(this);return[c.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",i?'text-decoration="'+i+'" ':"",'style="',this.getSvgStyles(h),'"',this.addPaintOrder()," >",c.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(c,h){var i=[],o=[],a=c,u;this._setSVGBg(o);for(var d=0,l=this._textLines.length;d<l;d++)u=this._getLineLeftOffset(d),(this.textBackgroundColor||this.styleHas("textBackgroundColor",d))&&this._setSVGTextLineBg(o,d,h+u,a),this._setSVGTextLineText(i,d,h+u,a),a+=this.getHeightOfLine(d);return{textSpans:i,textBgRects:o}},_createTextCharSpan:function(c,h,i,o){var a=c!==c.trim()||c.match(n),u=this.getSvgSpanStyles(h,a),d=u?'style="'+u+'"':"",l=h.deltaY,g="",m=t.Object.NUM_FRACTION_DIGITS;return l&&(g=' dy="'+f(l,m)+'" '),['<tspan x="',f(i,m),'" y="',f(o,m),'" ',g,d,">",t.util.string.escapeXml(c),"</tspan>"].join("")},_setSVGTextLineText:function(c,h,i,o){var a=this.getHeightOfLine(h),u=this.textAlign.indexOf("justify")!==-1,d,l,g="",m,y,_=0,S=this._textLines[h],T;o+=a*(1-this._fontSizeFraction)/this.lineHeight;for(var A=0,N=S.length-1;A<=N;A++)T=A===N||this.charSpacing,g+=S[A],m=this.__charBounds[h][A],_===0?(i+=m.kernedWidth-m.width,_+=m.width):_+=m.kernedWidth,u&&!T&&this._reSpaceAndTab.test(S[A])&&(T=!0),T||(d=d||this.getCompleteStyleDeclaration(h,A),l=this.getCompleteStyleDeclaration(h,A+1),T=t.util.hasStyleChanged(d,l,!0)),T&&(y=this._getStyleDeclaration(h,A)||{},c.push(this._createTextCharSpan(g,y,i,o)),g="",d=l,i+=_,_=0)},_pushTextBgRect:function(c,h,i,o,a,u){var d=t.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(h),' x="',f(i,d),'" y="',f(o,d),'" width="',f(a,d),'" height="',f(u,d),`"></rect>
`)},_setSVGTextLineBg:function(c,h,i,o){for(var a=this._textLines[h],u=this.getHeightOfLine(h)/this.lineHeight,d=0,l=0,g,m,y=this.getValueOfPropertyAt(h,0,"textBackgroundColor"),_=0,S=a.length;_<S;_++)g=this.__charBounds[h][_],m=this.getValueOfPropertyAt(h,_,"textBackgroundColor"),m!==y?(y&&this._pushTextBgRect(c,y,i+l,o,d,u),l=g.left,d=g.width,y=m):d+=g.kernedWidth;m&&this._pushTextBgRect(c,m,i+l,o,d,u)},_getFillAttributes:function(c){var h=c&&typeof c=="string"?new t.Color(c):"";return!h||!h.getSource()||h.getAlpha()===1?'fill="'+c+'"':'opacity="'+h.getAlpha()+'" fill="'+h.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(c){for(var h=0,i=0,o=0;o<c;o++)h+=this.getHeightOfLine(o);return i=this.getHeightOfLine(o),{lineTop:h,offset:(this._fontSizeMult-this._fontSizeFraction)*i/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(c){var h=t.Object.prototype.getSvgStyles.call(this,c);return h+" white-space: pre;"}})}(),function(f){var n=f.fabric||(f.fabric={});n.Textbox=n.util.createClass(n.IText,n.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:n.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(c){for(var h=0,i=0,o=0,a={},u=0;u<c.graphemeLines.length;u++)c.graphemeText[o]===`
`&&u>0?(i=0,o++,h++):!this.splitByGrapheme&&this._reSpaceAndTab.test(c.graphemeText[o])&&u>0&&(i++,o++),a[u]={line:h,offset:i},o+=c.graphemeLines[u].length,i+=c.graphemeLines[u].length;return a},styleHas:function(c,h){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[h];i&&(h=i.line)}return n.Text.prototype.styleHas.call(this,c,h)},isEmptyStyles:function(c){if(!this.styles)return!0;var h=0,i=c+1,o,a,u=!1,d=this._styleMap[c],l=this._styleMap[c+1];d&&(c=d.line,h=d.offset),l&&(i=l.line,u=i===c,o=l.offset),a=typeof c>"u"?this.styles:{line:this.styles[c]};for(var g in a)for(var m in a[g])if(m>=h&&(!u||m<o))for(var y in a[g][m])return!1;return!0},_getStyleDeclaration:function(c,h){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[c];if(!i)return null;c=i.line,h=i.offset+h}return this.callSuper("_getStyleDeclaration",c,h)},_setStyleDeclaration:function(c,h,i){var o=this._styleMap[c];c=o.line,h=o.offset+h,this.styles[c][h]=i},_deleteStyleDeclaration:function(c,h){var i=this._styleMap[c];c=i.line,h=i.offset+h,delete this.styles[c][h]},_getLineStyle:function(c){var h=this._styleMap[c];return!!this.styles[h.line]},_setLineStyle:function(c){var h=this._styleMap[c];this.styles[h.line]={}},_wrapText:function(c,h){var i=[],o;for(this.isWrapping=!0,o=0;o<c.length;o++)i=i.concat(this._wrapLine(c[o],o,h));return this.isWrapping=!1,i},_measureWord:function(c,h,i){var o=0,a,u=!0;i=i||0;for(var d=0,l=c.length;d<l;d++){var g=this._getGraphemeBox(c[d],h,d+i,a,u);o+=g.kernedWidth,a=c[d]}return o},_wrapLine:function(c,h,i,re){var a=0,u=this.splitByGrapheme,d=[],l=[],g=u?n.util.string.graphemeSplit(c):c.split(this._wordJoiners),m="",y=0,_=u?"":" ",S=0,T=0,A=0,N=!0,Q=this._getWidthOfCharSpacing(),re=re||0;g.length===0&&g.push([]),i-=re;for(var ve=0;ve<g.length;ve++)m=u?g[ve]:n.util.string.graphemeSplit(g[ve]),S=this._measureWord(m,h,y),y+=m.length,a+=T+S-Q,a>i&&!N?(d.push(l),l=[],a=S,N=!0):a+=Q,!N&&!u&&l.push(_),l=l.concat(m),T=u?0:this._measureWord([_],h,y),y++,N=!1,S>A&&(A=S);return ve&&d.push(l),A+re>this.dynamicMinWidth&&(this.dynamicMinWidth=A-Q+re),d},isEndOfWrapping:function(c){return!this._styleMap[c+1]||this._styleMap[c+1].line!==this._styleMap[c].line},missingNewlineOffset:function(c){return this.splitByGrapheme?this.isEndOfWrapping(c)?1:0:1},_splitTextIntoLines:function(c){for(var h=n.Text.prototype._splitTextIntoLines.call(this,c),i=this._wrapText(h.lines,this.width),o=new Array(i.length),a=0;a<i.length;a++)o[a]=i[a].join("");return h.lines=o,h.graphemeLines=i,h},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var c={};for(var h in this._styleMap)this._textLines[h]&&(c[this._styleMap[h].line]=1);for(var h in this.styles)c[h]||delete this.styles[h]},toObject:function(c){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(c))}}),n.Textbox.fromObject=function(c,h){var i=n.util.stylesFromArray(c.styles,c.text),o=Object.assign({},c,{styles:i});return n.Object._fromObject("Textbox",o,h,"text")}}(e),function(){var f=t.controlsUtils,n=f.scaleSkewCursorStyleHandler,c=f.scaleCursorStyleHandler,h=f.scalingEqually,i=f.scalingYOrSkewingX,o=f.scalingXOrSkewingY,a=f.scaleOrSkewActionName,u=t.Object.prototype.controls;if(u.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:n,actionHandler:o,getActionName:a}),u.mr=new t.Control({x:.5,y:0,cursorStyleHandler:n,actionHandler:o,getActionName:a}),u.mb=new t.Control({x:0,y:.5,cursorStyleHandler:n,actionHandler:i,getActionName:a}),u.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:n,actionHandler:i,getActionName:a}),u.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:c,actionHandler:h}),u.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:c,actionHandler:h}),u.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:c,actionHandler:h}),u.br=new t.Control({x:.5,y:.5,cursorStyleHandler:c,actionHandler:h}),u.mtr=new t.Control({x:0,y:-.5,actionHandler:f.rotationWithSnapping,cursorStyleHandler:f.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var d=t.Textbox.prototype.controls={};d.mtr=u.mtr,d.tr=u.tr,d.br=u.br,d.tl=u.tl,d.bl=u.bl,d.mt=u.mt,d.mb=u.mb,d.mr=new t.Control({x:.5,y:0,actionHandler:f.changeWidth,cursorStyleHandler:n,actionName:"resizing"}),d.ml=new t.Control({x:-.5,y:0,actionHandler:f.changeWidth,cursorStyleHandler:n,actionName:"resizing"})}}()})(Tn);const zm={metadata:{ear:{variations:2},eye:{variations:1},head:{variations:1},mouth:{variations:1},muzzle:{variations:1},nose:{variations:1}},ear1:{colorable:[0]},ear2:{colorable:[0]},eye1:{colorable:[0]},head1:{colorable:[0]},mouth1:{colorable:[]},muzzle1:{colorable:[0]},nose1:{colorable:[0]}};function LS(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pt={},FS={get exports(){return pt},set exports(e){pt=e}};(function(e){(function(t){var r=function(E){var R,M=new Float64Array(16);if(E)for(R=0;R<E.length;R++)M[R]=E[R];return M},s=function(){throw new Error("no PRNG")},p=new Uint8Array(16),v=new Uint8Array(32);v[0]=9;var x=r(),f=r([1]),n=r([56129,1]),c=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),i=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),o=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),a=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function u(E,R,M,w){E[R]=M>>24&255,E[R+1]=M>>16&255,E[R+2]=M>>8&255,E[R+3]=M&255,E[R+4]=w>>24&255,E[R+5]=w>>16&255,E[R+6]=w>>8&255,E[R+7]=w&255}function d(E,R,M,w,I){var J,oe=0;for(J=0;J<I;J++)oe|=E[R+J]^M[w+J];return(1&oe-1>>>8)-1}function l(E,R,M,w){return d(E,R,M,w,16)}function g(E,R,M,w){return d(E,R,M,w,32)}function m(E,R,M,w){for(var I=w[0]&255|(w[1]&255)<<8|(w[2]&255)<<16|(w[3]&255)<<24,J=M[0]&255|(M[1]&255)<<8|(M[2]&255)<<16|(M[3]&255)<<24,oe=M[4]&255|(M[5]&255)<<8|(M[6]&255)<<16|(M[7]&255)<<24,Se=M[8]&255|(M[9]&255)<<8|(M[10]&255)<<16|(M[11]&255)<<24,Ie=M[12]&255|(M[13]&255)<<8|(M[14]&255)<<16|(M[15]&255)<<24,Qe=w[4]&255|(w[5]&255)<<8|(w[6]&255)<<16|(w[7]&255)<<24,Be=R[0]&255|(R[1]&255)<<8|(R[2]&255)<<16|(R[3]&255)<<24,Et=R[4]&255|(R[5]&255)<<8|(R[6]&255)<<16|(R[7]&255)<<24,Ye=R[8]&255|(R[9]&255)<<8|(R[10]&255)<<16|(R[11]&255)<<24,tt=R[12]&255|(R[13]&255)<<8|(R[14]&255)<<16|(R[15]&255)<<24,rt=w[8]&255|(w[9]&255)<<8|(w[10]&255)<<16|(w[11]&255)<<24,lt=M[16]&255|(M[17]&255)<<8|(M[18]&255)<<16|(M[19]&255)<<24,ot=M[20]&255|(M[21]&255)<<8|(M[22]&255)<<16|(M[23]&255)<<24,nt=M[24]&255|(M[25]&255)<<8|(M[26]&255)<<16|(M[27]&255)<<24,at=M[28]&255|(M[29]&255)<<8|(M[30]&255)<<16|(M[31]&255)<<24,it=w[12]&255|(w[13]&255)<<8|(w[14]&255)<<16|(w[15]&255)<<24,We=I,Ze=J,He=oe,Ge=Se,Xe=Ie,Ne=Qe,fe=Be,ce=Et,Ee=Ye,_e=tt,be=rt,Me=lt,Je=ot,st=nt,ut=at,ct=it,H,mt=0;mt<20;mt+=2)H=We+Je|0,Xe^=H<<7|H>>>32-7,H=Xe+We|0,Ee^=H<<9|H>>>32-9,H=Ee+Xe|0,Je^=H<<13|H>>>32-13,H=Je+Ee|0,We^=H<<18|H>>>32-18,H=Ne+Ze|0,_e^=H<<7|H>>>32-7,H=_e+Ne|0,st^=H<<9|H>>>32-9,H=st+_e|0,Ze^=H<<13|H>>>32-13,H=Ze+st|0,Ne^=H<<18|H>>>32-18,H=be+fe|0,ut^=H<<7|H>>>32-7,H=ut+be|0,He^=H<<9|H>>>32-9,H=He+ut|0,fe^=H<<13|H>>>32-13,H=fe+He|0,be^=H<<18|H>>>32-18,H=ct+Me|0,Ge^=H<<7|H>>>32-7,H=Ge+ct|0,ce^=H<<9|H>>>32-9,H=ce+Ge|0,Me^=H<<13|H>>>32-13,H=Me+ce|0,ct^=H<<18|H>>>32-18,H=We+Ge|0,Ze^=H<<7|H>>>32-7,H=Ze+We|0,He^=H<<9|H>>>32-9,H=He+Ze|0,Ge^=H<<13|H>>>32-13,H=Ge+He|0,We^=H<<18|H>>>32-18,H=Ne+Xe|0,fe^=H<<7|H>>>32-7,H=fe+Ne|0,ce^=H<<9|H>>>32-9,H=ce+fe|0,Xe^=H<<13|H>>>32-13,H=Xe+ce|0,Ne^=H<<18|H>>>32-18,H=be+_e|0,Me^=H<<7|H>>>32-7,H=Me+be|0,Ee^=H<<9|H>>>32-9,H=Ee+Me|0,_e^=H<<13|H>>>32-13,H=_e+Ee|0,be^=H<<18|H>>>32-18,H=ct+ut|0,Je^=H<<7|H>>>32-7,H=Je+ct|0,st^=H<<9|H>>>32-9,H=st+Je|0,ut^=H<<13|H>>>32-13,H=ut+st|0,ct^=H<<18|H>>>32-18;We=We+I|0,Ze=Ze+J|0,He=He+oe|0,Ge=Ge+Se|0,Xe=Xe+Ie|0,Ne=Ne+Qe|0,fe=fe+Be|0,ce=ce+Et|0,Ee=Ee+Ye|0,_e=_e+tt|0,be=be+rt|0,Me=Me+lt|0,Je=Je+ot|0,st=st+nt|0,ut=ut+at|0,ct=ct+it|0,E[0]=We>>>0&255,E[1]=We>>>8&255,E[2]=We>>>16&255,E[3]=We>>>24&255,E[4]=Ze>>>0&255,E[5]=Ze>>>8&255,E[6]=Ze>>>16&255,E[7]=Ze>>>24&255,E[8]=He>>>0&255,E[9]=He>>>8&255,E[10]=He>>>16&255,E[11]=He>>>24&255,E[12]=Ge>>>0&255,E[13]=Ge>>>8&255,E[14]=Ge>>>16&255,E[15]=Ge>>>24&255,E[16]=Xe>>>0&255,E[17]=Xe>>>8&255,E[18]=Xe>>>16&255,E[19]=Xe>>>24&255,E[20]=Ne>>>0&255,E[21]=Ne>>>8&255,E[22]=Ne>>>16&255,E[23]=Ne>>>24&255,E[24]=fe>>>0&255,E[25]=fe>>>8&255,E[26]=fe>>>16&255,E[27]=fe>>>24&255,E[28]=ce>>>0&255,E[29]=ce>>>8&255,E[30]=ce>>>16&255,E[31]=ce>>>24&255,E[32]=Ee>>>0&255,E[33]=Ee>>>8&255,E[34]=Ee>>>16&255,E[35]=Ee>>>24&255,E[36]=_e>>>0&255,E[37]=_e>>>8&255,E[38]=_e>>>16&255,E[39]=_e>>>24&255,E[40]=be>>>0&255,E[41]=be>>>8&255,E[42]=be>>>16&255,E[43]=be>>>24&255,E[44]=Me>>>0&255,E[45]=Me>>>8&255,E[46]=Me>>>16&255,E[47]=Me>>>24&255,E[48]=Je>>>0&255,E[49]=Je>>>8&255,E[50]=Je>>>16&255,E[51]=Je>>>24&255,E[52]=st>>>0&255,E[53]=st>>>8&255,E[54]=st>>>16&255,E[55]=st>>>24&255,E[56]=ut>>>0&255,E[57]=ut>>>8&255,E[58]=ut>>>16&255,E[59]=ut>>>24&255,E[60]=ct>>>0&255,E[61]=ct>>>8&255,E[62]=ct>>>16&255,E[63]=ct>>>24&255}function y(E,R,M,w){for(var I=w[0]&255|(w[1]&255)<<8|(w[2]&255)<<16|(w[3]&255)<<24,J=M[0]&255|(M[1]&255)<<8|(M[2]&255)<<16|(M[3]&255)<<24,oe=M[4]&255|(M[5]&255)<<8|(M[6]&255)<<16|(M[7]&255)<<24,Se=M[8]&255|(M[9]&255)<<8|(M[10]&255)<<16|(M[11]&255)<<24,Ie=M[12]&255|(M[13]&255)<<8|(M[14]&255)<<16|(M[15]&255)<<24,Qe=w[4]&255|(w[5]&255)<<8|(w[6]&255)<<16|(w[7]&255)<<24,Be=R[0]&255|(R[1]&255)<<8|(R[2]&255)<<16|(R[3]&255)<<24,Et=R[4]&255|(R[5]&255)<<8|(R[6]&255)<<16|(R[7]&255)<<24,Ye=R[8]&255|(R[9]&255)<<8|(R[10]&255)<<16|(R[11]&255)<<24,tt=R[12]&255|(R[13]&255)<<8|(R[14]&255)<<16|(R[15]&255)<<24,rt=w[8]&255|(w[9]&255)<<8|(w[10]&255)<<16|(w[11]&255)<<24,lt=M[16]&255|(M[17]&255)<<8|(M[18]&255)<<16|(M[19]&255)<<24,ot=M[20]&255|(M[21]&255)<<8|(M[22]&255)<<16|(M[23]&255)<<24,nt=M[24]&255|(M[25]&255)<<8|(M[26]&255)<<16|(M[27]&255)<<24,at=M[28]&255|(M[29]&255)<<8|(M[30]&255)<<16|(M[31]&255)<<24,it=w[12]&255|(w[13]&255)<<8|(w[14]&255)<<16|(w[15]&255)<<24,We=I,Ze=J,He=oe,Ge=Se,Xe=Ie,Ne=Qe,fe=Be,ce=Et,Ee=Ye,_e=tt,be=rt,Me=lt,Je=ot,st=nt,ut=at,ct=it,H,mt=0;mt<20;mt+=2)H=We+Je|0,Xe^=H<<7|H>>>32-7,H=Xe+We|0,Ee^=H<<9|H>>>32-9,H=Ee+Xe|0,Je^=H<<13|H>>>32-13,H=Je+Ee|0,We^=H<<18|H>>>32-18,H=Ne+Ze|0,_e^=H<<7|H>>>32-7,H=_e+Ne|0,st^=H<<9|H>>>32-9,H=st+_e|0,Ze^=H<<13|H>>>32-13,H=Ze+st|0,Ne^=H<<18|H>>>32-18,H=be+fe|0,ut^=H<<7|H>>>32-7,H=ut+be|0,He^=H<<9|H>>>32-9,H=He+ut|0,fe^=H<<13|H>>>32-13,H=fe+He|0,be^=H<<18|H>>>32-18,H=ct+Me|0,Ge^=H<<7|H>>>32-7,H=Ge+ct|0,ce^=H<<9|H>>>32-9,H=ce+Ge|0,Me^=H<<13|H>>>32-13,H=Me+ce|0,ct^=H<<18|H>>>32-18,H=We+Ge|0,Ze^=H<<7|H>>>32-7,H=Ze+We|0,He^=H<<9|H>>>32-9,H=He+Ze|0,Ge^=H<<13|H>>>32-13,H=Ge+He|0,We^=H<<18|H>>>32-18,H=Ne+Xe|0,fe^=H<<7|H>>>32-7,H=fe+Ne|0,ce^=H<<9|H>>>32-9,H=ce+fe|0,Xe^=H<<13|H>>>32-13,H=Xe+ce|0,Ne^=H<<18|H>>>32-18,H=be+_e|0,Me^=H<<7|H>>>32-7,H=Me+be|0,Ee^=H<<9|H>>>32-9,H=Ee+Me|0,_e^=H<<13|H>>>32-13,H=_e+Ee|0,be^=H<<18|H>>>32-18,H=ct+ut|0,Je^=H<<7|H>>>32-7,H=Je+ct|0,st^=H<<9|H>>>32-9,H=st+Je|0,ut^=H<<13|H>>>32-13,H=ut+st|0,ct^=H<<18|H>>>32-18;E[0]=We>>>0&255,E[1]=We>>>8&255,E[2]=We>>>16&255,E[3]=We>>>24&255,E[4]=Ne>>>0&255,E[5]=Ne>>>8&255,E[6]=Ne>>>16&255,E[7]=Ne>>>24&255,E[8]=be>>>0&255,E[9]=be>>>8&255,E[10]=be>>>16&255,E[11]=be>>>24&255,E[12]=ct>>>0&255,E[13]=ct>>>8&255,E[14]=ct>>>16&255,E[15]=ct>>>24&255,E[16]=fe>>>0&255,E[17]=fe>>>8&255,E[18]=fe>>>16&255,E[19]=fe>>>24&255,E[20]=ce>>>0&255,E[21]=ce>>>8&255,E[22]=ce>>>16&255,E[23]=ce>>>24&255,E[24]=Ee>>>0&255,E[25]=Ee>>>8&255,E[26]=Ee>>>16&255,E[27]=Ee>>>24&255,E[28]=_e>>>0&255,E[29]=_e>>>8&255,E[30]=_e>>>16&255,E[31]=_e>>>24&255}function _(E,R,M,w){m(E,R,M,w)}function S(E,R,M,w){y(E,R,M,w)}var T=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function A(E,R,M,w,I,J,oe){var Se=new Uint8Array(16),Ie=new Uint8Array(64),Qe,Be;for(Be=0;Be<16;Be++)Se[Be]=0;for(Be=0;Be<8;Be++)Se[Be]=J[Be];for(;I>=64;){for(_(Ie,Se,oe,T),Be=0;Be<64;Be++)E[R+Be]=M[w+Be]^Ie[Be];for(Qe=1,Be=8;Be<16;Be++)Qe=Qe+(Se[Be]&255)|0,Se[Be]=Qe&255,Qe>>>=8;I-=64,R+=64,w+=64}if(I>0)for(_(Ie,Se,oe,T),Be=0;Be<I;Be++)E[R+Be]=M[w+Be]^Ie[Be];return 0}function N(E,R,M,w,I){var J=new Uint8Array(16),oe=new Uint8Array(64),Se,Ie;for(Ie=0;Ie<16;Ie++)J[Ie]=0;for(Ie=0;Ie<8;Ie++)J[Ie]=w[Ie];for(;M>=64;){for(_(oe,J,I,T),Ie=0;Ie<64;Ie++)E[R+Ie]=oe[Ie];for(Se=1,Ie=8;Ie<16;Ie++)Se=Se+(J[Ie]&255)|0,J[Ie]=Se&255,Se>>>=8;M-=64,R+=64}if(M>0)for(_(oe,J,I,T),Ie=0;Ie<M;Ie++)E[R+Ie]=oe[Ie];return 0}function Q(E,R,M,w,I){var J=new Uint8Array(32);S(J,w,I,T);for(var oe=new Uint8Array(8),Se=0;Se<8;Se++)oe[Se]=w[Se+16];return N(E,R,M,oe,J)}function re(E,R,M,w,I,J,oe){var Se=new Uint8Array(32);S(Se,J,oe,T);for(var Ie=new Uint8Array(8),Qe=0;Qe<8;Qe++)Ie[Qe]=J[Qe+16];return A(E,R,M,w,I,Ie,Se)}var ve=function(E){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var R,M,w,I,J,oe,Se,Ie;R=E[0]&255|(E[1]&255)<<8,this.r[0]=R&8191,M=E[2]&255|(E[3]&255)<<8,this.r[1]=(R>>>13|M<<3)&8191,w=E[4]&255|(E[5]&255)<<8,this.r[2]=(M>>>10|w<<6)&7939,I=E[6]&255|(E[7]&255)<<8,this.r[3]=(w>>>7|I<<9)&8191,J=E[8]&255|(E[9]&255)<<8,this.r[4]=(I>>>4|J<<12)&255,this.r[5]=J>>>1&8190,oe=E[10]&255|(E[11]&255)<<8,this.r[6]=(J>>>14|oe<<2)&8191,Se=E[12]&255|(E[13]&255)<<8,this.r[7]=(oe>>>11|Se<<5)&8065,Ie=E[14]&255|(E[15]&255)<<8,this.r[8]=(Se>>>8|Ie<<8)&8191,this.r[9]=Ie>>>5&127,this.pad[0]=E[16]&255|(E[17]&255)<<8,this.pad[1]=E[18]&255|(E[19]&255)<<8,this.pad[2]=E[20]&255|(E[21]&255)<<8,this.pad[3]=E[22]&255|(E[23]&255)<<8,this.pad[4]=E[24]&255|(E[25]&255)<<8,this.pad[5]=E[26]&255|(E[27]&255)<<8,this.pad[6]=E[28]&255|(E[29]&255)<<8,this.pad[7]=E[30]&255|(E[31]&255)<<8};ve.prototype.blocks=function(E,R,M){for(var w=this.fin?0:2048,I,J,oe,Se,Ie,Qe,Be,Et,Ye,tt,rt,lt,ot,nt,at,it,We,Ze,He,Ge=this.h[0],Xe=this.h[1],Ne=this.h[2],fe=this.h[3],ce=this.h[4],Ee=this.h[5],_e=this.h[6],be=this.h[7],Me=this.h[8],Je=this.h[9],st=this.r[0],ut=this.r[1],ct=this.r[2],H=this.r[3],mt=this.r[4],kt=this.r[5],Ct=this.r[6],dt=this.r[7],St=this.r[8],bt=this.r[9];M>=16;)I=E[R+0]&255|(E[R+1]&255)<<8,Ge+=I&8191,J=E[R+2]&255|(E[R+3]&255)<<8,Xe+=(I>>>13|J<<3)&8191,oe=E[R+4]&255|(E[R+5]&255)<<8,Ne+=(J>>>10|oe<<6)&8191,Se=E[R+6]&255|(E[R+7]&255)<<8,fe+=(oe>>>7|Se<<9)&8191,Ie=E[R+8]&255|(E[R+9]&255)<<8,ce+=(Se>>>4|Ie<<12)&8191,Ee+=Ie>>>1&8191,Qe=E[R+10]&255|(E[R+11]&255)<<8,_e+=(Ie>>>14|Qe<<2)&8191,Be=E[R+12]&255|(E[R+13]&255)<<8,be+=(Qe>>>11|Be<<5)&8191,Et=E[R+14]&255|(E[R+15]&255)<<8,Me+=(Be>>>8|Et<<8)&8191,Je+=Et>>>5|w,Ye=0,tt=Ye,tt+=Ge*st,tt+=Xe*(5*bt),tt+=Ne*(5*St),tt+=fe*(5*dt),tt+=ce*(5*Ct),Ye=tt>>>13,tt&=8191,tt+=Ee*(5*kt),tt+=_e*(5*mt),tt+=be*(5*H),tt+=Me*(5*ct),tt+=Je*(5*ut),Ye+=tt>>>13,tt&=8191,rt=Ye,rt+=Ge*ut,rt+=Xe*st,rt+=Ne*(5*bt),rt+=fe*(5*St),rt+=ce*(5*dt),Ye=rt>>>13,rt&=8191,rt+=Ee*(5*Ct),rt+=_e*(5*kt),rt+=be*(5*mt),rt+=Me*(5*H),rt+=Je*(5*ct),Ye+=rt>>>13,rt&=8191,lt=Ye,lt+=Ge*ct,lt+=Xe*ut,lt+=Ne*st,lt+=fe*(5*bt),lt+=ce*(5*St),Ye=lt>>>13,lt&=8191,lt+=Ee*(5*dt),lt+=_e*(5*Ct),lt+=be*(5*kt),lt+=Me*(5*mt),lt+=Je*(5*H),Ye+=lt>>>13,lt&=8191,ot=Ye,ot+=Ge*H,ot+=Xe*ct,ot+=Ne*ut,ot+=fe*st,ot+=ce*(5*bt),Ye=ot>>>13,ot&=8191,ot+=Ee*(5*St),ot+=_e*(5*dt),ot+=be*(5*Ct),ot+=Me*(5*kt),ot+=Je*(5*mt),Ye+=ot>>>13,ot&=8191,nt=Ye,nt+=Ge*mt,nt+=Xe*H,nt+=Ne*ct,nt+=fe*ut,nt+=ce*st,Ye=nt>>>13,nt&=8191,nt+=Ee*(5*bt),nt+=_e*(5*St),nt+=be*(5*dt),nt+=Me*(5*Ct),nt+=Je*(5*kt),Ye+=nt>>>13,nt&=8191,at=Ye,at+=Ge*kt,at+=Xe*mt,at+=Ne*H,at+=fe*ct,at+=ce*ut,Ye=at>>>13,at&=8191,at+=Ee*st,at+=_e*(5*bt),at+=be*(5*St),at+=Me*(5*dt),at+=Je*(5*Ct),Ye+=at>>>13,at&=8191,it=Ye,it+=Ge*Ct,it+=Xe*kt,it+=Ne*mt,it+=fe*H,it+=ce*ct,Ye=it>>>13,it&=8191,it+=Ee*ut,it+=_e*st,it+=be*(5*bt),it+=Me*(5*St),it+=Je*(5*dt),Ye+=it>>>13,it&=8191,We=Ye,We+=Ge*dt,We+=Xe*Ct,We+=Ne*kt,We+=fe*mt,We+=ce*H,Ye=We>>>13,We&=8191,We+=Ee*ct,We+=_e*ut,We+=be*st,We+=Me*(5*bt),We+=Je*(5*St),Ye+=We>>>13,We&=8191,Ze=Ye,Ze+=Ge*St,Ze+=Xe*dt,Ze+=Ne*Ct,Ze+=fe*kt,Ze+=ce*mt,Ye=Ze>>>13,Ze&=8191,Ze+=Ee*H,Ze+=_e*ct,Ze+=be*ut,Ze+=Me*st,Ze+=Je*(5*bt),Ye+=Ze>>>13,Ze&=8191,He=Ye,He+=Ge*bt,He+=Xe*St,He+=Ne*dt,He+=fe*Ct,He+=ce*kt,Ye=He>>>13,He&=8191,He+=Ee*mt,He+=_e*H,He+=be*ct,He+=Me*ut,He+=Je*st,Ye+=He>>>13,He&=8191,Ye=(Ye<<2)+Ye|0,Ye=Ye+tt|0,tt=Ye&8191,Ye=Ye>>>13,rt+=Ye,Ge=tt,Xe=rt,Ne=lt,fe=ot,ce=nt,Ee=at,_e=it,be=We,Me=Ze,Je=He,R+=16,M-=16;this.h[0]=Ge,this.h[1]=Xe,this.h[2]=Ne,this.h[3]=fe,this.h[4]=ce,this.h[5]=Ee,this.h[6]=_e,this.h[7]=be,this.h[8]=Me,this.h[9]=Je},ve.prototype.finish=function(E,R){var M=new Uint16Array(10),w,I,J,oe;if(this.leftover){for(oe=this.leftover,this.buffer[oe++]=1;oe<16;oe++)this.buffer[oe]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(w=this.h[1]>>>13,this.h[1]&=8191,oe=2;oe<10;oe++)this.h[oe]+=w,w=this.h[oe]>>>13,this.h[oe]&=8191;for(this.h[0]+=w*5,w=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=w,w=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=w,M[0]=this.h[0]+5,w=M[0]>>>13,M[0]&=8191,oe=1;oe<10;oe++)M[oe]=this.h[oe]+w,w=M[oe]>>>13,M[oe]&=8191;for(M[9]-=1<<13,I=(w^1)-1,oe=0;oe<10;oe++)M[oe]&=I;for(I=~I,oe=0;oe<10;oe++)this.h[oe]=this.h[oe]&I|M[oe];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,J=this.h[0]+this.pad[0],this.h[0]=J&65535,oe=1;oe<8;oe++)J=(this.h[oe]+this.pad[oe]|0)+(J>>>16)|0,this.h[oe]=J&65535;E[R+0]=this.h[0]>>>0&255,E[R+1]=this.h[0]>>>8&255,E[R+2]=this.h[1]>>>0&255,E[R+3]=this.h[1]>>>8&255,E[R+4]=this.h[2]>>>0&255,E[R+5]=this.h[2]>>>8&255,E[R+6]=this.h[3]>>>0&255,E[R+7]=this.h[3]>>>8&255,E[R+8]=this.h[4]>>>0&255,E[R+9]=this.h[4]>>>8&255,E[R+10]=this.h[5]>>>0&255,E[R+11]=this.h[5]>>>8&255,E[R+12]=this.h[6]>>>0&255,E[R+13]=this.h[6]>>>8&255,E[R+14]=this.h[7]>>>0&255,E[R+15]=this.h[7]>>>8&255},ve.prototype.update=function(E,R,M){var w,I;if(this.leftover){for(I=16-this.leftover,I>M&&(I=M),w=0;w<I;w++)this.buffer[this.leftover+w]=E[R+w];if(M-=I,R+=I,this.leftover+=I,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(M>=16&&(I=M-M%16,this.blocks(E,R,I),R+=I,M-=I),M){for(w=0;w<M;w++)this.buffer[this.leftover+w]=E[R+w];this.leftover+=M}};function we(E,R,M,w,I,J){var oe=new ve(J);return oe.update(M,w,I),oe.finish(E,R),0}function Te(E,R,M,w,I,J){var oe=new Uint8Array(16);return we(oe,0,M,w,I,J),l(E,R,oe,0)}function Ce(E,R,M,w,I){var J;if(M<32)return-1;for(re(E,0,R,0,M,w,I),we(E,16,E,32,M-32,E),J=0;J<16;J++)E[J]=0;return 0}function xe(E,R,M,w,I){var J,oe=new Uint8Array(32);if(M<32||(Q(oe,0,32,w,I),Te(R,16,R,32,M-32,oe)!==0))return-1;for(re(E,0,R,0,M,w,I),J=0;J<32;J++)E[J]=0;return 0}function Oe(E,R){var M;for(M=0;M<16;M++)E[M]=R[M]|0}function me(E){var R,M,w=1;for(R=0;R<16;R++)M=E[R]+w+65535,w=Math.floor(M/65536),E[R]=M-w*65536;E[0]+=w-1+37*(w-1)}function ee(E,R,M){for(var w,I=~(M-1),J=0;J<16;J++)w=I&(E[J]^R[J]),E[J]^=w,R[J]^=w}function O(E,R){var M,w,I,J=r(),oe=r();for(M=0;M<16;M++)oe[M]=R[M];for(me(oe),me(oe),me(oe),w=0;w<2;w++){for(J[0]=oe[0]-65517,M=1;M<15;M++)J[M]=oe[M]-65535-(J[M-1]>>16&1),J[M-1]&=65535;J[15]=oe[15]-32767-(J[14]>>16&1),I=J[15]>>16&1,J[14]&=65535,ee(oe,J,1-I)}for(M=0;M<16;M++)E[2*M]=oe[M]&255,E[2*M+1]=oe[M]>>8}function j(E,R){var M=new Uint8Array(32),w=new Uint8Array(32);return O(M,E),O(w,R),g(M,0,w,0)}function z(E){var R=new Uint8Array(32);return O(R,E),R[0]&1}function F(E,R){var M;for(M=0;M<16;M++)E[M]=R[2*M]+(R[2*M+1]<<8);E[15]&=32767}function U(E,R,M){for(var w=0;w<16;w++)E[w]=R[w]+M[w]}function L(E,R,M){for(var w=0;w<16;w++)E[w]=R[w]-M[w]}function k(E,R,M){var w,I,J=0,oe=0,Se=0,Ie=0,Qe=0,Be=0,Et=0,Ye=0,tt=0,rt=0,lt=0,ot=0,nt=0,at=0,it=0,We=0,Ze=0,He=0,Ge=0,Xe=0,Ne=0,fe=0,ce=0,Ee=0,_e=0,be=0,Me=0,Je=0,st=0,ut=0,ct=0,H=M[0],mt=M[1],kt=M[2],Ct=M[3],dt=M[4],St=M[5],bt=M[6],Qt=M[7],Rt=M[8],Xt=M[9],Vt=M[10],Kt=M[11],nr=M[12],hr=M[13],dr=M[14],pr=M[15];w=R[0],J+=w*H,oe+=w*mt,Se+=w*kt,Ie+=w*Ct,Qe+=w*dt,Be+=w*St,Et+=w*bt,Ye+=w*Qt,tt+=w*Rt,rt+=w*Xt,lt+=w*Vt,ot+=w*Kt,nt+=w*nr,at+=w*hr,it+=w*dr,We+=w*pr,w=R[1],oe+=w*H,Se+=w*mt,Ie+=w*kt,Qe+=w*Ct,Be+=w*dt,Et+=w*St,Ye+=w*bt,tt+=w*Qt,rt+=w*Rt,lt+=w*Xt,ot+=w*Vt,nt+=w*Kt,at+=w*nr,it+=w*hr,We+=w*dr,Ze+=w*pr,w=R[2],Se+=w*H,Ie+=w*mt,Qe+=w*kt,Be+=w*Ct,Et+=w*dt,Ye+=w*St,tt+=w*bt,rt+=w*Qt,lt+=w*Rt,ot+=w*Xt,nt+=w*Vt,at+=w*Kt,it+=w*nr,We+=w*hr,Ze+=w*dr,He+=w*pr,w=R[3],Ie+=w*H,Qe+=w*mt,Be+=w*kt,Et+=w*Ct,Ye+=w*dt,tt+=w*St,rt+=w*bt,lt+=w*Qt,ot+=w*Rt,nt+=w*Xt,at+=w*Vt,it+=w*Kt,We+=w*nr,Ze+=w*hr,He+=w*dr,Ge+=w*pr,w=R[4],Qe+=w*H,Be+=w*mt,Et+=w*kt,Ye+=w*Ct,tt+=w*dt,rt+=w*St,lt+=w*bt,ot+=w*Qt,nt+=w*Rt,at+=w*Xt,it+=w*Vt,We+=w*Kt,Ze+=w*nr,He+=w*hr,Ge+=w*dr,Xe+=w*pr,w=R[5],Be+=w*H,Et+=w*mt,Ye+=w*kt,tt+=w*Ct,rt+=w*dt,lt+=w*St,ot+=w*bt,nt+=w*Qt,at+=w*Rt,it+=w*Xt,We+=w*Vt,Ze+=w*Kt,He+=w*nr,Ge+=w*hr,Xe+=w*dr,Ne+=w*pr,w=R[6],Et+=w*H,Ye+=w*mt,tt+=w*kt,rt+=w*Ct,lt+=w*dt,ot+=w*St,nt+=w*bt,at+=w*Qt,it+=w*Rt,We+=w*Xt,Ze+=w*Vt,He+=w*Kt,Ge+=w*nr,Xe+=w*hr,Ne+=w*dr,fe+=w*pr,w=R[7],Ye+=w*H,tt+=w*mt,rt+=w*kt,lt+=w*Ct,ot+=w*dt,nt+=w*St,at+=w*bt,it+=w*Qt,We+=w*Rt,Ze+=w*Xt,He+=w*Vt,Ge+=w*Kt,Xe+=w*nr,Ne+=w*hr,fe+=w*dr,ce+=w*pr,w=R[8],tt+=w*H,rt+=w*mt,lt+=w*kt,ot+=w*Ct,nt+=w*dt,at+=w*St,it+=w*bt,We+=w*Qt,Ze+=w*Rt,He+=w*Xt,Ge+=w*Vt,Xe+=w*Kt,Ne+=w*nr,fe+=w*hr,ce+=w*dr,Ee+=w*pr,w=R[9],rt+=w*H,lt+=w*mt,ot+=w*kt,nt+=w*Ct,at+=w*dt,it+=w*St,We+=w*bt,Ze+=w*Qt,He+=w*Rt,Ge+=w*Xt,Xe+=w*Vt,Ne+=w*Kt,fe+=w*nr,ce+=w*hr,Ee+=w*dr,_e+=w*pr,w=R[10],lt+=w*H,ot+=w*mt,nt+=w*kt,at+=w*Ct,it+=w*dt,We+=w*St,Ze+=w*bt,He+=w*Qt,Ge+=w*Rt,Xe+=w*Xt,Ne+=w*Vt,fe+=w*Kt,ce+=w*nr,Ee+=w*hr,_e+=w*dr,be+=w*pr,w=R[11],ot+=w*H,nt+=w*mt,at+=w*kt,it+=w*Ct,We+=w*dt,Ze+=w*St,He+=w*bt,Ge+=w*Qt,Xe+=w*Rt,Ne+=w*Xt,fe+=w*Vt,ce+=w*Kt,Ee+=w*nr,_e+=w*hr,be+=w*dr,Me+=w*pr,w=R[12],nt+=w*H,at+=w*mt,it+=w*kt,We+=w*Ct,Ze+=w*dt,He+=w*St,Ge+=w*bt,Xe+=w*Qt,Ne+=w*Rt,fe+=w*Xt,ce+=w*Vt,Ee+=w*Kt,_e+=w*nr,be+=w*hr,Me+=w*dr,Je+=w*pr,w=R[13],at+=w*H,it+=w*mt,We+=w*kt,Ze+=w*Ct,He+=w*dt,Ge+=w*St,Xe+=w*bt,Ne+=w*Qt,fe+=w*Rt,ce+=w*Xt,Ee+=w*Vt,_e+=w*Kt,be+=w*nr,Me+=w*hr,Je+=w*dr,st+=w*pr,w=R[14],it+=w*H,We+=w*mt,Ze+=w*kt,He+=w*Ct,Ge+=w*dt,Xe+=w*St,Ne+=w*bt,fe+=w*Qt,ce+=w*Rt,Ee+=w*Xt,_e+=w*Vt,be+=w*Kt,Me+=w*nr,Je+=w*hr,st+=w*dr,ut+=w*pr,w=R[15],We+=w*H,Ze+=w*mt,He+=w*kt,Ge+=w*Ct,Xe+=w*dt,Ne+=w*St,fe+=w*bt,ce+=w*Qt,Ee+=w*Rt,_e+=w*Xt,be+=w*Vt,Me+=w*Kt,Je+=w*nr,st+=w*hr,ut+=w*dr,ct+=w*pr,J+=38*Ze,oe+=38*He,Se+=38*Ge,Ie+=38*Xe,Qe+=38*Ne,Be+=38*fe,Et+=38*ce,Ye+=38*Ee,tt+=38*_e,rt+=38*be,lt+=38*Me,ot+=38*Je,nt+=38*st,at+=38*ut,it+=38*ct,I=1,w=J+I+65535,I=Math.floor(w/65536),J=w-I*65536,w=oe+I+65535,I=Math.floor(w/65536),oe=w-I*65536,w=Se+I+65535,I=Math.floor(w/65536),Se=w-I*65536,w=Ie+I+65535,I=Math.floor(w/65536),Ie=w-I*65536,w=Qe+I+65535,I=Math.floor(w/65536),Qe=w-I*65536,w=Be+I+65535,I=Math.floor(w/65536),Be=w-I*65536,w=Et+I+65535,I=Math.floor(w/65536),Et=w-I*65536,w=Ye+I+65535,I=Math.floor(w/65536),Ye=w-I*65536,w=tt+I+65535,I=Math.floor(w/65536),tt=w-I*65536,w=rt+I+65535,I=Math.floor(w/65536),rt=w-I*65536,w=lt+I+65535,I=Math.floor(w/65536),lt=w-I*65536,w=ot+I+65535,I=Math.floor(w/65536),ot=w-I*65536,w=nt+I+65535,I=Math.floor(w/65536),nt=w-I*65536,w=at+I+65535,I=Math.floor(w/65536),at=w-I*65536,w=it+I+65535,I=Math.floor(w/65536),it=w-I*65536,w=We+I+65535,I=Math.floor(w/65536),We=w-I*65536,J+=I-1+37*(I-1),I=1,w=J+I+65535,I=Math.floor(w/65536),J=w-I*65536,w=oe+I+65535,I=Math.floor(w/65536),oe=w-I*65536,w=Se+I+65535,I=Math.floor(w/65536),Se=w-I*65536,w=Ie+I+65535,I=Math.floor(w/65536),Ie=w-I*65536,w=Qe+I+65535,I=Math.floor(w/65536),Qe=w-I*65536,w=Be+I+65535,I=Math.floor(w/65536),Be=w-I*65536,w=Et+I+65535,I=Math.floor(w/65536),Et=w-I*65536,w=Ye+I+65535,I=Math.floor(w/65536),Ye=w-I*65536,w=tt+I+65535,I=Math.floor(w/65536),tt=w-I*65536,w=rt+I+65535,I=Math.floor(w/65536),rt=w-I*65536,w=lt+I+65535,I=Math.floor(w/65536),lt=w-I*65536,w=ot+I+65535,I=Math.floor(w/65536),ot=w-I*65536,w=nt+I+65535,I=Math.floor(w/65536),nt=w-I*65536,w=at+I+65535,I=Math.floor(w/65536),at=w-I*65536,w=it+I+65535,I=Math.floor(w/65536),it=w-I*65536,w=We+I+65535,I=Math.floor(w/65536),We=w-I*65536,J+=I-1+37*(I-1),E[0]=J,E[1]=oe,E[2]=Se,E[3]=Ie,E[4]=Qe,E[5]=Be,E[6]=Et,E[7]=Ye,E[8]=tt,E[9]=rt,E[10]=lt,E[11]=ot,E[12]=nt,E[13]=at,E[14]=it,E[15]=We}function D(E,R){k(E,R,R)}function K(E,R){var M=r(),w;for(w=0;w<16;w++)M[w]=R[w];for(w=253;w>=0;w--)D(M,M),w!==2&&w!==4&&k(M,M,R);for(w=0;w<16;w++)E[w]=M[w]}function G(E,R){var M=r(),w;for(w=0;w<16;w++)M[w]=R[w];for(w=250;w>=0;w--)D(M,M),w!==1&&k(M,M,R);for(w=0;w<16;w++)E[w]=M[w]}function Z(E,R,M){var w=new Uint8Array(32),I=new Float64Array(80),J,oe,Se=r(),Ie=r(),Qe=r(),Be=r(),Et=r(),Ye=r();for(oe=0;oe<31;oe++)w[oe]=R[oe];for(w[31]=R[31]&127|64,w[0]&=248,F(I,M),oe=0;oe<16;oe++)Ie[oe]=I[oe],Be[oe]=Se[oe]=Qe[oe]=0;for(Se[0]=Be[0]=1,oe=254;oe>=0;--oe)J=w[oe>>>3]>>>(oe&7)&1,ee(Se,Ie,J),ee(Qe,Be,J),U(Et,Se,Qe),L(Se,Se,Qe),U(Qe,Ie,Be),L(Ie,Ie,Be),D(Be,Et),D(Ye,Se),k(Se,Qe,Se),k(Qe,Ie,Et),U(Et,Se,Qe),L(Se,Se,Qe),D(Ie,Se),L(Qe,Be,Ye),k(Se,Qe,n),U(Se,Se,Be),k(Qe,Qe,Se),k(Se,Be,Ye),k(Be,Ie,I),D(Ie,Et),ee(Se,Ie,J),ee(Qe,Be,J);for(oe=0;oe<16;oe++)I[oe+16]=Se[oe],I[oe+32]=Qe[oe],I[oe+48]=Ie[oe],I[oe+64]=Be[oe];var tt=I.subarray(32),rt=I.subarray(16);return K(tt,tt),k(rt,rt,tt),O(E,rt),0}function le(E,R){return Z(E,R,v)}function ne(E,R){return s(R,32),le(E,R)}function he(E,R,M){var w=new Uint8Array(32);return Z(w,M,R),S(E,p,w,T)}var ie=Ce,X=xe;function ue(E,R,M,w,I,J){var oe=new Uint8Array(32);return he(oe,I,J),ie(E,R,M,w,oe)}function de(E,R,M,w,I,J){var oe=new Uint8Array(32);return he(oe,I,J),X(E,R,M,w,oe)}var te=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function pe(E,R,M,w){for(var I=new Int32Array(16),J=new Int32Array(16),oe,Se,Ie,Qe,Be,Et,Ye,tt,rt,lt,ot,nt,at,it,We,Ze,He,Ge,Xe,Ne,fe,ce,Ee,_e,be,Me,Je=E[0],st=E[1],ut=E[2],ct=E[3],H=E[4],mt=E[5],kt=E[6],Ct=E[7],dt=R[0],St=R[1],bt=R[2],Qt=R[3],Rt=R[4],Xt=R[5],Vt=R[6],Kt=R[7],nr=0;w>=128;){for(Xe=0;Xe<16;Xe++)Ne=8*Xe+nr,I[Xe]=M[Ne+0]<<24|M[Ne+1]<<16|M[Ne+2]<<8|M[Ne+3],J[Xe]=M[Ne+4]<<24|M[Ne+5]<<16|M[Ne+6]<<8|M[Ne+7];for(Xe=0;Xe<80;Xe++)if(oe=Je,Se=st,Ie=ut,Qe=ct,Be=H,Et=mt,Ye=kt,tt=Ct,rt=dt,lt=St,ot=bt,nt=Qt,at=Rt,it=Xt,We=Vt,Ze=Kt,fe=Ct,ce=Kt,Ee=ce&65535,_e=ce>>>16,be=fe&65535,Me=fe>>>16,fe=(H>>>14|Rt<<32-14)^(H>>>18|Rt<<32-18)^(Rt>>>41-32|H<<32-(41-32)),ce=(Rt>>>14|H<<32-14)^(Rt>>>18|H<<32-18)^(H>>>41-32|Rt<<32-(41-32)),Ee+=ce&65535,_e+=ce>>>16,be+=fe&65535,Me+=fe>>>16,fe=H&mt^~H&kt,ce=Rt&Xt^~Rt&Vt,Ee+=ce&65535,_e+=ce>>>16,be+=fe&65535,Me+=fe>>>16,fe=te[Xe*2],ce=te[Xe*2+1],Ee+=ce&65535,_e+=ce>>>16,be+=fe&65535,Me+=fe>>>16,fe=I[Xe%16],ce=J[Xe%16],Ee+=ce&65535,_e+=ce>>>16,be+=fe&65535,Me+=fe>>>16,_e+=Ee>>>16,be+=_e>>>16,Me+=be>>>16,He=be&65535|Me<<16,Ge=Ee&65535|_e<<16,fe=He,ce=Ge,Ee=ce&65535,_e=ce>>>16,be=fe&65535,Me=fe>>>16,fe=(Je>>>28|dt<<32-28)^(dt>>>34-32|Je<<32-(34-32))^(dt>>>39-32|Je<<32-(39-32)),ce=(dt>>>28|Je<<32-28)^(Je>>>34-32|dt<<32-(34-32))^(Je>>>39-32|dt<<32-(39-32)),Ee+=ce&65535,_e+=ce>>>16,be+=fe&65535,Me+=fe>>>16,fe=Je&st^Je&ut^st&ut,ce=dt&St^dt&bt^St&bt,Ee+=ce&65535,_e+=ce>>>16,be+=fe&65535,Me+=fe>>>16,_e+=Ee>>>16,be+=_e>>>16,Me+=be>>>16,tt=be&65535|Me<<16,Ze=Ee&65535|_e<<16,fe=Qe,ce=nt,Ee=ce&65535,_e=ce>>>16,be=fe&65535,Me=fe>>>16,fe=He,ce=Ge,Ee+=ce&65535,_e+=ce>>>16,be+=fe&65535,Me+=fe>>>16,_e+=Ee>>>16,be+=_e>>>16,Me+=be>>>16,Qe=be&65535|Me<<16,nt=Ee&65535|_e<<16,st=oe,ut=Se,ct=Ie,H=Qe,mt=Be,kt=Et,Ct=Ye,Je=tt,St=rt,bt=lt,Qt=ot,Rt=nt,Xt=at,Vt=it,Kt=We,dt=Ze,Xe%16===15)for(Ne=0;Ne<16;Ne++)fe=I[Ne],ce=J[Ne],Ee=ce&65535,_e=ce>>>16,be=fe&65535,Me=fe>>>16,fe=I[(Ne+9)%16],ce=J[(Ne+9)%16],Ee+=ce&65535,_e+=ce>>>16,be+=fe&65535,Me+=fe>>>16,He=I[(Ne+1)%16],Ge=J[(Ne+1)%16],fe=(He>>>1|Ge<<32-1)^(He>>>8|Ge<<32-8)^He>>>7,ce=(Ge>>>1|He<<32-1)^(Ge>>>8|He<<32-8)^(Ge>>>7|He<<32-7),Ee+=ce&65535,_e+=ce>>>16,be+=fe&65535,Me+=fe>>>16,He=I[(Ne+14)%16],Ge=J[(Ne+14)%16],fe=(He>>>19|Ge<<32-19)^(Ge>>>61-32|He<<32-(61-32))^He>>>6,ce=(Ge>>>19|He<<32-19)^(He>>>61-32|Ge<<32-(61-32))^(Ge>>>6|He<<32-6),Ee+=ce&65535,_e+=ce>>>16,be+=fe&65535,Me+=fe>>>16,_e+=Ee>>>16,be+=_e>>>16,Me+=be>>>16,I[Ne]=be&65535|Me<<16,J[Ne]=Ee&65535|_e<<16;fe=Je,ce=dt,Ee=ce&65535,_e=ce>>>16,be=fe&65535,Me=fe>>>16,fe=E[0],ce=R[0],Ee+=ce&65535,_e+=ce>>>16,be+=fe&65535,Me+=fe>>>16,_e+=Ee>>>16,be+=_e>>>16,Me+=be>>>16,E[0]=Je=be&65535|Me<<16,R[0]=dt=Ee&65535|_e<<16,fe=st,ce=St,Ee=ce&65535,_e=ce>>>16,be=fe&65535,Me=fe>>>16,fe=E[1],ce=R[1],Ee+=ce&65535,_e+=ce>>>16,be+=fe&65535,Me+=fe>>>16,_e+=Ee>>>16,be+=_e>>>16,Me+=be>>>16,E[1]=st=be&65535|Me<<16,R[1]=St=Ee&65535|_e<<16,fe=ut,ce=bt,Ee=ce&65535,_e=ce>>>16,be=fe&65535,Me=fe>>>16,fe=E[2],ce=R[2],Ee+=ce&65535,_e+=ce>>>16,be+=fe&65535,Me+=fe>>>16,_e+=Ee>>>16,be+=_e>>>16,Me+=be>>>16,E[2]=ut=be&65535|Me<<16,R[2]=bt=Ee&65535|_e<<16,fe=ct,ce=Qt,Ee=ce&65535,_e=ce>>>16,be=fe&65535,Me=fe>>>16,fe=E[3],ce=R[3],Ee+=ce&65535,_e+=ce>>>16,be+=fe&65535,Me+=fe>>>16,_e+=Ee>>>16,be+=_e>>>16,Me+=be>>>16,E[3]=ct=be&65535|Me<<16,R[3]=Qt=Ee&65535|_e<<16,fe=H,ce=Rt,Ee=ce&65535,_e=ce>>>16,be=fe&65535,Me=fe>>>16,fe=E[4],ce=R[4],Ee+=ce&65535,_e+=ce>>>16,be+=fe&65535,Me+=fe>>>16,_e+=Ee>>>16,be+=_e>>>16,Me+=be>>>16,E[4]=H=be&65535|Me<<16,R[4]=Rt=Ee&65535|_e<<16,fe=mt,ce=Xt,Ee=ce&65535,_e=ce>>>16,be=fe&65535,Me=fe>>>16,fe=E[5],ce=R[5],Ee+=ce&65535,_e+=ce>>>16,be+=fe&65535,Me+=fe>>>16,_e+=Ee>>>16,be+=_e>>>16,Me+=be>>>16,E[5]=mt=be&65535|Me<<16,R[5]=Xt=Ee&65535|_e<<16,fe=kt,ce=Vt,Ee=ce&65535,_e=ce>>>16,be=fe&65535,Me=fe>>>16,fe=E[6],ce=R[6],Ee+=ce&65535,_e+=ce>>>16,be+=fe&65535,Me+=fe>>>16,_e+=Ee>>>16,be+=_e>>>16,Me+=be>>>16,E[6]=kt=be&65535|Me<<16,R[6]=Vt=Ee&65535|_e<<16,fe=Ct,ce=Kt,Ee=ce&65535,_e=ce>>>16,be=fe&65535,Me=fe>>>16,fe=E[7],ce=R[7],Ee+=ce&65535,_e+=ce>>>16,be+=fe&65535,Me+=fe>>>16,_e+=Ee>>>16,be+=_e>>>16,Me+=be>>>16,E[7]=Ct=be&65535|Me<<16,R[7]=Kt=Ee&65535|_e<<16,nr+=128,w-=128}return w}function Pe(E,R,M){var w=new Int32Array(8),I=new Int32Array(8),J=new Uint8Array(256),oe,Se=M;for(w[0]=1779033703,w[1]=3144134277,w[2]=1013904242,w[3]=2773480762,w[4]=1359893119,w[5]=2600822924,w[6]=528734635,w[7]=1541459225,I[0]=4089235720,I[1]=2227873595,I[2]=4271175723,I[3]=1595750129,I[4]=2917565137,I[5]=725511199,I[6]=4215389547,I[7]=327033209,pe(w,I,R,M),M%=128,oe=0;oe<M;oe++)J[oe]=R[Se-M+oe];for(J[M]=128,M=256-128*(M<112?1:0),J[M-9]=0,u(J,M-8,Se/536870912|0,Se<<3),pe(w,I,J,M),oe=0;oe<8;oe++)u(E,8*oe,w[oe],I[oe]);return 0}function Ue(E,R){var M=r(),w=r(),I=r(),J=r(),oe=r(),Se=r(),Ie=r(),Qe=r(),Be=r();L(M,E[1],E[0]),L(Be,R[1],R[0]),k(M,M,Be),U(w,E[0],E[1]),U(Be,R[0],R[1]),k(w,w,Be),k(I,E[3],R[3]),k(I,I,h),k(J,E[2],R[2]),U(J,J,J),L(oe,w,M),L(Se,J,I),U(Ie,J,I),U(Qe,w,M),k(E[0],oe,Se),k(E[1],Qe,Ie),k(E[2],Ie,Se),k(E[3],oe,Qe)}function $e(E,R,M){var w;for(w=0;w<4;w++)ee(E[w],R[w],M)}function ge(E,R){var M=r(),w=r(),I=r();K(I,R[2]),k(M,R[0],I),k(w,R[1],I),O(E,w),E[31]^=z(M)<<7}function je(E,R,M){var w,I;for(Oe(E[0],x),Oe(E[1],f),Oe(E[2],f),Oe(E[3],x),I=255;I>=0;--I)w=M[I/8|0]>>(I&7)&1,$e(E,R,w),Ue(R,E),Ue(E,E),$e(E,R,w)}function Ae(E,R){var M=[r(),r(),r(),r()];Oe(M[0],i),Oe(M[1],o),Oe(M[2],f),k(M[3],i,o),je(E,M,R)}function Re(E,R,M){var w=new Uint8Array(64),I=[r(),r(),r(),r()],J;for(M||s(R,32),Pe(w,R,32),w[0]&=248,w[31]&=127,w[31]|=64,Ae(I,w),ge(E,I),J=0;J<32;J++)R[J+32]=E[J];return 0}var ft=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ht(E,R){var M,w,I,J;for(w=63;w>=32;--w){for(M=0,I=w-32,J=w-12;I<J;++I)R[I]+=M-16*R[w]*ft[I-(w-32)],M=Math.floor((R[I]+128)/256),R[I]-=M*256;R[I]+=M,R[w]=0}for(M=0,I=0;I<32;I++)R[I]+=M-(R[31]>>4)*ft[I],M=R[I]>>8,R[I]&=255;for(I=0;I<32;I++)R[I]-=M*ft[I];for(w=0;w<32;w++)R[w+1]+=R[w]>>8,E[w]=R[w]&255}function Dt(E){var R=new Float64Array(64),M;for(M=0;M<64;M++)R[M]=E[M];for(M=0;M<64;M++)E[M]=0;ht(E,R)}function Ht(E,R,M,w){var I=new Uint8Array(64),J=new Uint8Array(64),oe=new Uint8Array(64),Se,Ie,Qe=new Float64Array(64),Be=[r(),r(),r(),r()];Pe(I,w,32),I[0]&=248,I[31]&=127,I[31]|=64;var Et=M+64;for(Se=0;Se<M;Se++)E[64+Se]=R[Se];for(Se=0;Se<32;Se++)E[32+Se]=I[32+Se];for(Pe(oe,E.subarray(32),M+32),Dt(oe),Ae(Be,oe),ge(E,Be),Se=32;Se<64;Se++)E[Se]=w[Se];for(Pe(J,E,M+64),Dt(J),Se=0;Se<64;Se++)Qe[Se]=0;for(Se=0;Se<32;Se++)Qe[Se]=oe[Se];for(Se=0;Se<32;Se++)for(Ie=0;Ie<32;Ie++)Qe[Se+Ie]+=J[Se]*I[Ie];return ht(E.subarray(32),Qe),Et}function rn(E,R){var M=r(),w=r(),I=r(),J=r(),oe=r(),Se=r(),Ie=r();return Oe(E[2],f),F(E[1],R),D(I,E[1]),k(J,I,c),L(I,I,E[2]),U(J,E[2],J),D(oe,J),D(Se,oe),k(Ie,Se,oe),k(M,Ie,I),k(M,M,J),G(M,M),k(M,M,I),k(M,M,J),k(M,M,J),k(E[0],M,J),D(w,E[0]),k(w,w,J),j(w,I)&&k(E[0],E[0],a),D(w,E[0]),k(w,w,J),j(w,I)?-1:(z(E[0])===R[31]>>7&&L(E[0],x,E[0]),k(E[3],E[0],E[1]),0)}function fn(E,R,M,w){var I,J=new Uint8Array(32),oe=new Uint8Array(64),Se=[r(),r(),r(),r()],Ie=[r(),r(),r(),r()];if(M<64||rn(Ie,w))return-1;for(I=0;I<M;I++)E[I]=R[I];for(I=0;I<32;I++)E[I+32]=w[I];if(Pe(oe,E,M),Dt(oe),je(Se,Ie,oe),Ae(Ie,R.subarray(32)),Ue(Se,Ie),ge(J,Se),M-=64,g(R,0,J,0)){for(I=0;I<M;I++)E[I]=0;return-1}for(I=0;I<M;I++)E[I]=R[I+64];return M}var Tr=32,In=24,hn=32,kn=16,Nn=32,Di=32,ti=32,Ri=32,Ja=32,hs=In,wu=hn,Cu=kn,dn=64,jn=32,ri=64,eo=32,to=64;t.lowlevel={crypto_core_hsalsa20:S,crypto_stream_xor:re,crypto_stream:Q,crypto_stream_salsa20_xor:A,crypto_stream_salsa20:N,crypto_onetimeauth:we,crypto_onetimeauth_verify:Te,crypto_verify_16:l,crypto_verify_32:g,crypto_secretbox:Ce,crypto_secretbox_open:xe,crypto_scalarmult:Z,crypto_scalarmult_base:le,crypto_box_beforenm:he,crypto_box_afternm:ie,crypto_box:ue,crypto_box_open:de,crypto_box_keypair:ne,crypto_hash:Pe,crypto_sign:Ht,crypto_sign_keypair:Re,crypto_sign_open:fn,crypto_secretbox_KEYBYTES:Tr,crypto_secretbox_NONCEBYTES:In,crypto_secretbox_ZEROBYTES:hn,crypto_secretbox_BOXZEROBYTES:kn,crypto_scalarmult_BYTES:Nn,crypto_scalarmult_SCALARBYTES:Di,crypto_box_PUBLICKEYBYTES:ti,crypto_box_SECRETKEYBYTES:Ri,crypto_box_BEFORENMBYTES:Ja,crypto_box_NONCEBYTES:hs,crypto_box_ZEROBYTES:wu,crypto_box_BOXZEROBYTES:Cu,crypto_sign_BYTES:dn,crypto_sign_PUBLICKEYBYTES:jn,crypto_sign_SECRETKEYBYTES:ri,crypto_sign_SEEDBYTES:eo,crypto_hash_BYTES:to,gf:r,D:c,L:ft,pack25519:O,unpack25519:F,M:k,A:U,S:D,Z:L,pow2523:G,add:Ue,set25519:Oe,modL:ht,scalarmult:je,scalarbase:Ae};function ds(E,R){if(E.length!==Tr)throw new Error("bad key size");if(R.length!==In)throw new Error("bad nonce size")}function Su(E,R){if(E.length!==ti)throw new Error("bad public key size");if(R.length!==Ri)throw new Error("bad secret key size")}function Dr(){for(var E=0;E<arguments.length;E++)if(!(arguments[E]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ro(E){for(var R=0;R<E.length;R++)E[R]=0}t.randomBytes=function(E){var R=new Uint8Array(E);return s(R,E),R},t.secretbox=function(E,R,M){Dr(E,R,M),ds(M,R);for(var w=new Uint8Array(hn+E.length),I=new Uint8Array(w.length),J=0;J<E.length;J++)w[J+hn]=E[J];return Ce(I,w,w.length,R,M),I.subarray(kn)},t.secretbox.open=function(E,R,M){Dr(E,R,M),ds(M,R);for(var w=new Uint8Array(kn+E.length),I=new Uint8Array(w.length),J=0;J<E.length;J++)w[J+kn]=E[J];return w.length<32||xe(I,w,w.length,R,M)!==0?null:I.subarray(hn)},t.secretbox.keyLength=Tr,t.secretbox.nonceLength=In,t.secretbox.overheadLength=kn,t.scalarMult=function(E,R){if(Dr(E,R),E.length!==Di)throw new Error("bad n size");if(R.length!==Nn)throw new Error("bad p size");var M=new Uint8Array(Nn);return Z(M,E,R),M},t.scalarMult.base=function(E){if(Dr(E),E.length!==Di)throw new Error("bad n size");var R=new Uint8Array(Nn);return le(R,E),R},t.scalarMult.scalarLength=Di,t.scalarMult.groupElementLength=Nn,t.box=function(E,R,M,w){var I=t.box.before(M,w);return t.secretbox(E,R,I)},t.box.before=function(E,R){Dr(E,R),Su(E,R);var M=new Uint8Array(Ja);return he(M,E,R),M},t.box.after=t.secretbox,t.box.open=function(E,R,M,w){var I=t.box.before(M,w);return t.secretbox.open(E,R,I)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var E=new Uint8Array(ti),R=new Uint8Array(Ri);return ne(E,R),{publicKey:E,secretKey:R}},t.box.keyPair.fromSecretKey=function(E){if(Dr(E),E.length!==Ri)throw new Error("bad secret key size");var R=new Uint8Array(ti);return le(R,E),{publicKey:R,secretKey:new Uint8Array(E)}},t.box.publicKeyLength=ti,t.box.secretKeyLength=Ri,t.box.sharedKeyLength=Ja,t.box.nonceLength=hs,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(E,R){if(Dr(E,R),R.length!==ri)throw new Error("bad secret key size");var M=new Uint8Array(dn+E.length);return Ht(M,E,E.length,R),M},t.sign.open=function(E,R){if(Dr(E,R),R.length!==jn)throw new Error("bad public key size");var M=new Uint8Array(E.length),w=fn(M,E,E.length,R);if(w<0)return null;for(var I=new Uint8Array(w),J=0;J<I.length;J++)I[J]=M[J];return I},t.sign.detached=function(E,R){for(var M=t.sign(E,R),w=new Uint8Array(dn),I=0;I<w.length;I++)w[I]=M[I];return w},t.sign.detached.verify=function(E,R,M){if(Dr(E,R,M),R.length!==dn)throw new Error("bad signature size");if(M.length!==jn)throw new Error("bad public key size");var w=new Uint8Array(dn+E.length),I=new Uint8Array(dn+E.length),J;for(J=0;J<dn;J++)w[J]=R[J];for(J=0;J<E.length;J++)w[J+dn]=E[J];return fn(I,w,w.length,M)>=0},t.sign.keyPair=function(){var E=new Uint8Array(jn),R=new Uint8Array(ri);return Re(E,R),{publicKey:E,secretKey:R}},t.sign.keyPair.fromSecretKey=function(E){if(Dr(E),E.length!==ri)throw new Error("bad secret key size");for(var R=new Uint8Array(jn),M=0;M<R.length;M++)R[M]=E[32+M];return{publicKey:R,secretKey:new Uint8Array(E)}},t.sign.keyPair.fromSeed=function(E){if(Dr(E),E.length!==eo)throw new Error("bad seed size");for(var R=new Uint8Array(jn),M=new Uint8Array(ri),w=0;w<32;w++)M[w]=E[w];return Re(R,M,!0),{publicKey:R,secretKey:M}},t.sign.publicKeyLength=jn,t.sign.secretKeyLength=ri,t.sign.seedLength=eo,t.sign.signatureLength=dn,t.hash=function(E){Dr(E);var R=new Uint8Array(to);return Pe(R,E,E.length),R},t.hash.hashLength=to,t.verify=function(E,R){return Dr(E,R),E.length===0||R.length===0||E.length!==R.length?!1:d(E,0,R,0,E.length)===0},t.setPRNG=function(E){s=E},function(){var E=typeof self<"u"?self.crypto||self.msCrypto:null;if(E&&E.getRandomValues){var R=65536;t.setPRNG(function(M,w){var I,J=new Uint8Array(w);for(I=0;I<w;I+=R)E.getRandomValues(J.subarray(I,I+Math.min(w-I,R)));for(I=0;I<w;I++)M[I]=J[I];ro(J)})}else typeof LS<"u"&&(E=il,E&&E.randomBytes&&t.setPRNG(function(M,w){var I,J=E.randomBytes(w);for(I=0;I<w;I++)M[I]=J[I];ro(J)}))}()})(e.exports?e.exports:self.nacl=self.nacl||{})})(FS);var Rf={},IS={get exports(){return Rf},set exports(e){Rf=e}};(function(e){var t=function(){var r=[],s=[];(function(x){var f,n;for(f=x.length-1;f>=0;--f)n=x.charCodeAt(f),r[f]=n&255,s[n]=f;s["=".charCodeAt(0)]=0})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");function p(x){var f=x.length,n=3-(f%3||3),c=Math.floor((f+2)/3)*4,h=new Uint8Array(c),i=0,o,a;for(o=0;o<f;i+=4,o+=3)a=(x[o]&255)<<16|(x[o+1]&255)<<8|x[o+2]&255,h[i]=r[a>>18&63],h[i+1]=r[a>>12&63],h[i+2]=r[a>>6&63],h[i+3]=r[a&63];for(;n--;)h[--i]=61;return String.fromCharCode.apply(null,h)}function v(x){var f=x.length,n=x.slice(f-2).split("=").length-1,c=Math.floor((f+3)/4)*3-n,h=new Uint8Array(c),i,o,a;for(i=0,o=0;o<f;i+=3,o+=4)a=s[x[o].charCodeAt(0)]<<18|s[x[o+1].charCodeAt(0)]<<12|s[x[o+2].charCodeAt(0)]<<6|s[x[o+3].charCodeAt(0)],h[i]=a>>16&255,h[i+1]=a>>8&255,h[i+2]=a&255;return h}return{encode:p,decode:v}}();e.exports=t})(IS);const NS=Rf;var $a={},jS={get exports(){return $a},set exports(e){$a=e}};(function(e,t){(function(r,s){s(t)})(yv,function(r){function s(i){const o=new ArrayBuffer(4),a=new DataView(o);return a.setUint32(0,i),new Uint8Array(a.buffer)}function p(i,o=0,a=i.byteLength){let u="";const d=Math.min(a,i.byteLength-o);for(let l=0;l<d;l+=1)u+=String.fromCharCode(i.getUint8(o+l));return u}function v(i){return new TextEncoder().encode(i)}function x(i){const o=i.reduce((u,d)=>u+d.byteLength,0),a=new Uint8Array(o);for(let u=0,d=0;u<i.length;u+=1)a.set(i[u],d),d+=i[u].byteLength;return a}function f(i){return new DataView(i.buffer,i.byteOffset,i.byteLength)}function n(i){const o=new Uint8Array([137,80,78,71,13,10,26,10]);return!(i.length<o.length)&&f(o).getBigUint64()===f(i).getBigUint64()}const c=[];function h(i,o,a){if(!n(i))throw new TypeError("Invalid PNG");if(o.length<1||o.length>79)throw new TypeError("Invalid length for key");const u=v("tEXt"),d=v(`${o}\0${a}`),l=s(function(y){if(c.length===0)for(let S=0;S<256;S++){let T=S;for(let A=0;A<8;A++)1&T?T=3988292384^T>>>1:T>>>=1;c[S]=T}const _=4294967295;return(((S,T,A)=>{let N=S;for(let Q=0;Q<A;Q++)N=c[255&(N^T[Q])]^N>>>8;return N})(_,y,y.byteLength)^_)>>>0}(x([u,d]))),g=x([s(d.byteLength),u,d,l]),m=16+f(i).getUint32(8)+4;return x([i.subarray(0,m),g,i.subarray(m)])}r.addMetadata=h,r.addMetadataFromBase64DataURI=function(i,o,a){const u="data:image/png;base64,";if(typeof i!="string"||i.substring(0,u.length)!==u)throw new TypeError("Invalid PNG as Base64 Data URI");const d=atob(i.substring(u.length)),l=new Uint8Array(d.length);for(let m=0;m<d.length;m+=1)l[m]=d.charCodeAt(m);const g=h(l,o,a);return u+btoa(p(f(g)))},r.getMetadata=function(i,o){if(!n(i))throw new TypeError("Invalid PNG");const a=f(i);let u=8;for(;u<a.byteLength;){const d=a.getUint32(u);if(p(a,u+4,4+o.length)===`tEXt${o}`)return p(a,u+4+4+o.length+1,d-o.length-1);u+=d+12}},Object.defineProperty(r,"__esModule",{value:!0})})})(jS,$a);const Rl=qf($a),qr=e=>{const t="data:image/png;base64,",r=e.substring(t.length);return NS.decode(r)},Zt=e=>{const t=e.split(",").map(r=>parseInt(r));return new Uint8Array(t)},Ft=(e,t)=>Rl?Rl.getMetadata(e,t):$a.getMetadata(e,t),Rr=(e,t,r)=>Rl?Rl.addMetadataFromBase64DataURI(e,t,r):$a.addMetadataFromBase64DataURI(e,t,r);var Lf={},BS={get exports(){return Lf},set exports(e){Lf=e}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(e,t){(function(r,s){e.exports=s()})(yv,function(){for(var r=function(C,b,P){return b===void 0&&(b=0),P===void 0&&(P=1),C<b?b:C>P?P:C},s=r,p=function(C){C._clipped=!1,C._unclipped=C.slice(0);for(var b=0;b<=3;b++)b<3?((C[b]<0||C[b]>255)&&(C._clipped=!0),C[b]=s(C[b],0,255)):b===3&&(C[b]=s(C[b],0,1));return C},v={},x=0,f=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];x<f.length;x+=1){var n=f[x];v["[object "+n+"]"]=n.toLowerCase()}var c=function(C){return v[Object.prototype.toString.call(C)]||"object"},h=c,i=function(C,b){return b===void 0&&(b=null),C.length>=3?Array.prototype.slice.call(C):h(C[0])=="object"&&b?b.split("").filter(function(P){return C[0][P]!==void 0}).map(function(P){return C[0][P]}):C[0]},o=c,a=function(C){if(C.length<2)return null;var b=C.length-1;return o(C[b])=="string"?C[b].toLowerCase():null},u=Math.PI,d={clip_rgb:p,limit:r,type:c,unpack:i,last:a,PI:u,TWOPI:u*2,PITHIRD:u/3,DEG2RAD:u/180,RAD2DEG:180/u},l={format:{},autodetect:[]},g=d.last,m=d.clip_rgb,y=d.type,_=l,S=function(){for(var b=[],P=arguments.length;P--;)b[P]=arguments[P];var B=this;if(y(b[0])==="object"&&b[0].constructor&&b[0].constructor===this.constructor)return b[0];var V=g(b),q=!1;if(!V){q=!0,_.sorted||(_.autodetect=_.autodetect.sort(function(ke,ze){return ze.p-ke.p}),_.sorted=!0);for(var Y=0,ae=_.autodetect;Y<ae.length;Y+=1){var se=ae[Y];if(V=se.test.apply(se,b),V)break}}if(_.format[V]){var ye=_.format[V].apply(null,q?b:b.slice(0,-1));B._rgb=m(ye)}else throw new Error("unknown format: "+b);B._rgb.length===3&&B._rgb.push(1)};S.prototype.toString=function(){return y(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var T=S,A=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];return new(Function.prototype.bind.apply(A.Color,[null].concat(C)))};A.Color=T,A.version="2.4.2";var N=A,Q=d.unpack,re=Math.max,ve=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];var P=Q(C,"rgb"),B=P[0],V=P[1],q=P[2];B=B/255,V=V/255,q=q/255;var Y=1-re(B,re(V,q)),ae=Y<1?1/(1-Y):0,se=(1-B-Y)*ae,ye=(1-V-Y)*ae,ke=(1-q-Y)*ae;return[se,ye,ke,Y]},we=ve,Te=d.unpack,Ce=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];C=Te(C,"cmyk");var P=C[0],B=C[1],V=C[2],q=C[3],Y=C.length>4?C[4]:1;return q===1?[0,0,0,Y]:[P>=1?0:255*(1-P)*(1-q),B>=1?0:255*(1-B)*(1-q),V>=1?0:255*(1-V)*(1-q),Y]},xe=Ce,Oe=N,me=T,ee=l,O=d.unpack,j=d.type,z=we;me.prototype.cmyk=function(){return z(this._rgb)},Oe.cmyk=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];return new(Function.prototype.bind.apply(me,[null].concat(C,["cmyk"])))},ee.format.cmyk=xe,ee.autodetect.push({p:2,test:function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];if(C=O(C,"cmyk"),j(C)==="array"&&C.length===4)return"cmyk"}});var F=d.unpack,U=d.last,L=function(C){return Math.round(C*100)/100},k=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];var P=F(C,"hsla"),B=U(C)||"lsa";return P[0]=L(P[0]||0),P[1]=L(P[1]*100)+"%",P[2]=L(P[2]*100)+"%",B==="hsla"||P.length>3&&P[3]<1?(P[3]=P.length>3?P[3]:1,B="hsla"):P.length=3,B+"("+P.join(",")+")"},D=k,K=d.unpack,G=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];C=K(C,"rgba");var P=C[0],B=C[1],V=C[2];P/=255,B/=255,V/=255;var q=Math.min(P,B,V),Y=Math.max(P,B,V),ae=(Y+q)/2,se,ye;return Y===q?(se=0,ye=Number.NaN):se=ae<.5?(Y-q)/(Y+q):(Y-q)/(2-Y-q),P==Y?ye=(B-V)/(Y-q):B==Y?ye=2+(V-P)/(Y-q):V==Y&&(ye=4+(P-B)/(Y-q)),ye*=60,ye<0&&(ye+=360),C.length>3&&C[3]!==void 0?[ye,se,ae,C[3]]:[ye,se,ae]},Z=G,le=d.unpack,ne=d.last,he=D,ie=Z,X=Math.round,ue=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];var P=le(C,"rgba"),B=ne(C)||"rgb";return B.substr(0,3)=="hsl"?he(ie(P),B):(P[0]=X(P[0]),P[1]=X(P[1]),P[2]=X(P[2]),(B==="rgba"||P.length>3&&P[3]<1)&&(P[3]=P.length>3?P[3]:1,B="rgba"),B+"("+P.slice(0,B==="rgb"?3:4).join(",")+")")},de=ue,te=d.unpack,pe=Math.round,Pe=function(){for(var C,b=[],P=arguments.length;P--;)b[P]=arguments[P];b=te(b,"hsl");var B=b[0],V=b[1],q=b[2],Y,ae,se;if(V===0)Y=ae=se=q*255;else{var ye=[0,0,0],ke=[0,0,0],ze=q<.5?q*(1+V):q+V-q*V,De=2*q-ze,qe=B/360;ye[0]=qe+1/3,ye[1]=qe,ye[2]=qe-1/3;for(var Ve=0;Ve<3;Ve++)ye[Ve]<0&&(ye[Ve]+=1),ye[Ve]>1&&(ye[Ve]-=1),6*ye[Ve]<1?ke[Ve]=De+(ze-De)*6*ye[Ve]:2*ye[Ve]<1?ke[Ve]=ze:3*ye[Ve]<2?ke[Ve]=De+(ze-De)*(2/3-ye[Ve])*6:ke[Ve]=De;C=[pe(ke[0]*255),pe(ke[1]*255),pe(ke[2]*255)],Y=C[0],ae=C[1],se=C[2]}return b.length>3?[Y,ae,se,b[3]]:[Y,ae,se,1]},Ue=Pe,$e=Ue,ge=l,je=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Ae=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Re=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ft=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ht=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Dt=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Ht=Math.round,rn=function(C){C=C.toLowerCase().trim();var b;if(ge.format.named)try{return ge.format.named(C)}catch{}if(b=C.match(je)){for(var P=b.slice(1,4),B=0;B<3;B++)P[B]=+P[B];return P[3]=1,P}if(b=C.match(Ae)){for(var V=b.slice(1,5),q=0;q<4;q++)V[q]=+V[q];return V}if(b=C.match(Re)){for(var Y=b.slice(1,4),ae=0;ae<3;ae++)Y[ae]=Ht(Y[ae]*2.55);return Y[3]=1,Y}if(b=C.match(ft)){for(var se=b.slice(1,5),ye=0;ye<3;ye++)se[ye]=Ht(se[ye]*2.55);return se[3]=+se[3],se}if(b=C.match(ht)){var ke=b.slice(1,4);ke[1]*=.01,ke[2]*=.01;var ze=$e(ke);return ze[3]=1,ze}if(b=C.match(Dt)){var De=b.slice(1,4);De[1]*=.01,De[2]*=.01;var qe=$e(De);return qe[3]=+b[4],qe}};rn.test=function(C){return je.test(C)||Ae.test(C)||Re.test(C)||ft.test(C)||ht.test(C)||Dt.test(C)};var fn=rn,Tr=N,In=T,hn=l,kn=d.type,Nn=de,Di=fn;In.prototype.css=function(C){return Nn(this._rgb,C)},Tr.css=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];return new(Function.prototype.bind.apply(In,[null].concat(C,["css"])))},hn.format.css=Di,hn.autodetect.push({p:5,test:function(C){for(var b=[],P=arguments.length-1;P-- >0;)b[P]=arguments[P+1];if(!b.length&&kn(C)==="string"&&Di.test(C))return"css"}});var ti=T,Ri=N,Ja=l,hs=d.unpack;Ja.format.gl=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];var P=hs(C,"rgba");return P[0]*=255,P[1]*=255,P[2]*=255,P},Ri.gl=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];return new(Function.prototype.bind.apply(ti,[null].concat(C,["gl"])))},ti.prototype.gl=function(){var C=this._rgb;return[C[0]/255,C[1]/255,C[2]/255,C[3]]};var wu=d.unpack,Cu=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];var P=wu(C,"rgb"),B=P[0],V=P[1],q=P[2],Y=Math.min(B,V,q),ae=Math.max(B,V,q),se=ae-Y,ye=se*100/255,ke=Y/(255-se)*100,ze;return se===0?ze=Number.NaN:(B===ae&&(ze=(V-q)/se),V===ae&&(ze=2+(q-B)/se),q===ae&&(ze=4+(B-V)/se),ze*=60,ze<0&&(ze+=360)),[ze,ye,ke]},dn=Cu,jn=d.unpack,ri=Math.floor,eo=function(){for(var C,b,P,B,V,q,Y=[],ae=arguments.length;ae--;)Y[ae]=arguments[ae];Y=jn(Y,"hcg");var se=Y[0],ye=Y[1],ke=Y[2],ze,De,qe;ke=ke*255;var Ve=ye*255;if(ye===0)ze=De=qe=ke;else{se===360&&(se=0),se>360&&(se-=360),se<0&&(se+=360),se/=60;var yt=ri(se),wt=se-yt,Pt=ke*(1-ye),Lt=Pt+Ve*(1-wt),_r=Pt+Ve*wt,vr=Pt+Ve;switch(yt){case 0:C=[vr,_r,Pt],ze=C[0],De=C[1],qe=C[2];break;case 1:b=[Lt,vr,Pt],ze=b[0],De=b[1],qe=b[2];break;case 2:P=[Pt,vr,_r],ze=P[0],De=P[1],qe=P[2];break;case 3:B=[Pt,Lt,vr],ze=B[0],De=B[1],qe=B[2];break;case 4:V=[_r,Pt,vr],ze=V[0],De=V[1],qe=V[2];break;case 5:q=[vr,Pt,Lt],ze=q[0],De=q[1],qe=q[2];break}}return[ze,De,qe,Y.length>3?Y[3]:1]},to=eo,ds=d.unpack,Su=d.type,Dr=N,ro=T,E=l,R=dn;ro.prototype.hcg=function(){return R(this._rgb)},Dr.hcg=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];return new(Function.prototype.bind.apply(ro,[null].concat(C,["hcg"])))},E.format.hcg=to,E.autodetect.push({p:1,test:function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];if(C=ds(C,"hcg"),Su(C)==="array"&&C.length===3)return"hcg"}});var M=d.unpack,w=d.last,I=Math.round,J=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];var P=M(C,"rgba"),B=P[0],V=P[1],q=P[2],Y=P[3],ae=w(C)||"auto";Y===void 0&&(Y=1),ae==="auto"&&(ae=Y<1?"rgba":"rgb"),B=I(B),V=I(V),q=I(q);var se=B<<16|V<<8|q,ye="000000"+se.toString(16);ye=ye.substr(ye.length-6);var ke="0"+I(Y*255).toString(16);switch(ke=ke.substr(ke.length-2),ae.toLowerCase()){case"rgba":return"#"+ye+ke;case"argb":return"#"+ke+ye;default:return"#"+ye}},oe=J,Se=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Ie=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Qe=function(C){if(C.match(Se)){(C.length===4||C.length===7)&&(C=C.substr(1)),C.length===3&&(C=C.split(""),C=C[0]+C[0]+C[1]+C[1]+C[2]+C[2]);var b=parseInt(C,16),P=b>>16,B=b>>8&255,V=b&255;return[P,B,V,1]}if(C.match(Ie)){(C.length===5||C.length===9)&&(C=C.substr(1)),C.length===4&&(C=C.split(""),C=C[0]+C[0]+C[1]+C[1]+C[2]+C[2]+C[3]+C[3]);var q=parseInt(C,16),Y=q>>24&255,ae=q>>16&255,se=q>>8&255,ye=Math.round((q&255)/255*100)/100;return[Y,ae,se,ye]}throw new Error("unknown hex color: "+C)},Be=Qe,Et=N,Ye=T,tt=d.type,rt=l,lt=oe;Ye.prototype.hex=function(C){return lt(this._rgb,C)},Et.hex=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];return new(Function.prototype.bind.apply(Ye,[null].concat(C,["hex"])))},rt.format.hex=Be,rt.autodetect.push({p:4,test:function(C){for(var b=[],P=arguments.length-1;P-- >0;)b[P]=arguments[P+1];if(!b.length&&tt(C)==="string"&&[3,4,5,6,7,8,9].indexOf(C.length)>=0)return"hex"}});var ot=d.unpack,nt=d.TWOPI,at=Math.min,it=Math.sqrt,We=Math.acos,Ze=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];var P=ot(C,"rgb"),B=P[0],V=P[1],q=P[2];B/=255,V/=255,q/=255;var Y,ae=at(B,V,q),se=(B+V+q)/3,ye=se>0?1-ae/se:0;return ye===0?Y=NaN:(Y=(B-V+(B-q))/2,Y/=it((B-V)*(B-V)+(B-q)*(V-q)),Y=We(Y),q>V&&(Y=nt-Y),Y/=nt),[Y*360,ye,se]},He=Ze,Ge=d.unpack,Xe=d.limit,Ne=d.TWOPI,fe=d.PITHIRD,ce=Math.cos,Ee=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];C=Ge(C,"hsi");var P=C[0],B=C[1],V=C[2],q,Y,ae;return isNaN(P)&&(P=0),isNaN(B)&&(B=0),P>360&&(P-=360),P<0&&(P+=360),P/=360,P<1/3?(ae=(1-B)/3,q=(1+B*ce(Ne*P)/ce(fe-Ne*P))/3,Y=1-(ae+q)):P<2/3?(P-=1/3,q=(1-B)/3,Y=(1+B*ce(Ne*P)/ce(fe-Ne*P))/3,ae=1-(q+Y)):(P-=2/3,Y=(1-B)/3,ae=(1+B*ce(Ne*P)/ce(fe-Ne*P))/3,q=1-(Y+ae)),q=Xe(V*q*3),Y=Xe(V*Y*3),ae=Xe(V*ae*3),[q*255,Y*255,ae*255,C.length>3?C[3]:1]},_e=Ee,be=d.unpack,Me=d.type,Je=N,st=T,ut=l,ct=He;st.prototype.hsi=function(){return ct(this._rgb)},Je.hsi=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];return new(Function.prototype.bind.apply(st,[null].concat(C,["hsi"])))},ut.format.hsi=_e,ut.autodetect.push({p:2,test:function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];if(C=be(C,"hsi"),Me(C)==="array"&&C.length===3)return"hsi"}});var H=d.unpack,mt=d.type,kt=N,Ct=T,dt=l,St=Z;Ct.prototype.hsl=function(){return St(this._rgb)},kt.hsl=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];return new(Function.prototype.bind.apply(Ct,[null].concat(C,["hsl"])))},dt.format.hsl=Ue,dt.autodetect.push({p:2,test:function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];if(C=H(C,"hsl"),mt(C)==="array"&&C.length===3)return"hsl"}});var bt=d.unpack,Qt=Math.min,Rt=Math.max,Xt=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];C=bt(C,"rgb");var P=C[0],B=C[1],V=C[2],q=Qt(P,B,V),Y=Rt(P,B,V),ae=Y-q,se,ye,ke;return ke=Y/255,Y===0?(se=Number.NaN,ye=0):(ye=ae/Y,P===Y&&(se=(B-V)/ae),B===Y&&(se=2+(V-P)/ae),V===Y&&(se=4+(P-B)/ae),se*=60,se<0&&(se+=360)),[se,ye,ke]},Vt=Xt,Kt=d.unpack,nr=Math.floor,hr=function(){for(var C,b,P,B,V,q,Y=[],ae=arguments.length;ae--;)Y[ae]=arguments[ae];Y=Kt(Y,"hsv");var se=Y[0],ye=Y[1],ke=Y[2],ze,De,qe;if(ke*=255,ye===0)ze=De=qe=ke;else{se===360&&(se=0),se>360&&(se-=360),se<0&&(se+=360),se/=60;var Ve=nr(se),yt=se-Ve,wt=ke*(1-ye),Pt=ke*(1-ye*yt),Lt=ke*(1-ye*(1-yt));switch(Ve){case 0:C=[ke,Lt,wt],ze=C[0],De=C[1],qe=C[2];break;case 1:b=[Pt,ke,wt],ze=b[0],De=b[1],qe=b[2];break;case 2:P=[wt,ke,Lt],ze=P[0],De=P[1],qe=P[2];break;case 3:B=[wt,Pt,ke],ze=B[0],De=B[1],qe=B[2];break;case 4:V=[Lt,wt,ke],ze=V[0],De=V[1],qe=V[2];break;case 5:q=[ke,wt,Pt],ze=q[0],De=q[1],qe=q[2];break}}return[ze,De,qe,Y.length>3?Y[3]:1]},dr=hr,pr=d.unpack,Y1=d.type,W1=N,Td=T,Ed=l,G1=Vt;Td.prototype.hsv=function(){return G1(this._rgb)},W1.hsv=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];return new(Function.prototype.bind.apply(Td,[null].concat(C,["hsv"])))},Ed.format.hsv=dr,Ed.autodetect.push({p:2,test:function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];if(C=pr(C,"hsv"),Y1(C)==="array"&&C.length===3)return"hsv"}});var ps={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ia=ps,X1=d.unpack,kd=Math.pow,V1=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];var P=X1(C,"rgb"),B=P[0],V=P[1],q=P[2],Y=K1(B,V,q),ae=Y[0],se=Y[1],ye=Y[2],ke=116*se-16;return[ke<0?0:ke,500*(ae-se),200*(se-ye)]},bu=function(C){return(C/=255)<=.04045?C/12.92:kd((C+.055)/1.055,2.4)},Tu=function(C){return C>ia.t3?kd(C,1/3):C/ia.t2+ia.t0},K1=function(C,b,P){C=bu(C),b=bu(b),P=bu(P);var B=Tu((.4124564*C+.3575761*b+.1804375*P)/ia.Xn),V=Tu((.2126729*C+.7151522*b+.072175*P)/ia.Yn),q=Tu((.0193339*C+.119192*b+.9503041*P)/ia.Zn);return[B,V,q]},Od=V1,aa=ps,q1=d.unpack,Q1=Math.pow,Z1=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];C=q1(C,"lab");var P=C[0],B=C[1],V=C[2],q,Y,ae,se,ye,ke;return Y=(P+16)/116,q=isNaN(B)?Y:Y+B/500,ae=isNaN(V)?Y:Y-V/200,Y=aa.Yn*ku(Y),q=aa.Xn*ku(q),ae=aa.Zn*ku(ae),se=Eu(3.2404542*q-1.5371385*Y-.4985314*ae),ye=Eu(-.969266*q+1.8760108*Y+.041556*ae),ke=Eu(.0556434*q-.2040259*Y+1.0572252*ae),[se,ye,ke,C.length>3?C[3]:1]},Eu=function(C){return 255*(C<=.00304?12.92*C:1.055*Q1(C,1/2.4)-.055)},ku=function(C){return C>aa.t1?C*C*C:aa.t2*(C-aa.t0)},Pd=Z1,J1=d.unpack,ey=d.type,ty=N,Ad=T,Md=l,ry=Od;Ad.prototype.lab=function(){return ry(this._rgb)},ty.lab=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];return new(Function.prototype.bind.apply(Ad,[null].concat(C,["lab"])))},Md.format.lab=Pd,Md.autodetect.push({p:2,test:function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];if(C=J1(C,"lab"),ey(C)==="array"&&C.length===3)return"lab"}});var ny=d.unpack,iy=d.RAD2DEG,ay=Math.sqrt,oy=Math.atan2,sy=Math.round,ly=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];var P=ny(C,"lab"),B=P[0],V=P[1],q=P[2],Y=ay(V*V+q*q),ae=(oy(q,V)*iy+360)%360;return sy(Y*1e4)===0&&(ae=Number.NaN),[B,Y,ae]},Dd=ly,uy=d.unpack,cy=Od,fy=Dd,hy=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];var P=uy(C,"rgb"),B=P[0],V=P[1],q=P[2],Y=cy(B,V,q),ae=Y[0],se=Y[1],ye=Y[2];return fy(ae,se,ye)},dy=hy,py=d.unpack,gy=d.DEG2RAD,vy=Math.sin,my=Math.cos,yy=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];var P=py(C,"lch"),B=P[0],V=P[1],q=P[2];return isNaN(q)&&(q=0),q=q*gy,[B,my(q)*V,vy(q)*V]},Rd=yy,xy=d.unpack,_y=Rd,wy=Pd,Cy=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];C=xy(C,"lch");var P=C[0],B=C[1],V=C[2],q=_y(P,B,V),Y=q[0],ae=q[1],se=q[2],ye=wy(Y,ae,se),ke=ye[0],ze=ye[1],De=ye[2];return[ke,ze,De,C.length>3?C[3]:1]},Ld=Cy,Sy=d.unpack,by=Ld,Ty=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];var P=Sy(C,"hcl").reverse();return by.apply(void 0,P)},Ey=Ty,ky=d.unpack,Oy=d.type,Fd=N,gs=T,Ou=l,Id=dy;gs.prototype.lch=function(){return Id(this._rgb)},gs.prototype.hcl=function(){return Id(this._rgb).reverse()},Fd.lch=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];return new(Function.prototype.bind.apply(gs,[null].concat(C,["lch"])))},Fd.hcl=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];return new(Function.prototype.bind.apply(gs,[null].concat(C,["hcl"])))},Ou.format.lch=Ld,Ou.format.hcl=Ey,["lch","hcl"].forEach(function(C){return Ou.autodetect.push({p:2,test:function(){for(var b=[],P=arguments.length;P--;)b[P]=arguments[P];if(b=ky(b,C),Oy(b)==="array"&&b.length===3)return C}})});var Py={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Nd=Py,Ay=T,jd=l,My=d.type,no=Nd,Dy=Be,Ry=oe;Ay.prototype.name=function(){for(var C=Ry(this._rgb,"rgb"),b=0,P=Object.keys(no);b<P.length;b+=1){var B=P[b];if(no[B]===C)return B.toLowerCase()}return C},jd.format.named=function(C){if(C=C.toLowerCase(),no[C])return Dy(no[C]);throw new Error("unknown color name: "+C)},jd.autodetect.push({p:5,test:function(C){for(var b=[],P=arguments.length-1;P-- >0;)b[P]=arguments[P+1];if(!b.length&&My(C)==="string"&&no[C.toLowerCase()])return"named"}});var Ly=d.unpack,Fy=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];var P=Ly(C,"rgb"),B=P[0],V=P[1],q=P[2];return(B<<16)+(V<<8)+q},Iy=Fy,Ny=d.type,jy=function(C){if(Ny(C)=="number"&&C>=0&&C<=16777215){var b=C>>16,P=C>>8&255,B=C&255;return[b,P,B,1]}throw new Error("unknown num color: "+C)},By=jy,zy=N,Bd=T,zd=l,Uy=d.type,Hy=Iy;Bd.prototype.num=function(){return Hy(this._rgb)},zy.num=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];return new(Function.prototype.bind.apply(Bd,[null].concat(C,["num"])))},zd.format.num=By,zd.autodetect.push({p:5,test:function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];if(C.length===1&&Uy(C[0])==="number"&&C[0]>=0&&C[0]<=16777215)return"num"}});var $y=N,Pu=T,Ud=l,Hd=d.unpack,$d=d.type,Yd=Math.round;Pu.prototype.rgb=function(C){return C===void 0&&(C=!0),C===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Yd)},Pu.prototype.rgba=function(C){return C===void 0&&(C=!0),this._rgb.slice(0,4).map(function(b,P){return P<3?C===!1?b:Yd(b):b})},$y.rgb=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];return new(Function.prototype.bind.apply(Pu,[null].concat(C,["rgb"])))},Ud.format.rgb=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];var P=Hd(C,"rgba");return P[3]===void 0&&(P[3]=1),P},Ud.autodetect.push({p:3,test:function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];if(C=Hd(C,"rgba"),$d(C)==="array"&&(C.length===3||C.length===4&&$d(C[3])=="number"&&C[3]>=0&&C[3]<=1))return"rgb"}});var vs=Math.log,Yy=function(C){var b=C/100,P,B,V;return b<66?(P=255,B=b<6?0:-155.25485562709179-.44596950469579133*(B=b-2)+104.49216199393888*vs(B),V=b<20?0:-254.76935184120902+.8274096064007395*(V=b-10)+115.67994401066147*vs(V)):(P=351.97690566805693+.114206453784165*(P=b-55)-40.25366309332127*vs(P),B=325.4494125711974+.07943456536662342*(B=b-50)-28.0852963507957*vs(B),V=255),[P,B,V,1]},Wd=Yy,Wy=Wd,Gy=d.unpack,Xy=Math.round,Vy=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];for(var P=Gy(C,"rgb"),B=P[0],V=P[2],q=1e3,Y=4e4,ae=.4,se;Y-q>ae;){se=(Y+q)*.5;var ye=Wy(se);ye[2]/ye[0]>=V/B?Y=se:q=se}return Xy(se)},Ky=Vy,Au=N,ms=T,Mu=l,qy=Ky;ms.prototype.temp=ms.prototype.kelvin=ms.prototype.temperature=function(){return qy(this._rgb)},Au.temp=Au.kelvin=Au.temperature=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];return new(Function.prototype.bind.apply(ms,[null].concat(C,["temp"])))},Mu.format.temp=Mu.format.kelvin=Mu.format.temperature=Wd;var Qy=d.unpack,Du=Math.cbrt,Zy=Math.pow,Jy=Math.sign,ex=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];var P=Qy(C,"rgb"),B=P[0],V=P[1],q=P[2],Y=[Ru(B/255),Ru(V/255),Ru(q/255)],ae=Y[0],se=Y[1],ye=Y[2],ke=Du(.4122214708*ae+.5363325363*se+.0514459929*ye),ze=Du(.2119034982*ae+.6806995451*se+.1073969566*ye),De=Du(.0883024619*ae+.2817188376*se+.6299787005*ye);return[.2104542553*ke+.793617785*ze-.0040720468*De,1.9779984951*ke-2.428592205*ze+.4505937099*De,.0259040371*ke+.7827717662*ze-.808675766*De]},Gd=ex;function Ru(C){var b=Math.abs(C);return b<.04045?C/12.92:(Jy(C)||1)*Zy((b+.055)/1.055,2.4)}var tx=d.unpack,ys=Math.pow,rx=Math.sign,nx=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];C=tx(C,"lab");var P=C[0],B=C[1],V=C[2],q=ys(P+.3963377774*B+.2158037573*V,3),Y=ys(P-.1055613458*B-.0638541728*V,3),ae=ys(P-.0894841775*B-1.291485548*V,3);return[255*Lu(4.0767416621*q-3.3077115913*Y+.2309699292*ae),255*Lu(-1.2684380046*q+2.6097574011*Y-.3413193965*ae),255*Lu(-.0041960863*q-.7034186147*Y+1.707614701*ae),C.length>3?C[3]:1]},Xd=nx;function Lu(C){var b=Math.abs(C);return b>.0031308?(rx(C)||1)*(1.055*ys(b,1/2.4)-.055):C*12.92}var ix=d.unpack,ax=d.type,ox=N,Vd=T,Kd=l,sx=Gd;Vd.prototype.oklab=function(){return sx(this._rgb)},ox.oklab=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];return new(Function.prototype.bind.apply(Vd,[null].concat(C,["oklab"])))},Kd.format.oklab=Xd,Kd.autodetect.push({p:3,test:function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];if(C=ix(C,"oklab"),ax(C)==="array"&&C.length===3)return"oklab"}});var lx=d.unpack,ux=Gd,cx=Dd,fx=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];var P=lx(C,"rgb"),B=P[0],V=P[1],q=P[2],Y=ux(B,V,q),ae=Y[0],se=Y[1],ye=Y[2];return cx(ae,se,ye)},hx=fx,dx=d.unpack,px=Rd,gx=Xd,vx=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];C=dx(C,"lch");var P=C[0],B=C[1],V=C[2],q=px(P,B,V),Y=q[0],ae=q[1],se=q[2],ye=gx(Y,ae,se),ke=ye[0],ze=ye[1],De=ye[2];return[ke,ze,De,C.length>3?C[3]:1]},mx=vx,yx=d.unpack,xx=d.type,_x=N,qd=T,Qd=l,wx=hx;qd.prototype.oklch=function(){return wx(this._rgb)},_x.oklch=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];return new(Function.prototype.bind.apply(qd,[null].concat(C,["oklch"])))},Qd.format.oklch=mx,Qd.autodetect.push({p:3,test:function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];if(C=yx(C,"oklch"),xx(C)==="array"&&C.length===3)return"oklch"}});var Zd=T,Cx=d.type;Zd.prototype.alpha=function(C,b){return b===void 0&&(b=!1),C!==void 0&&Cx(C)==="number"?b?(this._rgb[3]=C,this):new Zd([this._rgb[0],this._rgb[1],this._rgb[2],C],"rgb"):this._rgb[3]};var Sx=T;Sx.prototype.clipped=function(){return this._rgb._clipped||!1};var Li=T,bx=ps;Li.prototype.darken=function(C){C===void 0&&(C=1);var b=this,P=b.lab();return P[0]-=bx.Kn*C,new Li(P,"lab").alpha(b.alpha(),!0)},Li.prototype.brighten=function(C){return C===void 0&&(C=1),this.darken(-C)},Li.prototype.darker=Li.prototype.darken,Li.prototype.brighter=Li.prototype.brighten;var Tx=T;Tx.prototype.get=function(C){var b=C.split("."),P=b[0],B=b[1],V=this[P]();if(B){var q=P.indexOf(B)-(P.substr(0,2)==="ok"?2:0);if(q>-1)return V[q];throw new Error("unknown channel "+B+" in mode "+P)}else return V};var oa=T,Ex=d.type,kx=Math.pow,Ox=1e-7,Px=20;oa.prototype.luminance=function(C){if(C!==void 0&&Ex(C)==="number"){if(C===0)return new oa([0,0,0,this._rgb[3]],"rgb");if(C===1)return new oa([255,255,255,this._rgb[3]],"rgb");var b=this.luminance(),P="rgb",B=Px,V=function(Y,ae){var se=Y.interpolate(ae,.5,P),ye=se.luminance();return Math.abs(C-ye)<Ox||!B--?se:ye>C?V(Y,se):V(se,ae)},q=(b>C?V(new oa([0,0,0]),this):V(this,new oa([255,255,255]))).rgb();return new oa(q.concat([this._rgb[3]]))}return Ax.apply(void 0,this._rgb.slice(0,3))};var Ax=function(C,b,P){return C=Fu(C),b=Fu(b),P=Fu(P),.2126*C+.7152*b+.0722*P},Fu=function(C){return C/=255,C<=.03928?C/12.92:kx((C+.055)/1.055,2.4)},Gr={},Jd=T,ep=d.type,xs=Gr,tp=function(C,b,P){P===void 0&&(P=.5);for(var B=[],V=arguments.length-3;V-- >0;)B[V]=arguments[V+3];var q=B[0]||"lrgb";if(!xs[q]&&!B.length&&(q=Object.keys(xs)[0]),!xs[q])throw new Error("interpolation mode "+q+" is not defined");return ep(C)!=="object"&&(C=new Jd(C)),ep(b)!=="object"&&(b=new Jd(b)),xs[q](C,b,P).alpha(C.alpha()+P*(b.alpha()-C.alpha()))},rp=T,Mx=tp;rp.prototype.mix=rp.prototype.interpolate=function(C,b){b===void 0&&(b=.5);for(var P=[],B=arguments.length-2;B-- >0;)P[B]=arguments[B+2];return Mx.apply(void 0,[this,C,b].concat(P))};var np=T;np.prototype.premultiply=function(C){C===void 0&&(C=!1);var b=this._rgb,P=b[3];return C?(this._rgb=[b[0]*P,b[1]*P,b[2]*P,P],this):new np([b[0]*P,b[1]*P,b[2]*P,P],"rgb")};var Iu=T,Dx=ps;Iu.prototype.saturate=function(C){C===void 0&&(C=1);var b=this,P=b.lch();return P[1]+=Dx.Kn*C,P[1]<0&&(P[1]=0),new Iu(P,"lch").alpha(b.alpha(),!0)},Iu.prototype.desaturate=function(C){return C===void 0&&(C=1),this.saturate(-C)};var ip=T,ap=d.type;ip.prototype.set=function(C,b,P){P===void 0&&(P=!1);var B=C.split("."),V=B[0],q=B[1],Y=this[V]();if(q){var ae=V.indexOf(q)-(V.substr(0,2)==="ok"?2:0);if(ae>-1){if(ap(b)=="string")switch(b.charAt(0)){case"+":Y[ae]+=+b;break;case"-":Y[ae]+=+b;break;case"*":Y[ae]*=+b.substr(1);break;case"/":Y[ae]/=+b.substr(1);break;default:Y[ae]=+b}else if(ap(b)==="number")Y[ae]=b;else throw new Error("unsupported value for Color.set");var se=new ip(Y,V);return P?(this._rgb=se._rgb,this):se}throw new Error("unknown channel "+q+" in mode "+V)}else return Y};var Rx=T,Lx=function(C,b,P){var B=C._rgb,V=b._rgb;return new Rx(B[0]+P*(V[0]-B[0]),B[1]+P*(V[1]-B[1]),B[2]+P*(V[2]-B[2]),"rgb")};Gr.rgb=Lx;var Fx=T,Nu=Math.sqrt,sa=Math.pow,Ix=function(C,b,P){var B=C._rgb,V=B[0],q=B[1],Y=B[2],ae=b._rgb,se=ae[0],ye=ae[1],ke=ae[2];return new Fx(Nu(sa(V,2)*(1-P)+sa(se,2)*P),Nu(sa(q,2)*(1-P)+sa(ye,2)*P),Nu(sa(Y,2)*(1-P)+sa(ke,2)*P),"rgb")};Gr.lrgb=Ix;var Nx=T,jx=function(C,b,P){var B=C.lab(),V=b.lab();return new Nx(B[0]+P*(V[0]-B[0]),B[1]+P*(V[1]-B[1]),B[2]+P*(V[2]-B[2]),"lab")};Gr.lab=jx;var op=T,la=function(C,b,P,B){var V,q,Y,ae;B==="hsl"?(Y=C.hsl(),ae=b.hsl()):B==="hsv"?(Y=C.hsv(),ae=b.hsv()):B==="hcg"?(Y=C.hcg(),ae=b.hcg()):B==="hsi"?(Y=C.hsi(),ae=b.hsi()):B==="lch"||B==="hcl"?(B="hcl",Y=C.hcl(),ae=b.hcl()):B==="oklch"&&(Y=C.oklch().reverse(),ae=b.oklch().reverse());var se,ye,ke,ze,De,qe;(B.substr(0,1)==="h"||B==="oklch")&&(V=Y,se=V[0],ke=V[1],De=V[2],q=ae,ye=q[0],ze=q[1],qe=q[2]);var Ve,yt,wt,Pt;return!isNaN(se)&&!isNaN(ye)?(ye>se&&ye-se>180?Pt=ye-(se+360):ye<se&&se-ye>180?Pt=ye+360-se:Pt=ye-se,yt=se+P*Pt):isNaN(se)?isNaN(ye)?yt=Number.NaN:(yt=ye,(De==1||De==0)&&B!="hsv"&&(Ve=ze)):(yt=se,(qe==1||qe==0)&&B!="hsv"&&(Ve=ke)),Ve===void 0&&(Ve=ke+P*(ze-ke)),wt=De+P*(qe-De),B==="oklch"?new op([wt,Ve,yt],B):new op([yt,Ve,wt],B)},Bx=la,sp=function(C,b,P){return Bx(C,b,P,"lch")};Gr.lch=sp,Gr.hcl=sp;var zx=T,Ux=function(C,b,P){var B=C.num(),V=b.num();return new zx(B+P*(V-B),"num")};Gr.num=Ux;var Hx=la,$x=function(C,b,P){return Hx(C,b,P,"hcg")};Gr.hcg=$x;var Yx=la,Wx=function(C,b,P){return Yx(C,b,P,"hsi")};Gr.hsi=Wx;var Gx=la,Xx=function(C,b,P){return Gx(C,b,P,"hsl")};Gr.hsl=Xx;var Vx=la,Kx=function(C,b,P){return Vx(C,b,P,"hsv")};Gr.hsv=Kx;var qx=T,Qx=function(C,b,P){var B=C.oklab(),V=b.oklab();return new qx(B[0]+P*(V[0]-B[0]),B[1]+P*(V[1]-B[1]),B[2]+P*(V[2]-B[2]),"oklab")};Gr.oklab=Qx;var Zx=la,Jx=function(C,b,P){return Zx(C,b,P,"oklch")};Gr.oklch=Jx;var ju=T,e_=d.clip_rgb,Bu=Math.pow,zu=Math.sqrt,Uu=Math.PI,lp=Math.cos,up=Math.sin,t_=Math.atan2,r_=function(C,b,P){b===void 0&&(b="lrgb"),P===void 0&&(P=null);var B=C.length;P||(P=Array.from(new Array(B)).map(function(){return 1}));var V=B/P.reduce(function(yt,wt){return yt+wt});if(P.forEach(function(yt,wt){P[wt]*=V}),C=C.map(function(yt){return new ju(yt)}),b==="lrgb")return n_(C,P);for(var q=C.shift(),Y=q.get(b),ae=[],se=0,ye=0,ke=0;ke<Y.length;ke++)if(Y[ke]=(Y[ke]||0)*P[0],ae.push(isNaN(Y[ke])?0:P[0]),b.charAt(ke)==="h"&&!isNaN(Y[ke])){var ze=Y[ke]/180*Uu;se+=lp(ze)*P[0],ye+=up(ze)*P[0]}var De=q.alpha()*P[0];C.forEach(function(yt,wt){var Pt=yt.get(b);De+=yt.alpha()*P[wt+1];for(var Lt=0;Lt<Y.length;Lt++)if(!isNaN(Pt[Lt]))if(ae[Lt]+=P[wt+1],b.charAt(Lt)==="h"){var _r=Pt[Lt]/180*Uu;se+=lp(_r)*P[wt+1],ye+=up(_r)*P[wt+1]}else Y[Lt]+=Pt[Lt]*P[wt+1]});for(var qe=0;qe<Y.length;qe++)if(b.charAt(qe)==="h"){for(var Ve=t_(ye/ae[qe],se/ae[qe])/Uu*180;Ve<0;)Ve+=360;for(;Ve>=360;)Ve-=360;Y[qe]=Ve}else Y[qe]=Y[qe]/ae[qe];return De/=B,new ju(Y,b).alpha(De>.99999?1:De,!0)},n_=function(C,b){for(var P=C.length,B=[0,0,0,0],V=0;V<C.length;V++){var q=C[V],Y=b[V]/P,ae=q._rgb;B[0]+=Bu(ae[0],2)*Y,B[1]+=Bu(ae[1],2)*Y,B[2]+=Bu(ae[2],2)*Y,B[3]+=ae[3]*Y}return B[0]=zu(B[0]),B[1]=zu(B[1]),B[2]=zu(B[2]),B[3]>.9999999&&(B[3]=1),new ju(e_(B))},pn=N,ua=d.type,i_=Math.pow,Hu=function(C){var b="rgb",P=pn("#ccc"),B=0,V=[0,1],q=[],Y=[0,0],ae=!1,se=[],ye=!1,ke=0,ze=1,De=!1,qe={},Ve=!0,yt=1,wt=function(Le){if(Le=Le||["#fff","#000"],Le&&ua(Le)==="string"&&pn.brewer&&pn.brewer[Le.toLowerCase()]&&(Le=pn.brewer[Le.toLowerCase()]),ua(Le)==="array"){Le.length===1&&(Le=[Le[0],Le[0]]),Le=Le.slice(0);for(var et=0;et<Le.length;et++)Le[et]=pn(Le[et]);q.length=0;for(var _t=0;_t<Le.length;_t++)q.push(_t/(Le.length-1))}return zr(),se=Le},Pt=function(Le){if(ae!=null){for(var et=ae.length-1,_t=0;_t<et&&Le>=ae[_t];)_t++;return _t-1}return 0},Lt=function(Le){return Le},_r=function(Le){return Le},vr=function(Le,et){var _t,xt;if(et==null&&(et=!1),isNaN(Le)||Le===null)return P;if(et)xt=Le;else if(ae&&ae.length>2){var wr=Pt(Le);xt=wr/(ae.length-2)}else ze!==ke?xt=(Le-ke)/(ze-ke):xt=1;xt=_r(xt),et||(xt=Lt(xt)),yt!==1&&(xt=i_(xt,yt)),xt=Y[0]+xt*(1-Y[0]-Y[1]),xt=Math.min(1,Math.max(0,xt));var $t=Math.floor(xt*1e4);if(Ve&&qe[$t])_t=qe[$t];else{if(ua(se)==="array")for(var At=0;At<q.length;At++){var It=q[At];if(xt<=It){_t=se[At];break}if(xt>=It&&At===q.length-1){_t=se[At];break}if(xt>It&&xt<q[At+1]){xt=(xt-It)/(q[At+1]-It),_t=pn.interpolate(se[At],se[At+1],xt,b);break}}else ua(se)==="function"&&(_t=se(xt));Ve&&(qe[$t]=_t)}return _t},zr=function(){return qe={}};wt(C);var Ot=function(Le){var et=pn(vr(Le));return ye&&et[ye]?et[ye]():et};return Ot.classes=function(Le){if(Le!=null){if(ua(Le)==="array")ae=Le,V=[Le[0],Le[Le.length-1]];else{var et=pn.analyze(V);Le===0?ae=[et.min,et.max]:ae=pn.limits(et,"e",Le)}return Ot}return ae},Ot.domain=function(Le){if(!arguments.length)return V;ke=Le[0],ze=Le[Le.length-1],q=[];var et=se.length;if(Le.length===et&&ke!==ze)for(var _t=0,xt=Array.from(Le);_t<xt.length;_t+=1){var wr=xt[_t];q.push((wr-ke)/(ze-ke))}else{for(var $t=0;$t<et;$t++)q.push($t/(et-1));if(Le.length>2){var At=Le.map(function(Nt,jt){return jt/(Le.length-1)}),It=Le.map(function(Nt){return(Nt-ke)/(ze-ke)});It.every(function(Nt,jt){return At[jt]===Nt})||(_r=function(Nt){if(Nt<=0||Nt>=1)return Nt;for(var jt=0;Nt>=It[jt+1];)jt++;var vn=(Nt-It[jt])/(It[jt+1]-It[jt]),ai=At[jt]+vn*(At[jt+1]-At[jt]);return ai})}}return V=[ke,ze],Ot},Ot.mode=function(Le){return arguments.length?(b=Le,zr(),Ot):b},Ot.range=function(Le,et){return wt(Le),Ot},Ot.out=function(Le){return ye=Le,Ot},Ot.spread=function(Le){return arguments.length?(B=Le,Ot):B},Ot.correctLightness=function(Le){return Le==null&&(Le=!0),De=Le,zr(),De?Lt=function(et){for(var _t=vr(0,!0).lab()[0],xt=vr(1,!0).lab()[0],wr=_t>xt,$t=vr(et,!0).lab()[0],At=_t+(xt-_t)*et,It=$t-At,Nt=0,jt=1,vn=20;Math.abs(It)>.01&&vn-- >0;)(function(){return wr&&(It*=-1),It<0?(Nt=et,et+=(jt-et)*.5):(jt=et,et+=(Nt-et)*.5),$t=vr(et,!0).lab()[0],It=$t-At})();return et}:Lt=function(et){return et},Ot},Ot.padding=function(Le){return Le!=null?(ua(Le)==="number"&&(Le=[Le,Le]),Y=Le,Ot):Y},Ot.colors=function(Le,et){arguments.length<2&&(et="hex");var _t=[];if(arguments.length===0)_t=se.slice(0);else if(Le===1)_t=[Ot(.5)];else if(Le>1){var xt=V[0],wr=V[1]-xt;_t=a_(0,Le,!1).map(function(jt){return Ot(xt+jt/(Le-1)*wr)})}else{C=[];var $t=[];if(ae&&ae.length>2)for(var At=1,It=ae.length,Nt=1<=It;Nt?At<It:At>It;Nt?At++:At--)$t.push((ae[At-1]+ae[At])*.5);else $t=V;_t=$t.map(function(jt){return Ot(jt)})}return pn[et]&&(_t=_t.map(function(jt){return jt[et]()})),_t},Ot.cache=function(Le){return Le!=null?(Ve=Le,Ot):Ve},Ot.gamma=function(Le){return Le!=null?(yt=Le,Ot):yt},Ot.nodata=function(Le){return Le!=null?(P=pn(Le),Ot):P},Ot};function a_(C,b,P){for(var B=[],V=C<b,q=P?V?b+1:b-1:b,Y=C;V?Y<q:Y>q;V?Y++:Y--)B.push(Y);return B}var io=T,o_=Hu,s_=function(C){for(var b=[1,1],P=1;P<C;P++){for(var B=[1],V=1;V<=b.length;V++)B[V]=(b[V]||0)+b[V-1];b=B}return b},l_=function(C){var b,P,B,V,q,Y,ae;if(C=C.map(function(De){return new io(De)}),C.length===2)b=C.map(function(De){return De.lab()}),q=b[0],Y=b[1],V=function(De){var qe=[0,1,2].map(function(Ve){return q[Ve]+De*(Y[Ve]-q[Ve])});return new io(qe,"lab")};else if(C.length===3)P=C.map(function(De){return De.lab()}),q=P[0],Y=P[1],ae=P[2],V=function(De){var qe=[0,1,2].map(function(Ve){return(1-De)*(1-De)*q[Ve]+2*(1-De)*De*Y[Ve]+De*De*ae[Ve]});return new io(qe,"lab")};else if(C.length===4){var se;B=C.map(function(De){return De.lab()}),q=B[0],Y=B[1],ae=B[2],se=B[3],V=function(De){var qe=[0,1,2].map(function(Ve){return(1-De)*(1-De)*(1-De)*q[Ve]+3*(1-De)*(1-De)*De*Y[Ve]+3*(1-De)*De*De*ae[Ve]+De*De*De*se[Ve]});return new io(qe,"lab")}}else if(C.length>=5){var ye,ke,ze;ye=C.map(function(De){return De.lab()}),ze=C.length-1,ke=s_(ze),V=function(De){var qe=1-De,Ve=[0,1,2].map(function(yt){return ye.reduce(function(wt,Pt,Lt){return wt+ke[Lt]*Math.pow(qe,ze-Lt)*Math.pow(De,Lt)*Pt[yt]},0)});return new io(Ve,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return V},u_=function(C){var b=l_(C);return b.scale=function(){return o_(b)},b},$u=N,gn=function(C,b,P){if(!gn[P])throw new Error("unknown blend mode "+P);return gn[P](C,b)},ni=function(C){return function(b,P){var B=$u(P).rgb(),V=$u(b).rgb();return $u.rgb(C(B,V))}},ii=function(C){return function(b,P){var B=[];return B[0]=C(b[0],P[0]),B[1]=C(b[1],P[1]),B[2]=C(b[2],P[2]),B}},c_=function(C){return C},f_=function(C,b){return C*b/255},h_=function(C,b){return C>b?b:C},d_=function(C,b){return C>b?C:b},p_=function(C,b){return 255*(1-(1-C/255)*(1-b/255))},g_=function(C,b){return b<128?2*C*b/255:255*(1-2*(1-C/255)*(1-b/255))},v_=function(C,b){return 255*(1-(1-b/255)/(C/255))},m_=function(C,b){return C===255?255:(C=255*(b/255)/(1-C/255),C>255?255:C)};gn.normal=ni(ii(c_)),gn.multiply=ni(ii(f_)),gn.screen=ni(ii(p_)),gn.overlay=ni(ii(g_)),gn.darken=ni(ii(h_)),gn.lighten=ni(ii(d_)),gn.dodge=ni(ii(m_)),gn.burn=ni(ii(v_));for(var y_=gn,Yu=d.type,x_=d.clip_rgb,__=d.TWOPI,w_=Math.pow,C_=Math.sin,S_=Math.cos,cp=N,b_=function(C,b,P,B,V){C===void 0&&(C=300),b===void 0&&(b=-1.5),P===void 0&&(P=1),B===void 0&&(B=1),V===void 0&&(V=[0,1]);var q=0,Y;Yu(V)==="array"?Y=V[1]-V[0]:(Y=0,V=[V,V]);var ae=function(se){var ye=__*((C+120)/360+b*se),ke=w_(V[0]+Y*se,B),ze=q!==0?P[0]+se*q:P,De=ze*ke*(1-ke)/2,qe=S_(ye),Ve=C_(ye),yt=ke+De*(-.14861*qe+1.78277*Ve),wt=ke+De*(-.29227*qe-.90649*Ve),Pt=ke+De*(1.97294*qe);return cp(x_([yt*255,wt*255,Pt*255,1]))};return ae.start=function(se){return se==null?C:(C=se,ae)},ae.rotations=function(se){return se==null?b:(b=se,ae)},ae.gamma=function(se){return se==null?B:(B=se,ae)},ae.hue=function(se){return se==null?P:(P=se,Yu(P)==="array"?(q=P[1]-P[0],q===0&&(P=P[1])):q=0,ae)},ae.lightness=function(se){return se==null?V:(Yu(se)==="array"?(V=se,Y=se[1]-se[0]):(V=[se,se],Y=0),ae)},ae.scale=function(){return cp.scale(ae)},ae.hue(P),ae},T_=T,E_="0123456789abcdef",k_=Math.floor,O_=Math.random,P_=function(){for(var C="#",b=0;b<6;b++)C+=E_.charAt(k_(O_()*16));return new T_(C,"hex")},Wu=c,fp=Math.log,A_=Math.pow,M_=Math.floor,D_=Math.abs,hp=function(C,b){b===void 0&&(b=null);var P={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Wu(C)==="object"&&(C=Object.values(C)),C.forEach(function(B){b&&Wu(B)==="object"&&(B=B[b]),B!=null&&!isNaN(B)&&(P.values.push(B),P.sum+=B,B<P.min&&(P.min=B),B>P.max&&(P.max=B),P.count+=1)}),P.domain=[P.min,P.max],P.limits=function(B,V){return dp(P,B,V)},P},dp=function(C,b,P){b===void 0&&(b="equal"),P===void 0&&(P=7),Wu(C)=="array"&&(C=hp(C));var B=C.min,V=C.max,q=C.values.sort(function(Xu,Vu){return Xu-Vu});if(P===1)return[B,V];var Y=[];if(b.substr(0,1)==="c"&&(Y.push(B),Y.push(V)),b.substr(0,1)==="e"){Y.push(B);for(var ae=1;ae<P;ae++)Y.push(B+ae/P*(V-B));Y.push(V)}else if(b.substr(0,1)==="l"){if(B<=0)throw new Error("Logarithmic scales are only possible for values > 0");var se=Math.LOG10E*fp(B),ye=Math.LOG10E*fp(V);Y.push(B);for(var ke=1;ke<P;ke++)Y.push(A_(10,se+ke/P*(ye-se)));Y.push(V)}else if(b.substr(0,1)==="q"){Y.push(B);for(var ze=1;ze<P;ze++){var De=(q.length-1)*ze/P,qe=M_(De);if(qe===De)Y.push(q[qe]);else{var Ve=De-qe;Y.push(q[qe]*(1-Ve)+q[qe+1]*Ve)}}Y.push(V)}else if(b.substr(0,1)==="k"){var yt,wt=q.length,Pt=new Array(wt),Lt=new Array(P),_r=!0,vr=0,zr=null;zr=[],zr.push(B);for(var Ot=1;Ot<P;Ot++)zr.push(B+Ot/P*(V-B));for(zr.push(V);_r;){for(var Le=0;Le<P;Le++)Lt[Le]=0;for(var et=0;et<wt;et++)for(var _t=q[et],xt=Number.MAX_VALUE,wr=void 0,$t=0;$t<P;$t++){var At=D_(zr[$t]-_t);At<xt&&(xt=At,wr=$t),Lt[wr]++,Pt[et]=wr}for(var It=new Array(P),Nt=0;Nt<P;Nt++)It[Nt]=null;for(var jt=0;jt<wt;jt++)yt=Pt[jt],It[yt]===null?It[yt]=q[jt]:It[yt]+=q[jt];for(var vn=0;vn<P;vn++)It[vn]*=1/Lt[vn];_r=!1;for(var ai=0;ai<P;ai++)if(It[ai]!==zr[ai]){_r=!0;break}zr=It,vr++,vr>200&&(_r=!1)}for(var oi={},ca=0;ca<P;ca++)oi[ca]=[];for(var fa=0;fa<wt;fa++)yt=Pt[fa],oi[yt].push(q[fa]);for(var zn=[],Fi=0;Fi<P;Fi++)zn.push(oi[Fi][0]),zn.push(oi[Fi][oi[Fi].length-1]);zn=zn.sort(function(Xu,Vu){return Xu-Vu}),Y.push(zn[0]);for(var ao=1;ao<zn.length;ao+=2){var Ii=zn[ao];!isNaN(Ii)&&Y.indexOf(Ii)===-1&&Y.push(Ii)}}return Y},pp={analyze:hp,limits:dp},gp=T,R_=function(C,b){C=new gp(C),b=new gp(b);var P=C.luminance(),B=b.luminance();return P>B?(P+.05)/(B+.05):(B+.05)/(P+.05)},vp=T,Bn=Math.sqrt,or=Math.pow,L_=Math.min,F_=Math.max,mp=Math.atan2,yp=Math.abs,_s=Math.cos,xp=Math.sin,I_=Math.exp,_p=Math.PI,N_=function(C,b,P,B,V){P===void 0&&(P=1),B===void 0&&(B=1),V===void 0&&(V=1);var q=function(Ii){return 360*Ii/(2*_p)},Y=function(Ii){return 2*_p*Ii/360};C=new vp(C),b=new vp(b);var ae=Array.from(C.lab()),se=ae[0],ye=ae[1],ke=ae[2],ze=Array.from(b.lab()),De=ze[0],qe=ze[1],Ve=ze[2],yt=(se+De)/2,wt=Bn(or(ye,2)+or(ke,2)),Pt=Bn(or(qe,2)+or(Ve,2)),Lt=(wt+Pt)/2,_r=.5*(1-Bn(or(Lt,7)/(or(Lt,7)+or(25,7)))),vr=ye*(1+_r),zr=qe*(1+_r),Ot=Bn(or(vr,2)+or(ke,2)),Le=Bn(or(zr,2)+or(Ve,2)),et=(Ot+Le)/2,_t=q(mp(ke,vr)),xt=q(mp(Ve,zr)),wr=_t>=0?_t:_t+360,$t=xt>=0?xt:xt+360,At=yp(wr-$t)>180?(wr+$t+360)/2:(wr+$t)/2,It=1-.17*_s(Y(At-30))+.24*_s(Y(2*At))+.32*_s(Y(3*At+6))-.2*_s(Y(4*At-63)),Nt=$t-wr;Nt=yp(Nt)<=180?Nt:$t<=wr?Nt+360:Nt-360,Nt=2*Bn(Ot*Le)*xp(Y(Nt)/2);var jt=De-se,vn=Le-Ot,ai=1+.015*or(yt-50,2)/Bn(20+or(yt-50,2)),oi=1+.045*et,ca=1+.015*et*It,fa=30*I_(-or((At-275)/25,2)),zn=2*Bn(or(et,7)/(or(et,7)+or(25,7))),Fi=-zn*xp(2*Y(fa)),ao=Bn(or(jt/(P*ai),2)+or(vn/(B*oi),2)+or(Nt/(V*ca),2)+Fi*(vn/(B*oi))*(Nt/(V*ca)));return F_(0,L_(100,ao))},wp=T,j_=function(C,b,P){P===void 0&&(P="lab"),C=new wp(C),b=new wp(b);var B=C.get(P),V=b.get(P),q=0;for(var Y in B){var ae=(B[Y]||0)-(V[Y]||0);q+=ae*ae}return Math.sqrt(q)},B_=T,z_=function(){for(var C=[],b=arguments.length;b--;)C[b]=arguments[b];try{return new(Function.prototype.bind.apply(B_,[null].concat(C))),!0}catch{return!1}},Cp=N,Sp=Hu,U_={cool:function(){return Sp([Cp.hsl(180,1,.9),Cp.hsl(250,.7,.4)])},hot:function(){return Sp(["#000","#f00","#ff0","#fff"]).mode("rgb")}},ws={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Gu=0,bp=Object.keys(ws);Gu<bp.length;Gu+=1){var Tp=bp[Gu];ws[Tp.toLowerCase()]=ws[Tp]}var H_=ws,gr=N;gr.average=r_,gr.bezier=u_,gr.blend=y_,gr.cubehelix=b_,gr.mix=gr.interpolate=tp,gr.random=P_,gr.scale=Hu,gr.analyze=pp.analyze,gr.contrast=R_,gr.deltaE=N_,gr.distance=j_,gr.limits=pp.limits,gr.valid=z_,gr.scales=U_,gr.colors=Nd,gr.brewer=H_;var $_=gr;return $_})})(BS);const Or={LEFT_EAR:{NAME:"leftEar",CATEGORY:"ear"},RIGHT_EAR:{NAME:"rightEar",CATEGORY:"ear"},HEAD:{NAME:"head",CATEGORY:"head"},MUZZLE:{NAME:"muzzle",CATEGORY:"muzzle"},MOUTH:{NAME:"mouth",CATEGORY:"mouth"},NOSE:{NAME:"nose",CATEGORY:"nose"},LEFT_EYE:{NAME:"leftEye",CATEGORY:"eye"},RIGHT_EYE:{NAME:"rightEye",CATEGORY:"eye"}},gt={GENE:"pawgenics_gene",SIGNED_HASH:"pawgenics_signedHash",PUBLIC_KEY:"pawgenics_publicKey",PARENT_1_GENE:"pawgenics_parent1Gene",PARENT_2_GENE:"pawgenics_parent2Gene",PARENT_1_PUBLIC_KEY:"pawgenics_parent1PublicKey",PARENT_2_PUBLIC_KEY:"pawgenics_parent2PublicKey",PARENT_1_SIGNED_HASH:"pawgenics_parent1SignedHash",PARENT_2_SIGNED_HASH:"pawgenics_parent2SignedHash",PARENT_MARRIAGE_HASH:"pawgenics_parentMarriageHash",SECRET_KEY:"pawgenics_secretKey",SIGNED_MARRIAGE_ID:"pawgenics_signedMarriageId",SIGNED_APPROVAL_HASH:"pawgenics_signedApprovalHash"},Ln=e=>{const t=e.reduce((p,v)=>p+v.length,0);if(isNaN(t))throw"invalid input";const r=new Uint8Array(t);let s=0;return e.map(p=>{r.set(p,s),s+=p.length}),r},Gi=e=>{const t={};return t[Or.LEFT_EAR.NAME]=da(Or.LEFT_EAR.CATEGORY,e.slice(0,4)),t[Or.RIGHT_EAR.NAME]={...t[Or.LEFT_EAR.NAME]},t[Or.HEAD.NAME]=da(Or.HEAD.CATEGORY,e.slice(4,8)),t[Or.LEFT_EYE.NAME]=da(Or.LEFT_EYE.CATEGORY,e.slice(8,12)),t[Or.RIGHT_EYE.NAME]={...t[Or.LEFT_EYE.NAME]},t[Or.MUZZLE.NAME]=da(Or.MUZZLE.CATEGORY,e.slice(12,16)),t[Or.MOUTH.NAME]=da(Or.MOUTH.CATEGORY,e.slice(16,20)),t[Or.NOSE.NAME]=da(Or.NOSE.CATEGORY,e.slice(20,24)),t},zS=(e,t,r)=>{const s=Ln([e,t]),p=pt.hash(s);return pt.sign(p,r)},Um=(e,t,r)=>{const s=pt.hash(Ln([e,t]));return pt.hash(Ln([s,r]))},Gh=(e,t,r)=>pt.hash(Ln([e,t,r])),da=(e,t)=>({variant:US(e,t[0]),color:HS(t[1],t[2],t[3])}),US=(e,t)=>{const r=t%zm.metadata[e].variations+1;return`${e}${r}`},HS=(e,t,r)=>`rgb(${e},${t},${r})`,$S=async()=>{const e=pt.randomBytes(64),t=pt.randomBytes(64),r=pt.sign.keyPair(),s=pt.sign.keyPair(),p=pt.sign.keyPair(),v=pt.sign.keyPair(),x=pt.sign.keyPair(),f=pt.sign(e,p.secretKey),n=pt.sign(t,v.secretKey),h=Um(f,r.publicKey,s.publicKey),i=pt.sign(h,s.secretKey),o=Gh(h,e,t),a=pt.hash(Ln([o,x.publicKey])),u=pt.sign(o,r.secretKey),d=Gi(a),l=Gi(f),g=Gi(n),m=await Zr.generatePrivateKeyDataPNG(x.secretKey);return[new Ya(d,u,x.publicKey,l,g,r.publicKey,s.publicKey,e,t,i),m]},YS=async(e,t,r,s)=>{const p=pt.sign.open(e.signedHash,e.parent1PublicKey),v=pt.sign.open(t.signedHash,t.parent1PublicKey),x=pt.sign.open(t.signedApprovalHash,t.publicKey),f=Gh(x,p,v),n=pt.hash(Ln([f,s.publicKey])),c=pt.sign(f,r),h=await Zr.generatePrivateKeyDataPNG(r);return[new Ya(Gi(n),c,s.publicKey,Gi(p),Gi(v),e.publicKey,t.publicKey,p,v,t.signedApprovalHash),h]},na={buildDogGeneFromHash:Gi,generateSignedMarriageHashFromApproval:zS,generateMarriageHash:Um,generateDogHashFromParents:Gh,buildAdoptedDog:$S,buildDogFromMarriage:YS};class Ya{constructor(t,r=null,s=null,p=null,v=null,x=null,f=null,n=null,c=null,h=null,i=null,o=null){this.gene=t,this.signedHash=r,this.publicKey=s,this.parent1Gene=p,this.parent2Gene=v,this.parent1PublicKey=x,this.parent2PublicKey=f,this.parent1SignedHash=n,this.parent2SignedHash=c,this.parentMarriageHash=h,this.signedMarriageId=i,this.signedApprovalHash=o}static async buildDog(t,r){const p=new TextEncoder().encode(`${t}-${r}`),v=pt.hash(p),x=pt.sign.keyPair(),f=pt.hash(Ln([v,x.publicKey])),n=pt.sign(v,x.secretKey),c=na.buildDogGeneFromHash(f),h=await Zr.generatePrivateKeyDataPNG(x.secretKey);return[new Ya(c,n,x.publicKey),h]}combine(t){const r=t.gene,s={};return s.leftEar=this.combinePart("leftEar",r),s.rightEar={...s.leftEar},s.head=this.combinePart("head",r),s.leftEye=this.combinePart("leftEye",r),s.rightEye={...s.leftEye},s.muzzle=this.combinePart("muzzle",r),s.mouth=this.combinePart("mouth",r),s.nose=this.combinePart("nose",r),new Ya(s)}combinePart(t,r){const s={},p=this.gene[t].dominance,v=r[t].dominance,x=p+v;let f=0;Math.random()*x<p?(s.variant=this.gene[t].variant,f+=p):(s.variant=r[t].variant,f+=v);const c=.1,h=Math.random()*(x+c*x);return h<p?(s.color=this.gene[t].color,f+=p):h<x?(s.color=r[t].color,f+=v):(s.color=Lf.mix(this.gene[t].color,r[t].color,v).hex(),f+=c),s.dominance=f/2,s}}const Hm=e=>{const t=qr(e);let r=null,s=null,p=null,v=null,x=null,f=null,n=null,c=null,h=null,i=null,o=null,a=null;const u=Ft(t,gt.GENE);u&&(r=JSON.parse(u));const d=Ft(t,gt.SIGNED_HASH);d&&(s=Zt(d));const l=Ft(t,gt.PUBLIC_KEY);l&&(p=Zt(l));const g=Ft(t,gt.PARENT_1_GENE);g&&(v=JSON.parse(g));const m=Ft(t,gt.PARENT_2_GENE);m&&(x=JSON.parse(m));const y=Ft(t,gt.PARENT_1_PUBLIC_KEY);y&&(f=Zt(y));const _=Ft(t,gt.PARENT_2_PUBLIC_KEY);_&&(n=Zt(_));const S=Ft(t,gt.PARENT_1_SIGNED_HASH);S&&(c=Zt(S));const T=Ft(t,gt.PARENT_2_SIGNED_HASH);T&&(h=Zt(T));const A=Ft(t,gt.PARENT_MARRIAGE_HASH);A&&(i=Zt(A));const N=Ft(t,gt.SIGNED_MARRIAGE_ID);N&&(o=Zt(N));const Q=Ft(t,gt.SIGNED_APPROVAL_HASH);return Q&&(a=Zt(Q)),new Ya(r,s,p,v,x,f,n,c,h,i,o,a)},$m=(e,t)=>{let r=t.toDataURL("png");return r=Rr(r,gt.GENE,JSON.stringify(e.gene)),r=Rr(r,gt.SIGNED_HASH,e.signedHash),r=Rr(r,gt.PUBLIC_KEY,e.publicKey),r=Rr(r,gt.PARENT_1_GENE,JSON.stringify(e.parent1Gene)),r=Rr(r,gt.PARENT_2_GENE,JSON.stringify(e.parent2Gene)),r=Rr(r,gt.PARENT_1_PUBLIC_KEY,e.parent1PublicKey),r=Rr(r,gt.PARENT_2_PUBLIC_KEY,e.parent2PublicKey),r=Rr(r,gt.PARENT_1_SIGNED_HASH,e.parent1SignedHash),r=Rr(r,gt.PARENT_2_SIGNED_HASH,e.parent2SignedHash),r=Rr(r,gt.PARENT_MARRIAGE_HASH,e.parentMarriageHash),r=Rr(r,gt.SIGNED_MARRIAGE_ID,e.signedMarriageId),r=Rr(r,gt.SIGNED_APPROVAL_HASH,e.signedApprovalHash),r},WS=e=>{const t=qr(e);try{const r=Ft(t,"pawgenics_gene");if(r===void 0)return!1;const s=Ft(t,"pawgenics_publicKey");if(s===void 0)return!1;const p=Ff(s),v=Ft(t,"pawgenics_signedHash");if(v===void 0)return!1;const x=Ff(v),f=pt.sign.open(x,p),n=pt.hash(Ln([f,p])),c=na.buildDogGeneFromHash(n);return r===JSON.stringify(c)}catch{return!1}},GS=async(e,t,r)=>{const s=pt.sign(r,t);e=Rr(e,gt.SIGNED_MARRIAGE_ID,s);const p=new URL("/pawgenics/assets/proposal-fd9fae81.svg",self.location).href;return await Ym(e,p)},XS=async(e,t,r)=>{const s=qr(e),p=qr(t),v=qr(r),x=Zt(Ft(s,gt.PUBLIC_KEY)),f=Zt(Ft(p,gt.PUBLIC_KEY)),n=Zt(Ft(v,gt.SECRET_KEY)),c=Ff(Ft(s,gt.SIGNED_MARRIAGE_ID)),h=pt.sign.open(c,x),i=na.generateMarriageHash(h,x,f),o=pt.sign(i,n),a=Rr(t,gt.SIGNED_APPROVAL_HASH,o),u=new URL("/pawgenics/assets/approval-c413d029.svg",self.location).href;return await Ym(a,u)},VS=async e=>{const t=new URL("/pawgenics/assets/key-44cd0f90.svg",self.location).href,r=await KS(t);return Rr(r,gt.SECRET_KEY,e)},KS=e=>{const t=new Tn.fabric.Canvas(null,{height:150,width:150});return new Promise(r=>{Tn.fabric.loadSVGFromURL(e,(s,p)=>{const v=Tn.fabric.util.groupSVGElements(s,p);t.add(v),t.renderAll(),r(t.toDataURL("png"))})})},Ff=e=>{const t=e.split(",").map(r=>parseInt(r));return new Uint8Array(t)},Ym=async(e,t)=>{const r=new Tn.fabric.Canvas;r.width=300,r.height=300,await qS(r,e),await QS(r,t);const s=Hm(e);return $m(s,r)},qS=async(e,t)=>new Promise(r=>{Tn.fabric.Image.fromURL(t,s=>{e.add(s),s.center(),r(e)})}),QS=async(e,t)=>new Promise(r=>{Tn.fabric.loadSVGFromURL(t,(s,p)=>{const v=Tn.fabric.util.groupSVGElements(s,p);v.set({originX:"center",originY:"center"}),v.set({top:265,left:150}),e.add(v),e.renderAll(),r(v)})}),ZS={buildDogFromDataURL:Hm,generateDogPNGWithMetadata:$m,isValidDogPNG:WS,generateProposalPNG:GS,generateApprovalPNG:XS,generatePrivateKeyDataPNG:VS},Zr=ZS;var If={},JS={get exports(){return If},set exports(e){If=e}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var s=[],p=0;p<arguments.length;p++){var v=arguments[p];if(v){var x=typeof v;if(x==="string"||x==="number")s.push(v);else if(Array.isArray(v)){if(v.length){var f=r.apply(null,v);f&&s.push(f)}}else if(x==="object"){if(v.toString!==Object.prototype.toString&&!v.toString.toString().includes("[native code]")){s.push(v.toString());continue}for(var n in v)t.call(v,n)&&v[n]&&s.push(n)}}}return s.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(JS);const Ut=If;function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Nf.apply(this,arguments)}function Wm(e,t){if(e==null)return{};var r={},s=Object.keys(e),p,v;for(v=0;v<s.length;v++)p=s[v],!(t.indexOf(p)>=0)&&(r[p]=e[p]);return r}function $g(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function eb(e){var t=tb(e,"string");return typeof t=="symbol"?t:String(t)}function tb(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rb(e,t,r){var s=$.useRef(e!==void 0),p=$.useState(t),v=p[0],x=p[1],f=e!==void 0,n=s.current;return s.current=f,!f&&n&&v!==t&&x(t),[f?e:v,$.useCallback(function(c){for(var h=arguments.length,i=new Array(h>1?h-1:0),o=1;o<h;o++)i[o-1]=arguments[o];r&&r.apply(void 0,[c].concat(i)),x(c)},[r])]}function Xh(e,t){return Object.keys(t).reduce(function(r,s){var p,v=r,x=v[$g(s)],f=v[s],n=Wm(v,[$g(s),s].map(eb)),c=t[s],h=rb(f,x,e[c]),i=h[0],o=h[1];return Nf({},n,(p={},p[s]=i,p[c]=o,p))},e)}function jf(e,t){return jf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,p){return s.__proto__=p,s},jf(e,t)}function nb(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,jf(e,t)}const ib=["xxl","xl","lg","md","sm","xs"],ab="xs",au=$.createContext({prefixes:{},breakpoints:ib,minBreakpoint:ab});function ar(e,t){const{prefixes:r}=$.useContext(au);return e||r[t]||t}function Gm(){const{breakpoints:e}=$.useContext(au);return e}function Xm(){const{minBreakpoint:e}=$.useContext(au);return e}function ob(){const{dir:e}=$.useContext(au);return e==="rtl"}function ou(e){return e&&e.ownerDocument||document}function sb(e){var t=ou(e);return t&&t.defaultView||window}function lb(e,t){return sb(e).getComputedStyle(e,t)}var ub=/([A-Z])/g;function cb(e){return e.replace(ub,"-$1").toLowerCase()}var fb=/^ms-/;function Bs(e){return cb(e).replace(fb,"-ms-")}var hb=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function db(e){return!!(e&&hb.test(e))}function Vn(e,t){var r="",s="";if(typeof t=="string")return e.style.getPropertyValue(Bs(t))||lb(e).getPropertyValue(Bs(t));Object.keys(t).forEach(function(p){var v=t[p];!v&&v!==0?e.style.removeProperty(Bs(p)):db(p)?s+=p+"("+v+") ":r+=Bs(p)+": "+v+";"}),s&&(r+="transform: "+s+";"),e.style.cssText+=";"+r}var Ao={},pb={get exports(){return Ao},set exports(e){Ao=e}},gb="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vb=gb,mb=vb;function Vm(){}function Km(){}Km.resetWarningCache=Vm;var yb=function(){function e(s,p,v,x,f,n){if(n!==mb){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Km,resetWarningCache:Vm};return r.PropTypes=r,r};pb.exports=yb();const Yg={disabled:!1},qm=Ir.createContext(null);var xb=function(t){return t.scrollTop},_o="unmounted",ci="exited",wn="entering",$n="entered",Zo="exiting",ei=function(e){nb(t,e);function t(s,p){var v;v=e.call(this,s,p)||this;var x=p,f=x&&!x.isMounting?s.enter:s.appear,n;return v.appearStatus=null,s.in?f?(n=ci,v.appearStatus=wn):n=$n:s.unmountOnExit||s.mountOnEnter?n=_o:n=ci,v.state={status:n},v.nextCallback=null,v}t.getDerivedStateFromProps=function(p,v){var x=p.in;return x&&v.status===_o?{status:ci}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(p){var v=null;if(p!==this.props){var x=this.state.status;this.props.in?x!==wn&&x!==$n&&(v=wn):(x===wn||x===$n)&&(v=Zo)}this.updateStatus(!1,v)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var p=this.props.timeout,v,x,f;return v=x=f=p,p!=null&&typeof p!="number"&&(v=p.exit,x=p.enter,f=p.appear!==void 0?p.appear:x),{exit:v,enter:x,appear:f}},r.updateStatus=function(p,v){if(p===void 0&&(p=!1),v!==null)if(this.cancelNextCallback(),v===wn){if(this.props.unmountOnExit||this.props.mountOnEnter){var x=this.props.nodeRef?this.props.nodeRef.current:Oa.findDOMNode(this);x&&xb(x)}this.performEnter(p)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ci&&this.setState({status:_o})},r.performEnter=function(p){var v=this,x=this.props.enter,f=this.context?this.context.isMounting:p,n=this.props.nodeRef?[f]:[Oa.findDOMNode(this),f],c=n[0],h=n[1],i=this.getTimeouts(),o=f?i.appear:i.enter;if(!p&&!x||Yg.disabled){this.safeSetState({status:$n},function(){v.props.onEntered(c)});return}this.props.onEnter(c,h),this.safeSetState({status:wn},function(){v.props.onEntering(c,h),v.onTransitionEnd(o,function(){v.safeSetState({status:$n},function(){v.props.onEntered(c,h)})})})},r.performExit=function(){var p=this,v=this.props.exit,x=this.getTimeouts(),f=this.props.nodeRef?void 0:Oa.findDOMNode(this);if(!v||Yg.disabled){this.safeSetState({status:ci},function(){p.props.onExited(f)});return}this.props.onExit(f),this.safeSetState({status:Zo},function(){p.props.onExiting(f),p.onTransitionEnd(x.exit,function(){p.safeSetState({status:ci},function(){p.props.onExited(f)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(p,v){v=this.setNextCallback(v),this.setState(p,v)},r.setNextCallback=function(p){var v=this,x=!0;return this.nextCallback=function(f){x&&(x=!1,v.nextCallback=null,p(f))},this.nextCallback.cancel=function(){x=!1},this.nextCallback},r.onTransitionEnd=function(p,v){this.setNextCallback(v);var x=this.props.nodeRef?this.props.nodeRef.current:Oa.findDOMNode(this),f=p==null&&!this.props.addEndListener;if(!x||f){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var n=this.props.nodeRef?[this.nextCallback]:[x,this.nextCallback],c=n[0],h=n[1];this.props.addEndListener(c,h)}p!=null&&setTimeout(this.nextCallback,p)},r.render=function(){var p=this.state.status;if(p===_o)return null;var v=this.props,x=v.children;v.in,v.mountOnEnter,v.unmountOnExit,v.appear,v.enter,v.exit,v.timeout,v.addEndListener,v.onEnter,v.onEntering,v.onEntered,v.onExit,v.onExiting,v.onExited,v.nodeRef;var f=Wm(v,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ir.createElement(qm.Provider,{value:null},typeof x=="function"?x(p,f):Ir.cloneElement(Ir.Children.only(x),f))},t}(Ir.Component);ei.contextType=qm;ei.propTypes={};function pa(){}ei.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:pa,onEntering:pa,onEntered:pa,onExit:pa,onExiting:pa,onExited:pa};ei.UNMOUNTED=_o;ei.EXITED=ci;ei.ENTERING=wn;ei.ENTERED=$n;ei.EXITING=Zo;const Qa=!!(typeof window<"u"&&window.document&&window.document.createElement);var Bf=!1,zf=!1;try{var Sc={get passive(){return Bf=!0},get once(){return zf=Bf=!0}};Qa&&(window.addEventListener("test",Sc,Sc),window.removeEventListener("test",Sc,!0))}catch{}function Qm(e,t,r,s){if(s&&typeof s!="boolean"&&!zf){var p=s.once,v=s.capture,x=r;!zf&&p&&(x=r.__once||function f(n){this.removeEventListener(t,f,v),r.call(this,n)},r.__once=x),e.addEventListener(t,x,Bf?s:v)}e.addEventListener(t,r,s)}function Uf(e,t,r,s){var p=s&&typeof s!="boolean"?s.capture:s;e.removeEventListener(t,r,p),r.__once&&e.removeEventListener(t,r.__once,p)}function Ll(e,t,r,s){return Qm(e,t,r,s),function(){Uf(e,t,r,s)}}function _b(e,t,r,s){if(r===void 0&&(r=!1),s===void 0&&(s=!0),e){var p=document.createEvent("HTMLEvents");p.initEvent(t,r,s),e.dispatchEvent(p)}}function wb(e){var t=Vn(e,"transitionDuration")||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function Cb(e,t,r){r===void 0&&(r=5);var s=!1,p=setTimeout(function(){s||_b(e,"transitionend",!0)},t+r),v=Ll(e,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(p),v()}}function Zm(e,t,r,s){r==null&&(r=wb(e)||0);var p=Cb(e,r,s),v=Ll(e,"transitionend",t);return function(){p(),v()}}function Wg(e,t){const r=Vn(e,t)||"",s=r.indexOf("ms")===-1?1e3:1;return parseFloat(r)*s}function Vh(e,t){const r=Wg(e,"transitionDuration"),s=Wg(e,"transitionDelay"),p=Zm(e,v=>{v.target===e&&(p(),t(v))},r+s)}function go(...e){return e.filter(t=>t!=null).reduce((t,r)=>{if(typeof r!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?r:function(...p){t.apply(this,p),r.apply(this,p)}},null)}function Jm(e){e.offsetHeight}var Gg=function(t){return!t||typeof t=="function"?t:function(r){t.current=r}};function Sb(e,t){var r=Gg(e),s=Gg(t);return function(p){r&&r(p),s&&s(p)}}function ss(e,t){return $.useMemo(function(){return Sb(e,t)},[e,t])}function bb(e){return e&&"setState"in e?Oa.findDOMNode(e):e??null}const Tb=Ir.forwardRef(({onEnter:e,onEntering:t,onEntered:r,onExit:s,onExiting:p,onExited:v,addEndListener:x,children:f,childRef:n,...c},h)=>{const i=$.useRef(null),o=ss(i,n),a=T=>{o(bb(T))},u=T=>A=>{T&&i.current&&T(i.current,A)},d=$.useCallback(u(e),[e]),l=$.useCallback(u(t),[t]),g=$.useCallback(u(r),[r]),m=$.useCallback(u(s),[s]),y=$.useCallback(u(p),[p]),_=$.useCallback(u(v),[v]),S=$.useCallback(u(x),[x]);return W(ei,{ref:h,...c,onEnter:d,onEntered:g,onEntering:l,onExit:m,onExited:_,onExiting:y,addEndListener:S,nodeRef:i,children:typeof f=="function"?(T,A)=>f(T,{...A,ref:a}):Ir.cloneElement(f,{ref:a})})}),Kh=Tb,Eb={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function e1(e,t){const r=`offset${e[0].toUpperCase()}${e.slice(1)}`,s=t[r],p=Eb[e];return s+parseInt(Vn(t,p[0]),10)+parseInt(Vn(t,p[1]),10)}const kb={[ci]:"collapse",[Zo]:"collapsing",[wn]:"collapsing",[$n]:"collapse show"},Ob={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:e1},t1=Ir.forwardRef(({onEnter:e,onEntering:t,onEntered:r,onExit:s,onExiting:p,className:v,children:x,dimension:f="height",getDimensionValue:n=e1,...c},h)=>{const i=typeof f=="function"?f():f,o=$.useMemo(()=>go(g=>{g.style[i]="0"},e),[i,e]),a=$.useMemo(()=>go(g=>{const m=`scroll${i[0].toUpperCase()}${i.slice(1)}`;g.style[i]=`${g[m]}px`},t),[i,t]),u=$.useMemo(()=>go(g=>{g.style[i]=null},r),[i,r]),d=$.useMemo(()=>go(g=>{g.style[i]=`${n(i,g)}px`,Jm(g)},s),[s,n,i]),l=$.useMemo(()=>go(g=>{g.style[i]=null},p),[i,p]);return W(Kh,{ref:h,addEndListener:Vh,...c,"aria-expanded":c.role?c.in:null,onEnter:o,onEntering:a,onEntered:u,onExit:d,onExiting:l,childRef:x.ref,children:(g,m)=>Ir.cloneElement(x,{...m,className:Ut(v,x.props.className,kb[g],i==="width"&&"collapse-horizontal")})})});t1.defaultProps=Ob;const Pb=t1;function Ab(e){var t=$.useRef(e);return $.useEffect(function(){t.current=e},[e]),t}function Fr(e){var t=Ab(e);return $.useCallback(function(){return t.current&&t.current.apply(t,arguments)},[t])}function Mb(){return $.useState(null)}function Db(){var e=$.useRef(!0),t=$.useRef(function(){return e.current});return $.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t.current}function Rb(e){var t=$.useRef(null);return $.useEffect(function(){t.current=e}),t.current}var Lb=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Fb=typeof document<"u";const Hf=Fb||Lb?$.useLayoutEffect:$.useEffect,Ib=["as","disabled"];function Nb(e,t){if(e==null)return{};var r={},s=Object.keys(e),p,v;for(v=0;v<s.length;v++)p=s[v],!(t.indexOf(p)>=0)&&(r[p]=e[p]);return r}function jb(e){return!e||e.trim()==="#"}function qh({tagName:e,disabled:t,href:r,target:s,rel:p,role:v,onClick:x,tabIndex:f=0,type:n}){e||(r!=null||s!=null||p!=null?e="a":e="button");const c={tagName:e};if(e==="button")return[{type:n||"button",disabled:t},c];const h=o=>{if((t||e==="a"&&jb(r))&&o.preventDefault(),t){o.stopPropagation();return}x==null||x(o)},i=o=>{o.key===" "&&(o.preventDefault(),h(o))};return e==="a"&&(r||(r="#"),t&&(r=void 0)),[{role:v??"button",disabled:void 0,tabIndex:t?void 0:f,href:r,target:e==="a"?s:void 0,"aria-disabled":t||void 0,rel:e==="a"?p:void 0,onClick:h,onKeyDown:i},c]}const r1=$.forwardRef((e,t)=>{let{as:r,disabled:s}=e,p=Nb(e,Ib);const[v,{tagName:x}]=qh(Object.assign({tagName:r,disabled:s},p));return W(x,Object.assign({},p,v,{ref:t}))});r1.displayName="Button";const Bb=["onKeyDown"];function zb(e,t){if(e==null)return{};var r={},s=Object.keys(e),p,v;for(v=0;v<s.length;v++)p=s[v],!(t.indexOf(p)>=0)&&(r[p]=e[p]);return r}function Ub(e){return!e||e.trim()==="#"}const Qh=$.forwardRef((e,t)=>{let{onKeyDown:r}=e,s=zb(e,Bb);const[p]=qh(Object.assign({tagName:"a"},s)),v=Fr(x=>{p.onKeyDown(x),r==null||r(x)});return Ub(s.href)||s.role==="button"?W("a",Object.assign({ref:t},s,p,{onKeyDown:v})):W("a",Object.assign({ref:t},s,{onKeyDown:r}))});Qh.displayName="Anchor";const Hb={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},$b={[wn]:"show",[$n]:"show"},Zh=$.forwardRef(({className:e,children:t,transitionClasses:r={},...s},p)=>{const v=$.useCallback((x,f)=>{Jm(x),s.onEnter==null||s.onEnter(x,f)},[s]);return W(Kh,{ref:p,addEndListener:Vh,...s,onEnter:v,childRef:t.ref,children:(x,f)=>$.cloneElement(t,{...f,className:Ut("fade",e,t.props.className,$b[x],r[x])})})});Zh.defaultProps=Hb;Zh.displayName="Fade";const ls=Zh,Yb={"aria-label":Ao.string,onClick:Ao.func,variant:Ao.oneOf(["white"])},Wb={"aria-label":"Close"},su=$.forwardRef(({className:e,variant:t,...r},s)=>W("button",{ref:s,type:"button",className:Ut("btn-close",t&&`btn-close-${t}`,e),...r}));su.displayName="CloseButton";su.propTypes=Yb;su.defaultProps=Wb;const n1=su,us=e=>$.forwardRef((t,r)=>W("div",{...t,ref:r,className:Ut(t.className,e)}));var Gb=/-(.)/g;function Xb(e){return e.replace(Gb,function(t,r){return r.toUpperCase()})}const Vb=e=>e[0].toUpperCase()+Xb(e).slice(1);function Mr(e,{displayName:t=Vb(e),Component:r,defaultProps:s}={}){const p=$.forwardRef(({className:v,bsPrefix:x,as:f=r||"div",...n},c)=>{const h=ar(x,e);return W(f,{ref:c,className:Ut(v,h),...n})});return p.defaultProps=s,p.displayName=t,p}const i1=us("h4");i1.displayName="DivStyledAsH4";const Kb=Mr("alert-heading",{Component:i1}),qb=Mr("alert-link",{Component:Qh}),Qb={variant:"primary",show:!0,transition:ls,closeLabel:"Close alert"},Jh=$.forwardRef((e,t)=>{const{bsPrefix:r,show:s,closeLabel:p,closeVariant:v,className:x,children:f,variant:n,onClose:c,dismissible:h,transition:i,...o}=Xh(e,{show:"onClose"}),a=ar(r,"alert"),u=Fr(g=>{c&&c(!1,g)}),d=i===!0?ls:i,l=vt("div",{role:"alert",...d?void 0:o,ref:t,className:Ut(x,a,n&&`${a}-${n}`,h&&`${a}-dismissible`),children:[h&&W(n1,{onClick:u,"aria-label":p,variant:v}),f]});return d?W(d,{unmountOnExit:!0,...o,ref:void 0,in:s,children:l}):s?l:null});Jh.displayName="Alert";Jh.defaultProps=Qb;const ed=Object.assign(Jh,{Link:qb,Heading:Kb}),Zb={variant:"primary",active:!1,disabled:!1},td=$.forwardRef(({as:e,bsPrefix:t,variant:r,size:s,active:p,className:v,...x},f)=>{const n=ar(t,"btn"),[c,{tagName:h}]=qh({tagName:e,...x});return W(h,{...c,...x,ref:f,className:Ut(v,n,p&&"active",r&&`${n}-${r}`,s&&`${n}-${s}`,x.href&&x.disabled&&"disabled")})});td.displayName="Button";td.defaultProps=Zb;const Rn=td,a1=$.forwardRef(({bsPrefix:e,className:t,variant:r,as:s="img",...p},v)=>{const x=ar(e,"card-img");return W(s,{ref:v,className:Ut(r?`${x}-${r}`:x,t),...p})});a1.displayName="CardImg";const Jb=a1,o1=$.createContext(null);o1.displayName="CardHeaderContext";const s1=o1,l1=$.forwardRef(({bsPrefix:e,className:t,as:r="div",...s},p)=>{const v=ar(e,"card-header"),x=$.useMemo(()=>({cardHeaderBsPrefix:v}),[v]);return W(s1.Provider,{value:x,children:W(r,{ref:p,...s,className:Ut(t,v)})})});l1.displayName="CardHeader";const eT=l1,tT=us("h5"),rT=us("h6"),u1=Mr("card-body"),nT=Mr("card-title",{Component:tT}),iT=Mr("card-subtitle",{Component:rT}),aT=Mr("card-link",{Component:"a"}),oT=Mr("card-text",{Component:"p"}),sT=Mr("card-footer"),lT=Mr("card-img-overlay"),uT={body:!1},rd=$.forwardRef(({bsPrefix:e,className:t,bg:r,text:s,border:p,body:v,children:x,as:f="div",...n},c)=>{const h=ar(e,"card");return W(f,{ref:c,...n,className:Ut(t,h,r&&`bg-${r}`,s&&`text-${s}`,p&&`border-${p}`),children:v?W(u1,{children:x}):x})});rd.displayName="Card";rd.defaultProps=uT;const sr=Object.assign(rd,{Img:Jb,Title:nT,Subtitle:iT,Body:u1,Link:aT,Text:oT,Header:eT,Footer:sT,ImgOverlay:lT});function cT(e){var t=$.useRef(e);return t.current=e,t}function c1(e){var t=cT(e);$.useEffect(function(){return function(){return t.current()}},[])}function fT({as:e,bsPrefix:t,className:r,...s}){t=ar(t,"col");const p=Gm(),v=Xm(),x=[],f=[];return p.forEach(n=>{const c=s[n];delete s[n];let h,i,o;typeof c=="object"&&c!=null?{span:h,offset:i,order:o}=c:h=c;const a=n!==v?`-${n}`:"";h&&x.push(h===!0?`${t}${a}`:`${t}${a}-${h}`),o!=null&&f.push(`order${a}-${o}`),i!=null&&f.push(`offset${a}-${i}`)}),[{...s,className:Ut(r,...x,...f)},{as:e,bsPrefix:t,spans:x}]}const f1=$.forwardRef((e,t)=>{const[{className:r,...s},{as:p="div",bsPrefix:v,spans:x}]=fT(e);return W(p,{...s,ref:t,className:Ut(r,!x.length&&v)})});f1.displayName="Col";const sn=f1;var hT=Function.prototype.bind.call(Function.prototype.call,[].slice);function Bi(e,t){return hT(e.querySelectorAll(t))}function dT(){var e=$.useReducer(function(r){return!r},!1),t=e[1];return t}function Xg(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const Fl=$.createContext(null),nd=(e,t=null)=>e!=null?String(e):t||null,id=$.createContext(null);id.displayName="NavContext";const pT="data-rr-ui-",gT="rrUi";function lu(e){return`${pT}${e}`}function vT(e){return`${gT}${e}`}const h1=$.createContext(Qa?window:void 0);h1.Provider;function d1(){return $.useContext(h1)}const p1=$.createContext(null);p1.displayName="NavbarContext";const Za=p1,mT={fluid:!1},ad=$.forwardRef(({bsPrefix:e,fluid:t,as:r="div",className:s,...p},v)=>{const x=ar(e,"container"),f=typeof t=="string"?`-${t}`:"-fluid";return W(r,{ref:v,...p,className:Ut(s,t?`${x}${f}`:x)})});ad.displayName="Container";ad.defaultProps=mT;const Fn=ad,g1=$.createContext(null),yT=["as","active","eventKey"];function xT(e,t){if(e==null)return{};var r={},s=Object.keys(e),p,v;for(v=0;v<s.length;v++)p=s[v],!(t.indexOf(p)>=0)&&(r[p]=e[p]);return r}function v1({key:e,onClick:t,active:r,id:s,role:p,disabled:v}){const x=$.useContext(Fl),f=$.useContext(id),n=$.useContext(g1);let c=r;const h={role:p};if(f){!p&&f.role==="tablist"&&(h.role="tab");const i=f.getControllerId(e??null),o=f.getControlledId(e??null);h[lu("event-key")]=e,h.id=i||s,c=r==null&&e!=null?f.activeKey===e:r,(c||!(n!=null&&n.unmountOnExit)&&!(n!=null&&n.mountOnEnter))&&(h["aria-controls"]=o)}return h.role==="tab"&&(h["aria-selected"]=c,c||(h.tabIndex=-1),v&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Fr(i=>{v||(t==null||t(i),e!=null&&x&&!i.isPropagationStopped()&&x(e,i))}),[h,{isActive:c}]}const m1=$.forwardRef((e,t)=>{let{as:r=r1,active:s,eventKey:p}=e,v=xT(e,yT);const[x,f]=v1(Object.assign({key:nd(p,v.href),active:s},v));return x[lu("active")]=f.isActive,W(r,Object.assign({},v,x,{ref:t}))});m1.displayName="NavItem";const _T=["as","onSelect","activeKey","role","onKeyDown"];function wT(e,t){if(e==null)return{};var r={},s=Object.keys(e),p,v;for(v=0;v<s.length;v++)p=s[v],!(t.indexOf(p)>=0)&&(r[p]=e[p]);return r}const Vg=()=>{},Kg=lu("event-key"),y1=$.forwardRef((e,t)=>{let{as:r="div",onSelect:s,activeKey:p,role:v,onKeyDown:x}=e,f=wT(e,_T);const n=dT(),c=$.useRef(!1),h=$.useContext(Fl),i=$.useContext(g1);let o,a;i&&(v=v||"tablist",p=i.activeKey,o=i.getControlledId,a=i.getControllerId);const u=$.useRef(null),d=y=>{const _=u.current;if(!_)return null;const S=Bi(_,`[${Kg}]:not([aria-disabled=true])`),T=_.querySelector("[aria-selected=true]");if(!T||T!==document.activeElement)return null;const A=S.indexOf(T);if(A===-1)return null;let N=A+y;return N>=S.length&&(N=0),N<0&&(N=S.length-1),S[N]},l=(y,_)=>{y!=null&&(s==null||s(y,_),h==null||h(y,_))},g=y=>{if(x==null||x(y),!i)return;let _;switch(y.key){case"ArrowLeft":case"ArrowUp":_=d(-1);break;case"ArrowRight":case"ArrowDown":_=d(1);break;default:return}_&&(y.preventDefault(),l(_.dataset[vT("EventKey")]||null,y),c.current=!0,n())};$.useEffect(()=>{if(u.current&&c.current){const y=u.current.querySelector(`[${Kg}][aria-selected=true]`);y==null||y.focus()}c.current=!1});const m=ss(t,u);return W(Fl.Provider,{value:l,children:W(id.Provider,{value:{role:v,activeKey:nd(p),getControlledId:o||Vg,getControllerId:a||Vg},children:W(r,Object.assign({},f,{onKeyDown:g,ref:m,role:v}))})})});y1.displayName="Nav";const CT=Object.assign(y1,{Item:m1});var zs;function qg(e){if((!zs&&zs!==0||e)&&Qa){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),zs=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return zs}function bc(e){e===void 0&&(e=ou());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function ST(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const Qg=lu("modal-open");class od{constructor({ownerDocument:t,handleContainerOverflow:r=!0,isRTL:s=!1}={}){this.handleContainerOverflow=r,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return ST(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const r={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",p=this.getElement();t.style={overflow:p.style.overflow,[s]:p.style[s]},t.scrollBarWidth&&(r[s]=`${parseInt(Vn(p,s)||"0",10)+t.scrollBarWidth}px`),p.setAttribute(Qg,""),Vn(p,r)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const r=this.getElement();r.removeAttribute(Qg),Object.assign(r.style,t.style)}add(t){let r=this.modals.indexOf(t);return r!==-1||(r=this.modals.length,this.modals.push(t),this.setModalAttributes(t),r!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),r}remove(t){const r=this.modals.indexOf(t);r!==-1&&(this.modals.splice(r,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const Tc=(e,t)=>Qa?e==null?(t||ou()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function bT(e,t){const r=d1(),[s,p]=$.useState(()=>Tc(e,r==null?void 0:r.document));if(!s){const v=Tc(e);v&&p(v)}return $.useEffect(()=>{t&&s&&t(s)},[t,s]),$.useEffect(()=>{const v=Tc(e);v!==s&&p(v)},[e,s]),s}function TT({children:e,in:t,onExited:r,mountOnEnter:s,unmountOnExit:p}){const v=$.useRef(null),x=$.useRef(t),f=Fr(r);$.useEffect(()=>{t?x.current=!0:f(v.current)},[t,f]);const n=ss(v,e.ref),c=$.cloneElement(e,{ref:n});return t?c:p||!x.current&&s?null:c}function ET({in:e,onTransition:t}){const r=$.useRef(null),s=$.useRef(!0),p=Fr(t);return Hf(()=>{if(!r.current)return;let v=!1;return p({in:e,element:r.current,initial:s.current,isStale:()=>v}),()=>{v=!0}},[e,p]),Hf(()=>(s.current=!1,()=>{s.current=!0}),[]),r}function kT({children:e,in:t,onExited:r,onEntered:s,transition:p}){const[v,x]=$.useState(!t);t&&v&&x(!1);const f=ET({in:!!t,onTransition:c=>{const h=()=>{c.isStale()||(c.in?s==null||s(c.element,c.initial):(x(!0),r==null||r(c.element)))};Promise.resolve(p(c)).then(h,i=>{throw c.in||x(!0),i})}}),n=ss(f,e.ref);return v&&!t?null:$.cloneElement(e,{ref:n})}function Zg(e,t,r){return e?W(e,Object.assign({},r)):t?W(kT,Object.assign({},r,{transition:t})):W(TT,Object.assign({},r))}const OT=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function PT(e,t){if(e==null)return{};var r={},s=Object.keys(e),p,v;for(v=0;v<s.length;v++)p=s[v],!(t.indexOf(p)>=0)&&(r[p]=e[p]);return r}let Ec;function AT(e){return Ec||(Ec=new od({ownerDocument:e==null?void 0:e.document})),Ec}function MT(e){const t=d1(),r=e||AT(t),s=$.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>r.add(s.current),remove:()=>r.remove(s.current),isTopModal:()=>r.isTopModal(s.current),setDialogRef:$.useCallback(p=>{s.current.dialog=p},[]),setBackdropRef:$.useCallback(p=>{s.current.backdrop=p},[])})}const x1=$.forwardRef((e,t)=>{let{show:r=!1,role:s="dialog",className:p,style:v,children:x,backdrop:f=!0,keyboard:n=!0,onBackdropClick:c,onEscapeKeyDown:h,transition:i,runTransition:o,backdropTransition:a,runBackdropTransition:u,autoFocus:d=!0,enforceFocus:l=!0,restoreFocus:g=!0,restoreFocusOptions:m,renderDialog:y,renderBackdrop:_=X=>W("div",Object.assign({},X)),manager:S,container:T,onShow:A,onHide:N=()=>{},onExit:Q,onExited:re,onExiting:ve,onEnter:we,onEntering:Te,onEntered:Ce}=e,xe=PT(e,OT);const Oe=bT(T),me=MT(S),ee=Db(),O=Rb(r),[j,z]=$.useState(!r),F=$.useRef(null);$.useImperativeHandle(t,()=>me,[me]),Qa&&!O&&r&&(F.current=bc()),r&&j&&z(!1);const U=Fr(()=>{if(me.add(),Z.current=Ll(document,"keydown",K),G.current=Ll(document,"focus",()=>setTimeout(k),!0),A&&A(),d){const X=bc(document);me.dialog&&X&&!Xg(me.dialog,X)&&(F.current=X,me.dialog.focus())}}),L=Fr(()=>{if(me.remove(),Z.current==null||Z.current(),G.current==null||G.current(),g){var X;(X=F.current)==null||X.focus==null||X.focus(m),F.current=null}});$.useEffect(()=>{!r||!Oe||U()},[r,Oe,U]),$.useEffect(()=>{j&&L()},[j,L]),c1(()=>{L()});const k=Fr(()=>{if(!l||!ee()||!me.isTopModal())return;const X=bc();me.dialog&&X&&!Xg(me.dialog,X)&&me.dialog.focus()}),D=Fr(X=>{X.target===X.currentTarget&&(c==null||c(X),f===!0&&N())}),K=Fr(X=>{n&&X.keyCode===27&&me.isTopModal()&&(h==null||h(X),X.defaultPrevented||N())}),G=$.useRef(),Z=$.useRef(),le=(...X)=>{z(!0),re==null||re(...X)};if(!Oe)return null;const ne=Object.assign({role:s,ref:me.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},xe,{style:v,className:p,tabIndex:-1});let he=y?y(ne):W("div",Object.assign({},ne,{children:$.cloneElement(x,{role:"document"})}));he=Zg(i,o,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:Q,onExiting:ve,onExited:le,onEnter:we,onEntering:Te,onEntered:Ce,children:he});let ie=null;return f&&(ie=_({ref:me.setBackdropRef,onClick:D}),ie=Zg(a,u,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ie})),W($i,{children:Oa.createPortal(vt($i,{children:[ie,he]}),Oe)})});x1.displayName="Modal";const _1=Object.assign(x1,{Manager:od});function DT(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function RT(e,t){e.classList?e.classList.add(t):DT(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Jg(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function LT(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Jg(e.className,t):e.setAttribute("class",Jg(e.className&&e.className.baseVal||"",t))}const ga={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class w1 extends od{adjustAndStore(t,r,s){const p=r.style[t];r.dataset[t]=p,Vn(r,{[t]:`${parseFloat(Vn(r,t))+s}px`})}restore(t,r){const s=r.dataset[t];s!==void 0&&(delete r.dataset[t],Vn(r,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const r=this.getElement();if(RT(r,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",p=this.isRTL?"marginLeft":"marginRight";Bi(r,ga.FIXED_CONTENT).forEach(v=>this.adjustAndStore(s,v,t.scrollBarWidth)),Bi(r,ga.STICKY_CONTENT).forEach(v=>this.adjustAndStore(p,v,-t.scrollBarWidth)),Bi(r,ga.NAVBAR_TOGGLER).forEach(v=>this.adjustAndStore(p,v,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const r=this.getElement();LT(r,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",p=this.isRTL?"marginLeft":"marginRight";Bi(r,ga.FIXED_CONTENT).forEach(v=>this.restore(s,v)),Bi(r,ga.STICKY_CONTENT).forEach(v=>this.restore(p,v)),Bi(r,ga.NAVBAR_TOGGLER).forEach(v=>this.restore(p,v))}}let kc;function C1(e){return kc||(kc=new w1(e)),kc}const FT=w1,IT=Mr("modal-body"),NT=$.createContext({onHide(){}}),sd=NT,S1=$.forwardRef(({bsPrefix:e,className:t,contentClassName:r,centered:s,size:p,fullscreen:v,children:x,scrollable:f,...n},c)=>{e=ar(e,"modal");const h=`${e}-dialog`,i=typeof v=="string"?`${e}-fullscreen-${v}`:`${e}-fullscreen`;return W("div",{...n,ref:c,className:Ut(h,t,p&&`${e}-${p}`,s&&`${h}-centered`,f&&`${h}-scrollable`,v&&i),children:W("div",{className:Ut(`${e}-content`,r),children:x})})});S1.displayName="ModalDialog";const b1=S1,jT=Mr("modal-footer"),BT={closeLabel:"Close",closeButton:!1},T1=$.forwardRef(({closeLabel:e,closeVariant:t,closeButton:r,onHide:s,children:p,...v},x)=>{const f=$.useContext(sd),n=Fr(()=>{f==null||f.onHide(),s==null||s()});return vt("div",{ref:x,...v,children:[p,r&&W(n1,{"aria-label":e,variant:t,onClick:n})]})});T1.defaultProps=BT;const E1=T1,zT={closeLabel:"Close",closeButton:!1},ld=$.forwardRef(({bsPrefix:e,className:t,...r},s)=>(e=ar(e,"modal-header"),W(E1,{ref:s,...r,className:Ut(t,e)})));ld.displayName="ModalHeader";ld.defaultProps=zT;const UT=ld,HT=us("h4"),$T=Mr("modal-title",{Component:HT}),YT={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:b1};function WT(e){return W(ls,{...e,timeout:null})}function GT(e){return W(ls,{...e,timeout:null})}const ud=$.forwardRef(({bsPrefix:e,className:t,style:r,dialogClassName:s,contentClassName:p,children:v,dialogAs:x,"aria-labelledby":f,"aria-describedby":n,"aria-label":c,show:h,animation:i,backdrop:o,keyboard:a,onEscapeKeyDown:u,onShow:d,onHide:l,container:g,autoFocus:m,enforceFocus:y,restoreFocus:_,restoreFocusOptions:S,onEntered:T,onExit:A,onExiting:N,onEnter:Q,onEntering:re,onExited:ve,backdropClassName:we,manager:Te,...Ce},xe)=>{const[Oe,me]=$.useState({}),[ee,O]=$.useState(!1),j=$.useRef(!1),z=$.useRef(!1),F=$.useRef(null),[U,L]=Mb(),k=ss(xe,L),D=Fr(l),K=ob();e=ar(e,"modal");const G=$.useMemo(()=>({onHide:D}),[D]);function Z(){return Te||C1({isRTL:K})}function le(Re){if(!Qa)return;const ft=Z().getScrollbarWidth()>0,ht=Re.scrollHeight>ou(Re).documentElement.clientHeight;me({paddingRight:ft&&!ht?qg():void 0,paddingLeft:!ft&&ht?qg():void 0})}const ne=Fr(()=>{U&&le(U.dialog)});c1(()=>{Uf(window,"resize",ne),F.current==null||F.current()});const he=()=>{j.current=!0},ie=Re=>{j.current&&U&&Re.target===U.dialog&&(z.current=!0),j.current=!1},X=()=>{O(!0),F.current=Zm(U.dialog,()=>{O(!1)})},ue=Re=>{Re.target===Re.currentTarget&&X()},de=Re=>{if(o==="static"){ue(Re);return}if(z.current||Re.target!==Re.currentTarget){z.current=!1;return}l==null||l()},te=Re=>{a?u==null||u(Re):(Re.preventDefault(),o==="static"&&X())},pe=(Re,ft)=>{Re&&le(Re),Q==null||Q(Re,ft)},Pe=Re=>{F.current==null||F.current(),A==null||A(Re)},Ue=(Re,ft)=>{re==null||re(Re,ft),Qm(window,"resize",ne)},$e=Re=>{Re&&(Re.style.display=""),ve==null||ve(Re),Uf(window,"resize",ne)},ge=$.useCallback(Re=>W("div",{...Re,className:Ut(`${e}-backdrop`,we,!i&&"show")}),[i,we,e]),je={...r,...Oe};je.display="block";const Ae=Re=>W("div",{role:"dialog",...Re,style:je,className:Ut(t,e,ee&&`${e}-static`,!i&&"show"),onClick:o?de:void 0,onMouseUp:ie,"aria-label":c,"aria-labelledby":f,"aria-describedby":n,children:W(x,{...Ce,onMouseDown:he,className:s,contentClassName:p,children:v})});return W(sd.Provider,{value:G,children:W(_1,{show:h,ref:k,backdrop:o,container:g,keyboard:!0,autoFocus:m,enforceFocus:y,restoreFocus:_,restoreFocusOptions:S,onEscapeKeyDown:te,onShow:d,onHide:l,onEnter:pe,onEntering:Ue,onEntered:T,onExit:Pe,onExiting:N,onExited:$e,manager:Z(),transition:i?WT:void 0,backdropTransition:i?GT:void 0,renderBackdrop:ge,renderDialog:Ae})})});ud.displayName="Modal";ud.defaultProps=YT;const Us=Object.assign(ud,{Body:IT,Header:UT,Title:$T,Footer:jT,Dialog:b1,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var $f={},XT={get exports(){return $f},set exports(e){$f=e}},Il={},VT={get exports(){return Il},set exports(e){Il=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(s){function p(x,f,n,c,h,i){var o=c||"<<anonymous>>",a=i||n;if(f[n]==null)return x?new Error("Required "+h+" `"+a+"` was not specified "+("in `"+o+"`.")):null;for(var u=arguments.length,d=Array(u>6?u-6:0),l=6;l<u;l++)d[l-6]=arguments[l];return s.apply(void 0,[f,n,o,h,a].concat(d))}var v=p.bind(null,!1);return v.isRequired=p.bind(null,!0),v}e.exports=t.default})(VT,Il);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var r=Il,s=p(r);function p(x){return x&&x.__esModule?x:{default:x}}function v(){for(var x=arguments.length,f=Array(x),n=0;n<x;n++)f[n]=arguments[n];function c(){for(var h=arguments.length,i=Array(h),o=0;o<h;o++)i[o]=arguments[o];var a=null;return f.forEach(function(u){if(a==null){var d=u.apply(void 0,i);d!=null&&(a=d)}}),a}return(0,s.default)(c)}e.exports=t.default})(XT,$f);const KT=Mr("nav-item"),qT={disabled:!1},cd=$.forwardRef(({bsPrefix:e,className:t,as:r=Qh,active:s,eventKey:p,...v},x)=>{e=ar(e,"nav-link");const[f,n]=v1({key:nd(p,v.href),active:s,...v});return W(r,{...v,...f,ref:x,className:Ut(t,e,v.disabled&&"disabled",n.isActive&&"active")})});cd.displayName="NavLink";cd.defaultProps=qT;const QT=cd,ZT={justify:!1,fill:!1},fd=$.forwardRef((e,t)=>{const{as:r="div",bsPrefix:s,variant:p,fill:v,justify:x,navbar:f,navbarScroll:n,className:c,activeKey:h,...i}=Xh(e,{activeKey:"onSelect"}),o=ar(s,"nav");let a,u,d=!1;const l=$.useContext(Za),g=$.useContext(s1);return l?(a=l.bsPrefix,d=f??!0):g&&({cardHeaderBsPrefix:u}=g),W(CT,{as:r,ref:t,activeKey:h,className:Ut(c,{[o]:!d,[`${a}-nav`]:d,[`${a}-nav-scroll`]:d&&n,[`${u}-${p}`]:!!u,[`${o}-${p}`]:!!p,[`${o}-fill`]:v,[`${o}-justified`]:x}),...i})});fd.displayName="Nav";fd.defaultProps=ZT;const Oc=Object.assign(fd,{Item:KT,Link:QT}),k1=$.forwardRef(({bsPrefix:e,className:t,as:r,...s},p)=>{e=ar(e,"navbar-brand");const v=r||(s.href?"a":"span");return W(v,{...s,ref:p,className:Ut(t,e)})});k1.displayName="NavbarBrand";const JT=k1,O1=$.forwardRef(({children:e,bsPrefix:t,...r},s)=>{t=ar(t,"navbar-collapse");const p=$.useContext(Za);return W(Pb,{in:!!(p&&p.expanded),...r,children:W("div",{ref:s,className:t,children:e})})});O1.displayName="NavbarCollapse";const eE=O1,tE={label:"Toggle navigation"},hd=$.forwardRef(({bsPrefix:e,className:t,children:r,label:s,as:p="button",onClick:v,...x},f)=>{e=ar(e,"navbar-toggler");const{onToggle:n,expanded:c}=$.useContext(Za)||{},h=Fr(i=>{v&&v(i),n&&n()});return p==="button"&&(x.type="button"),W(p,{...x,ref:f,onClick:h,"aria-label":s,className:Ut(t,e,!c&&"collapsed"),children:r||W("span",{className:`${e}-icon`})})});hd.displayName="NavbarToggle";hd.defaultProps=tE;const rE=hd;var Yf=new WeakMap,ev=function(t,r){if(!(!t||!r)){var s=Yf.get(r)||new Map;Yf.set(r,s);var p=s.get(t);return p||(p=r.matchMedia(t),p.refCount=0,s.set(p.media,p)),p}};function nE(e,t){t===void 0&&(t=typeof window>"u"?void 0:window);var r=ev(e,t),s=$.useState(function(){return r?r.matches:!1}),p=s[0],v=s[1];return Hf(function(){var x=ev(e,t);if(!x)return v(!1);var f=Yf.get(t),n=function(){v(x.matches)};return x.refCount++,x.addListener(n),n(),function(){x.removeListener(n),x.refCount--,x.refCount<=0&&(f==null||f.delete(x.media)),x=void 0}},[e]),p}function iE(e){var t=Object.keys(e);function r(f,n){return f===n?n:f?f+" and "+n:n}function s(f){return t[Math.min(t.indexOf(f)+1,t.length-1)]}function p(f){var n=s(f),c=e[n];return typeof c=="number"?c=c-.2+"px":c="calc("+c+" - 0.2px)","(max-width: "+c+")"}function v(f){var n=e[f];return typeof n=="number"&&(n=n+"px"),"(min-width: "+n+")"}function x(f,n,c){var h;if(typeof f=="object")h=f,c=n,n=!0;else{var i;n=n||!0,h=(i={},i[f]=n,i)}var o=$.useMemo(function(){return Object.entries(h).reduce(function(a,u){var d=u[0],l=u[1];return(l==="up"||l===!0)&&(a=r(a,v(d))),(l==="down"||l===!0)&&(a=r(a,p(d))),a},"")},[JSON.stringify(h)]);return nE(o,c)}return x}var aE=iE({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});const oE=Mr("offcanvas-body"),sE={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},lE={[wn]:"show",[$n]:"show"},dd=$.forwardRef(({bsPrefix:e,className:t,children:r,...s},p)=>(e=ar(e,"offcanvas"),W(Kh,{ref:p,addEndListener:Vh,...s,childRef:r.ref,children:(v,x)=>$.cloneElement(r,{...x,className:Ut(t,r.props.className,(v===wn||v===Zo)&&`${e}-toggling`,lE[v])})})));dd.defaultProps=sE;dd.displayName="OffcanvasToggling";const uE=dd,cE={closeLabel:"Close",closeButton:!1},pd=$.forwardRef(({bsPrefix:e,className:t,...r},s)=>(e=ar(e,"offcanvas-header"),W(E1,{ref:s,...r,className:Ut(t,e)})));pd.displayName="OffcanvasHeader";pd.defaultProps=cE;const fE=pd,hE=us("h5"),dE=Mr("offcanvas-title",{Component:hE}),pE={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};function gE(e){return W(uE,{...e})}function vE(e){return W(ls,{...e})}const gd=$.forwardRef(({bsPrefix:e,className:t,children:r,"aria-labelledby":s,placement:p,responsive:v,show:x,backdrop:f,keyboard:n,scroll:c,onEscapeKeyDown:h,onShow:i,onHide:o,container:a,autoFocus:u,enforceFocus:d,restoreFocus:l,restoreFocusOptions:g,onEntered:m,onExit:y,onExiting:_,onEnter:S,onEntering:T,onExited:A,backdropClassName:N,manager:Q,renderStaticNode:re,...ve},we)=>{const Te=$.useRef();e=ar(e,"offcanvas");const{onToggle:Ce}=$.useContext(Za)||{},[xe,Oe]=$.useState(!1),me=aE(v||"xs","up");$.useEffect(()=>{Oe(v?x&&!me:x)},[x,v,me]);const ee=Fr(()=>{Ce==null||Ce(),o==null||o()}),O=$.useMemo(()=>({onHide:ee}),[ee]);function j(){return Q||(c?(Te.current||(Te.current=new FT({handleContainerOverflow:!1})),Te.current):C1())}const z=(k,...D)=>{k&&(k.style.visibility="visible"),S==null||S(k,...D)},F=(k,...D)=>{k&&(k.style.visibility=""),A==null||A(...D)},U=$.useCallback(k=>W("div",{...k,className:Ut(`${e}-backdrop`,N)}),[N,e]),L=k=>W("div",{...k,...ve,className:Ut(t,v?`${e}-${v}`:e,`${e}-${p}`),"aria-labelledby":s,children:r});return vt($i,{children:[!xe&&(v||re)&&L({}),W(sd.Provider,{value:O,children:W(_1,{show:xe,ref:we,backdrop:f,container:a,keyboard:n,autoFocus:u,enforceFocus:d&&!c,restoreFocus:l,restoreFocusOptions:g,onEscapeKeyDown:h,onShow:i,onHide:ee,onEnter:z,onEntering:T,onEntered:m,onExit:y,onExiting:_,onExited:F,manager:j(),transition:gE,backdropTransition:vE,renderBackdrop:U,renderDialog:L})})]})});gd.displayName="Offcanvas";gd.defaultProps=pE;const mE=Object.assign(gd,{Body:oE,Header:fE,Title:dE}),P1=$.forwardRef((e,t)=>{const r=$.useContext(Za);return W(mE,{ref:t,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0})});P1.displayName="NavbarOffcanvas";const yE=P1,xE=Mr("navbar-text",{Component:"span"}),_E={expand:!0,variant:"light",collapseOnSelect:!1},vd=$.forwardRef((e,t)=>{const{bsPrefix:r,expand:s,variant:p,bg:v,fixed:x,sticky:f,className:n,as:c="nav",expanded:h,onToggle:i,onSelect:o,collapseOnSelect:a,...u}=Xh(e,{expanded:"onToggle"}),d=ar(r,"navbar"),l=$.useCallback((...y)=>{o==null||o(...y),a&&h&&(i==null||i(!1))},[o,a,h,i]);u.role===void 0&&c!=="nav"&&(u.role="navigation");let g=`${d}-expand`;typeof s=="string"&&(g=`${g}-${s}`);const m=$.useMemo(()=>({onToggle:()=>i==null?void 0:i(!h),bsPrefix:d,expanded:!!h,expand:s}),[d,h,s,i]);return W(Za.Provider,{value:m,children:W(Fl.Provider,{value:l,children:W(c,{ref:t,...u,className:Ut(n,d,s&&g,p&&`${d}-${p}`,v&&`bg-${v}`,f&&`sticky-${f}`,x&&`fixed-${x}`)})})})});vd.defaultProps=_E;vd.displayName="Navbar";const Pc=Object.assign(vd,{Brand:JT,Collapse:eE,Offcanvas:yE,Text:xE,Toggle:rE}),A1=$.forwardRef(({bsPrefix:e,className:t,as:r="div",...s},p)=>{const v=ar(e,"row"),x=Gm(),f=Xm(),n=`${v}-cols`,c=[];return x.forEach(h=>{const i=s[h];delete s[h];let o;i!=null&&typeof i=="object"?{cols:o}=i:o=i;const a=h!==f?`-${h}`:"";o!=null&&c.push(`${n}${a}-${o}`)}),W(r,{ref:p,...s,className:Ut(t,v,...c)})});A1.displayName="Row";const Cn=A1,M1=({dog:e,id:t})=>{let x;const f={leftEar:{top:80,left:100},rightEar:{top:80,left:200,flipX:!0},head:{top:150,left:150},muzzle:{top:190,left:150},rightEye:{top:140,left:115},leftEye:{top:140,left:185},mouth:{top:190,left:150},nose:{top:170,left:150}};let n=!1;$.useEffect(()=>{n||(c(),n=!0)},[e]);const c=()=>{const g={width:300,height:300,backgroundColor:"deepskyblue"};return x=new Tn.fabric.Canvas(t,g),x.hoverCursor="default",x.selection=!1,h(),x},h=async()=>{for(const g in e.gene)await i(g,e.gene[g])},i=(g,m)=>{const y=`${m.variant}`;return new Promise(_=>{Tn.fabric.loadSVGFromURL(d(y),(S,T)=>{const A=Tn.fabric.util.groupSVGElements(S,T);o(y,m,A),a(g,A),u(A),x.add(A),x.renderAll(),_(A)})})},o=(g,m,y)=>{if(!m.color)return;zm[g].colorable.forEach(S=>{y._objects?y._objects[S].set("fill",m.color):y.set("fill",m.color)})},a=(g,m)=>{m.set({originX:"center",originY:"center"}),m.set(f[g])},u=g=>{g.set({selectable:!1,hasControl:!1})},d=g=>new URL(Object.assign({"../assets/approval.svg":CS,"../assets/ear1.svg":SS,"../assets/ear2.svg":bS,"../assets/eye1.svg":TS,"../assets/head1.svg":ES,"../assets/key.svg":kS,"../assets/mouth1.svg":OS,"../assets/muzzle1.svg":PS,"../assets/nose1.svg":AS,"../assets/proposal.svg":MS})[`../assets/${g}.svg`],self.location).href;return vt(Fn,{children:[W(Cn,{className:"justify-content-md-center",children:W(sn,{md:"auto",children:W("canvas",{width:"300",height:"300",id:t,style:{borderRadius:"1em",border:"3px solid black"}})})}),W(Cn,{className:"justify-content-md-center",children:W(sn,{md:"auto",children:W(Rn,{onClick:()=>{const g=Zr.generateDogPNGWithMetadata(e,x),m=document.createElement("a");m.download="image.png",m.href=g,document.body.appendChild(m),m.click(),document.body.removeChild(m)},style:{margin:"1em"},children:"download"})})})]})},al=e=>vt(Us,{"aria-labelledby":"contained-modal-title-vcenter",backdrop:"static",keyboard:!1,show:e.show,onHide:e.onHide,children:[W(Us.Header,{closeButton:!0,className:"text-center",children:W(Us.Title,{id:"contained-modal-title-vcenter",children:e.title})}),W(Us.Body,{children:e.content})]}),uu=e=>{const t=()=>{const r=document.createElement("a");r.download="image.png",r.href=e.imageDataURL,document.body.appendChild(r),r.click(),document.body.removeChild(r)};return vt(Fn,{children:[W(Cn,{className:"justify-content-md-center",children:W(sn,{md:"auto",children:e.imageDataURL!==null&&W("img",{src:e.imageDataURL})})}),W(Cn,{className:"justify-content-md-center",children:W(sn,{md:"auto",children:W(Rn,{onClick:t,style:{margin:"1em"},children:"download"})})})]})},wE=()=>{const[e,t]=$.useState(null),[r,s]=$.useState(null),[p,v]=$.useState(!1),x=async()=>{const[n,c]=await na.buildAdoptedDog();t(n),s(c),v(!0)},f=n=>new URL(Object.assign({"../assets/approve.png":Im,"../assets/map.png":Nm,"../assets/propose.png":jm,"../assets/puppy.png":Bm})[`../assets/${n}.png`],self.location).href;return vt(Fn,{children:[W(al,{show:p,onHide:()=>v(!1),title:"Dog found!",content:vt("div",{children:[e&&W(M1,{dog:e,id:"dogNew"}),r&&W(uu,{imageDataURL:r})]})}),W("h1",{style:{padding:"0.5em 0 0.5em 0"},className:"text-center",children:"Adopt"}),W("p",{className:"text-center",children:"Adopt a new dog!"}),W(Cn,{className:"justify-content-md-center text-center",children:W(sn,{md:"auto",children:W(sr,{style:{width:"18rem",cursor:"pointer"},onClick:x,children:vt(sr.Body,{className:"justify-content-md-center",children:[W(sr.Title,{className:"text-center",children:"Look Around"}),W(sr.Subtitle,{className:"mb-2 text-muted",children:"Find nearby puppies"}),W(sr.Text,{className:"text-center",children:"There might be a good dog waiting for you!"}),W("img",{src:f("map"),style:{width:"15rem"}}),W(Rn,{onClick:x,style:{margin:"1em"},children:"Adopt a dog!"})]})})})})]})},CE=()=>vt(Fn,{children:[W(Cn,{className:"justify-content-md-center",children:W(sn,{md:"auto",children:W("img",{src:"/logo.svg",width:"100",height:"100",className:"text-center",style:{margin:"1em"}})})}),W(Cn,{children:W(sn,{children:W("h1",{style:{padding:"0.5em 0 0.5em 0"},className:"text-center",children:"Pawgenics"})})}),W(Cn,{children:W(sn,{children:W("p",{className:"text-center",children:"Adopt & breed adorable digital puppies!"})})}),W(Cn,{className:"justify-content-md-center",children:W(sn,{md:"auto",children:W(nl,{to:"/adopt",children:W(Rn,{children:"Adopt Your Puppies!"})})})})]});var Jo={},SE={get exports(){return Jo},set exports(e){Jo=e}},zt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xr=typeof Symbol=="function"&&Symbol.for,md=xr?Symbol.for("react.element"):60103,yd=xr?Symbol.for("react.portal"):60106,cu=xr?Symbol.for("react.fragment"):60107,fu=xr?Symbol.for("react.strict_mode"):60108,hu=xr?Symbol.for("react.profiler"):60114,du=xr?Symbol.for("react.provider"):60109,pu=xr?Symbol.for("react.context"):60110,xd=xr?Symbol.for("react.async_mode"):60111,gu=xr?Symbol.for("react.concurrent_mode"):60111,vu=xr?Symbol.for("react.forward_ref"):60112,mu=xr?Symbol.for("react.suspense"):60113,bE=xr?Symbol.for("react.suspense_list"):60120,yu=xr?Symbol.for("react.memo"):60115,xu=xr?Symbol.for("react.lazy"):60116,TE=xr?Symbol.for("react.block"):60121,EE=xr?Symbol.for("react.fundamental"):60117,kE=xr?Symbol.for("react.responder"):60118,OE=xr?Symbol.for("react.scope"):60119;function tn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case md:switch(e=e.type,e){case xd:case gu:case cu:case hu:case fu:case mu:return e;default:switch(e=e&&e.$$typeof,e){case pu:case vu:case xu:case yu:case du:return e;default:return t}}case yd:return t}}}function D1(e){return tn(e)===gu}zt.AsyncMode=xd;zt.ConcurrentMode=gu;zt.ContextConsumer=pu;zt.ContextProvider=du;zt.Element=md;zt.ForwardRef=vu;zt.Fragment=cu;zt.Lazy=xu;zt.Memo=yu;zt.Portal=yd;zt.Profiler=hu;zt.StrictMode=fu;zt.Suspense=mu;zt.isAsyncMode=function(e){return D1(e)||tn(e)===xd};zt.isConcurrentMode=D1;zt.isContextConsumer=function(e){return tn(e)===pu};zt.isContextProvider=function(e){return tn(e)===du};zt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===md};zt.isForwardRef=function(e){return tn(e)===vu};zt.isFragment=function(e){return tn(e)===cu};zt.isLazy=function(e){return tn(e)===xu};zt.isMemo=function(e){return tn(e)===yu};zt.isPortal=function(e){return tn(e)===yd};zt.isProfiler=function(e){return tn(e)===hu};zt.isStrictMode=function(e){return tn(e)===fu};zt.isSuspense=function(e){return tn(e)===mu};zt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===cu||e===gu||e===hu||e===fu||e===mu||e===bE||typeof e=="object"&&e!==null&&(e.$$typeof===xu||e.$$typeof===yu||e.$$typeof===du||e.$$typeof===pu||e.$$typeof===vu||e.$$typeof===EE||e.$$typeof===kE||e.$$typeof===OE||e.$$typeof===TE)};zt.typeOf=tn;(function(e){e.exports=zt})(SE);function PE(e){function t(F,U,L,k,D){for(var K=0,G=0,Z=0,le=0,ne,he,ie=0,X=0,ue,de=ue=ne=0,te=0,pe=0,Pe=0,Ue=0,$e=L.length,ge=$e-1,je,Ae="",Re="",ft="",ht="",Dt;te<$e;){if(he=L.charCodeAt(te),te===ge&&G+le+Z+K!==0&&(G!==0&&(he=G===47?10:47),le=Z=K=0,$e++,ge++),G+le+Z+K===0){if(te===ge&&(0<pe&&(Ae=Ae.replace(o,"")),0<Ae.trim().length)){switch(he){case 32:case 9:case 59:case 13:case 10:break;default:Ae+=L.charAt(te)}he=59}switch(he){case 123:for(Ae=Ae.trim(),ne=Ae.charCodeAt(0),ue=1,Ue=++te;te<$e;){switch(he=L.charCodeAt(te)){case 123:ue++;break;case 125:ue--;break;case 47:switch(he=L.charCodeAt(te+1)){case 42:case 47:e:{for(de=te+1;de<ge;++de)switch(L.charCodeAt(de)){case 47:if(he===42&&L.charCodeAt(de-1)===42&&te+2!==de){te=de+1;break e}break;case 10:if(he===47){te=de+1;break e}}te=de}}break;case 91:he++;case 40:he++;case 34:case 39:for(;te++<ge&&L.charCodeAt(te)!==he;);}if(ue===0)break;te++}switch(ue=L.substring(Ue,te),ne===0&&(ne=(Ae=Ae.replace(i,"").trim()).charCodeAt(0)),ne){case 64:switch(0<pe&&(Ae=Ae.replace(o,"")),he=Ae.charCodeAt(1),he){case 100:case 109:case 115:case 45:pe=U;break;default:pe=Oe}if(ue=t(U,pe,ue,he,D+1),Ue=ue.length,0<ee&&(pe=r(Oe,Ae,Pe),Dt=f(3,ue,pe,U,Te,we,Ue,he,D,k),Ae=pe.join(""),Dt!==void 0&&(Ue=(ue=Dt.trim()).length)===0&&(he=0,ue="")),0<Ue)switch(he){case 115:Ae=Ae.replace(T,x);case 100:case 109:case 45:ue=Ae+"{"+ue+"}";break;case 107:Ae=Ae.replace(m,"$1 $2"),ue=Ae+"{"+ue+"}",ue=xe===1||xe===2&&v("@"+ue,3)?"@-webkit-"+ue+"@"+ue:"@"+ue;break;default:ue=Ae+ue,k===112&&(ue=(Re+=ue,""))}else ue="";break;default:ue=t(U,r(U,Ae,Pe),ue,k,D+1)}ft+=ue,ue=Pe=pe=de=ne=0,Ae="",he=L.charCodeAt(++te);break;case 125:case 59:if(Ae=(0<pe?Ae.replace(o,""):Ae).trim(),1<(Ue=Ae.length))switch(de===0&&(ne=Ae.charCodeAt(0),ne===45||96<ne&&123>ne)&&(Ue=(Ae=Ae.replace(" ",":")).length),0<ee&&(Dt=f(1,Ae,U,F,Te,we,Re.length,k,D,k))!==void 0&&(Ue=(Ae=Dt.trim()).length)===0&&(Ae="\0\0"),ne=Ae.charCodeAt(0),he=Ae.charCodeAt(1),ne){case 0:break;case 64:if(he===105||he===99){ht+=Ae+L.charAt(te);break}default:Ae.charCodeAt(Ue-1)!==58&&(Re+=p(Ae,ne,he,Ae.charCodeAt(2)))}Pe=pe=de=ne=0,Ae="",he=L.charCodeAt(++te)}}switch(he){case 13:case 10:G===47?G=0:1+ne===0&&k!==107&&0<Ae.length&&(pe=1,Ae+="\0"),0<ee*j&&f(0,Ae,U,F,Te,we,Re.length,k,D,k),we=1,Te++;break;case 59:case 125:if(G+le+Z+K===0){we++;break}default:switch(we++,je=L.charAt(te),he){case 9:case 32:if(le+K+G===0)switch(ie){case 44:case 58:case 9:case 32:je="";break;default:he!==32&&(je=" ")}break;case 0:je="\\0";break;case 12:je="\\f";break;case 11:je="\\v";break;case 38:le+G+K===0&&(pe=Pe=1,je="\f"+je);break;case 108:if(le+G+K+Ce===0&&0<de)switch(te-de){case 2:ie===112&&L.charCodeAt(te-3)===58&&(Ce=ie);case 8:X===111&&(Ce=X)}break;case 58:le+G+K===0&&(de=te);break;case 44:G+Z+le+K===0&&(pe=1,je+="\r");break;case 34:case 39:G===0&&(le=le===he?0:le===0?he:le);break;case 91:le+G+Z===0&&K++;break;case 93:le+G+Z===0&&K--;break;case 41:le+G+K===0&&Z--;break;case 40:if(le+G+K===0){if(ne===0)switch(2*ie+3*X){case 533:break;default:ne=1}Z++}break;case 64:G+Z+le+K+de+ue===0&&(ue=1);break;case 42:case 47:if(!(0<le+K+Z))switch(G){case 0:switch(2*he+3*L.charCodeAt(te+1)){case 235:G=47;break;case 220:Ue=te,G=42}break;case 42:he===47&&ie===42&&Ue+2!==te&&(L.charCodeAt(Ue+2)===33&&(Re+=L.substring(Ue,te+1)),je="",G=0)}}G===0&&(Ae+=je)}X=ie,ie=he,te++}if(Ue=Re.length,0<Ue){if(pe=U,0<ee&&(Dt=f(2,Re,pe,F,Te,we,Ue,k,D,k),Dt!==void 0&&(Re=Dt).length===0))return ht+Re+ft;if(Re=pe.join(",")+"{"+Re+"}",xe*Ce!==0){switch(xe!==2||v(Re,2)||(Ce=0),Ce){case 111:Re=Re.replace(_,":-moz-$1")+Re;break;case 112:Re=Re.replace(y,"::-webkit-input-$1")+Re.replace(y,"::-moz-$1")+Re.replace(y,":-ms-input-$1")+Re}Ce=0}}return ht+Re+ft}function r(F,U,L){var k=U.trim().split(l);U=k;var D=k.length,K=F.length;switch(K){case 0:case 1:var G=0;for(F=K===0?"":F[0]+" ";G<D;++G)U[G]=s(F,U[G],L).trim();break;default:var Z=G=0;for(U=[];G<D;++G)for(var le=0;le<K;++le)U[Z++]=s(F[le]+" ",k[G],L).trim()}return U}function s(F,U,L){var k=U.charCodeAt(0);switch(33>k&&(k=(U=U.trim()).charCodeAt(0)),k){case 38:return U.replace(g,"$1"+F.trim());case 58:return F.trim()+U.replace(g,"$1"+F.trim());default:if(0<1*L&&0<U.indexOf("\f"))return U.replace(g,(F.charCodeAt(0)===58?"":"$1")+F.trim())}return F+U}function p(F,U,L,k){var D=F+";",K=2*U+3*L+4*k;if(K===944){F=D.indexOf(":",9)+1;var G=D.substring(F,D.length-1).trim();return G=D.substring(0,F).trim()+G+";",xe===1||xe===2&&v(G,1)?"-webkit-"+G+G:G}if(xe===0||xe===2&&!v(D,1))return D;switch(K){case 1015:return D.charCodeAt(10)===97?"-webkit-"+D+D:D;case 951:return D.charCodeAt(3)===116?"-webkit-"+D+D:D;case 963:return D.charCodeAt(5)===110?"-webkit-"+D+D:D;case 1009:if(D.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+D+D;case 978:return"-webkit-"+D+"-moz-"+D+D;case 1019:case 983:return"-webkit-"+D+"-moz-"+D+"-ms-"+D+D;case 883:if(D.charCodeAt(8)===45)return"-webkit-"+D+D;if(0<D.indexOf("image-set(",11))return D.replace(ve,"$1-webkit-$2")+D;break;case 932:if(D.charCodeAt(4)===45)switch(D.charCodeAt(5)){case 103:return"-webkit-box-"+D.replace("-grow","")+"-webkit-"+D+"-ms-"+D.replace("grow","positive")+D;case 115:return"-webkit-"+D+"-ms-"+D.replace("shrink","negative")+D;case 98:return"-webkit-"+D+"-ms-"+D.replace("basis","preferred-size")+D}return"-webkit-"+D+"-ms-"+D+D;case 964:return"-webkit-"+D+"-ms-flex-"+D+D;case 1023:if(D.charCodeAt(8)!==99)break;return G=D.substring(D.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+G+"-webkit-"+D+"-ms-flex-pack"+G+D;case 1005:return u.test(D)?D.replace(a,":-webkit-")+D.replace(a,":-moz-")+D:D;case 1e3:switch(G=D.substring(13).trim(),U=G.indexOf("-")+1,G.charCodeAt(0)+G.charCodeAt(U)){case 226:G=D.replace(S,"tb");break;case 232:G=D.replace(S,"tb-rl");break;case 220:G=D.replace(S,"lr");break;default:return D}return"-webkit-"+D+"-ms-"+G+D;case 1017:if(D.indexOf("sticky",9)===-1)break;case 975:switch(U=(D=F).length-10,G=(D.charCodeAt(U)===33?D.substring(0,U):D).substring(F.indexOf(":",7)+1).trim(),K=G.charCodeAt(0)+(G.charCodeAt(7)|0)){case 203:if(111>G.charCodeAt(8))break;case 115:D=D.replace(G,"-webkit-"+G)+";"+D;break;case 207:case 102:D=D.replace(G,"-webkit-"+(102<K?"inline-":"")+"box")+";"+D.replace(G,"-webkit-"+G)+";"+D.replace(G,"-ms-"+G+"box")+";"+D}return D+";";case 938:if(D.charCodeAt(5)===45)switch(D.charCodeAt(6)){case 105:return G=D.replace("-items",""),"-webkit-"+D+"-webkit-box-"+G+"-ms-flex-"+G+D;case 115:return"-webkit-"+D+"-ms-flex-item-"+D.replace(N,"")+D;default:return"-webkit-"+D+"-ms-flex-line-pack"+D.replace("align-content","").replace(N,"")+D}break;case 973:case 989:if(D.charCodeAt(3)!==45||D.charCodeAt(4)===122)break;case 931:case 953:if(re.test(F)===!0)return(G=F.substring(F.indexOf(":")+1)).charCodeAt(0)===115?p(F.replace("stretch","fill-available"),U,L,k).replace(":fill-available",":stretch"):D.replace(G,"-webkit-"+G)+D.replace(G,"-moz-"+G.replace("fill-",""))+D;break;case 962:if(D="-webkit-"+D+(D.charCodeAt(5)===102?"-ms-"+D:"")+D,L+k===211&&D.charCodeAt(13)===105&&0<D.indexOf("transform",10))return D.substring(0,D.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+D}return D}function v(F,U){var L=F.indexOf(U===1?":":"{"),k=F.substring(0,U!==3?L:10);return L=F.substring(L+1,F.length-1),O(U!==2?k:k.replace(Q,"$1"),L,U)}function x(F,U){var L=p(U,U.charCodeAt(0),U.charCodeAt(1),U.charCodeAt(2));return L!==U+";"?L.replace(A," or ($1)").substring(4):"("+U+")"}function f(F,U,L,k,D,K,G,Z,le,ne){for(var he=0,ie=U,X;he<ee;++he)switch(X=me[he].call(h,F,ie,L,k,D,K,G,Z,le,ne)){case void 0:case!1:case!0:case null:break;default:ie=X}if(ie!==U)return ie}function n(F){switch(F){case void 0:case null:ee=me.length=0;break;default:if(typeof F=="function")me[ee++]=F;else if(typeof F=="object")for(var U=0,L=F.length;U<L;++U)n(F[U]);else j=!!F|0}return n}function c(F){return F=F.prefix,F!==void 0&&(O=null,F?typeof F!="function"?xe=1:(xe=2,O=F):xe=0),c}function h(F,U){var L=F;if(33>L.charCodeAt(0)&&(L=L.trim()),z=L,L=[z],0<ee){var k=f(-1,U,L,L,Te,we,0,0,0,0);k!==void 0&&typeof k=="string"&&(U=k)}var D=t(Oe,L,U,0,0);return 0<ee&&(k=f(-2,D,L,L,Te,we,D.length,0,0,0),k!==void 0&&(D=k)),z="",Ce=0,we=Te=1,D}var i=/^\0+/g,o=/[\0\r\f]/g,a=/: */g,u=/zoo|gra/,d=/([,: ])(transform)/g,l=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,_=/:(read-only)/g,S=/[svh]\w+-[tblr]{2}/,T=/\(\s*(.*)\s*\)/g,A=/([\s\S]*?);/g,N=/-self|flex-/g,Q=/[^]*?(:[rp][el]a[\w-]+)[^]*/,re=/stretch|:\s*\w+\-(?:conte|avail)/,ve=/([^-])(image-set\()/,we=1,Te=1,Ce=0,xe=1,Oe=[],me=[],ee=0,O=null,j=0,z="";return h.use=n,h.set=c,e!==void 0&&c(e),h}var AE={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function ME(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var DE=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,tv=ME(function(e){return DE.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),_d=Jo,RE={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},LE={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FE={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},R1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wd={};wd[_d.ForwardRef]=FE;wd[_d.Memo]=R1;function rv(e){return _d.isMemo(e)?R1:wd[e.$$typeof]||RE}var IE=Object.defineProperty,NE=Object.getOwnPropertyNames,nv=Object.getOwnPropertySymbols,jE=Object.getOwnPropertyDescriptor,BE=Object.getPrototypeOf,iv=Object.prototype;function L1(e,t,r){if(typeof t!="string"){if(iv){var s=BE(t);s&&s!==iv&&L1(e,s,r)}var p=NE(t);nv&&(p=p.concat(nv(t)));for(var v=rv(e),x=rv(t),f=0;f<p.length;++f){var n=p[f];if(!LE[n]&&!(r&&r[n])&&!(x&&x[n])&&!(v&&v[n])){var c=jE(t,n);try{IE(e,n,c)}catch{}}}}return e}var zE=L1;function Gn(){return(Gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}var av=function(e,t){for(var r=[e[0]],s=0,p=t.length;s<p;s+=1)r.push(t[s],e[s+1]);return r},Wf=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!Jo.typeOf(e)},Nl=Object.freeze([]),Ti=Object.freeze({});function es(e){return typeof e=="function"}function ov(e){return e.displayName||e.name||"Component"}function Cd(e){return e&&typeof e.styledComponentId=="string"}var Wa=typeof process<"u"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",Sd=typeof window<"u"&&"HTMLElement"in window,UE=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""?{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY:!1);function cs(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var HE=function(){function e(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}var t=e.prototype;return t.indexOfGroup=function(r){for(var s=0,p=0;p<r;p++)s+=this.groupSizes[p];return s},t.insertRules=function(r,s){if(r>=this.groupSizes.length){for(var p=this.groupSizes,v=p.length,x=v;r>=x;)(x<<=1)<0&&cs(16,""+r);this.groupSizes=new Uint32Array(x),this.groupSizes.set(p),this.length=x;for(var f=v;f<x;f++)this.groupSizes[f]=0}for(var n=this.indexOfGroup(r+1),c=0,h=s.length;c<h;c++)this.tag.insertRule(n,s[c])&&(this.groupSizes[r]++,n++)},t.clearGroup=function(r){if(r<this.length){var s=this.groupSizes[r],p=this.indexOfGroup(r),v=p+s;this.groupSizes[r]=0;for(var x=p;x<v;x++)this.tag.deleteRule(p)}},t.getGroup=function(r){var s="";if(r>=this.length||this.groupSizes[r]===0)return s;for(var p=this.groupSizes[r],v=this.indexOfGroup(r),x=v+p,f=v;f<x;f++)s+=this.tag.getRule(f)+`/*!sc*/
`;return s},e}(),ol=new Map,jl=new Map,Mo=1,Hs=function(e){if(ol.has(e))return ol.get(e);for(;jl.has(Mo);)Mo++;var t=Mo++;return ol.set(e,t),jl.set(t,e),t},$E=function(e){return jl.get(e)},YE=function(e,t){t>=Mo&&(Mo=t+1),ol.set(e,t),jl.set(t,e)},WE="style["+Wa+'][data-styled-version="5.3.6"]',GE=new RegExp("^"+Wa+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),XE=function(e,t,r){for(var s,p=r.split(","),v=0,x=p.length;v<x;v++)(s=p[v])&&e.registerName(t,s)},VE=function(e,t){for(var r=(t.textContent||"").split(`/*!sc*/
`),s=[],p=0,v=r.length;p<v;p++){var x=r[p].trim();if(x){var f=x.match(GE);if(f){var n=0|parseInt(f[1],10),c=f[2];n!==0&&(YE(c,n),XE(e,c,f[3]),e.getTag().insertRules(n,s)),s.length=0}else s.push(x)}}},KE=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},F1=function(e){var t=document.head,r=e||t,s=document.createElement("style"),p=function(f){for(var n=f.childNodes,c=n.length;c>=0;c--){var h=n[c];if(h&&h.nodeType===1&&h.hasAttribute(Wa))return h}}(r),v=p!==void 0?p.nextSibling:null;s.setAttribute(Wa,"active"),s.setAttribute("data-styled-version","5.3.6");var x=KE();return x&&s.setAttribute("nonce",x),r.insertBefore(s,v),s},qE=function(){function e(r){var s=this.element=F1(r);s.appendChild(document.createTextNode("")),this.sheet=function(p){if(p.sheet)return p.sheet;for(var v=document.styleSheets,x=0,f=v.length;x<f;x++){var n=v[x];if(n.ownerNode===p)return n}cs(17)}(s),this.length=0}var t=e.prototype;return t.insertRule=function(r,s){try{return this.sheet.insertRule(s,r),this.length++,!0}catch{return!1}},t.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},t.getRule=function(r){var s=this.sheet.cssRules[r];return s!==void 0&&typeof s.cssText=="string"?s.cssText:""},e}(),QE=function(){function e(r){var s=this.element=F1(r);this.nodes=s.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(r,s){if(r<=this.length&&r>=0){var p=document.createTextNode(s),v=this.nodes[r];return this.element.insertBefore(p,v||null),this.length++,!0}return!1},t.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},t.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},e}(),ZE=function(){function e(r){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(r,s){return r<=this.length&&(this.rules.splice(r,0,s),this.length++,!0)},t.deleteRule=function(r){this.rules.splice(r,1),this.length--},t.getRule=function(r){return r<this.length?this.rules[r]:""},e}(),sv=Sd,JE={isServer:!Sd,useCSSOMInjection:!UE},I1=function(){function e(r,s,p){r===void 0&&(r=Ti),s===void 0&&(s={}),this.options=Gn({},JE,{},r),this.gs=s,this.names=new Map(p),this.server=!!r.isServer,!this.server&&Sd&&sv&&(sv=!1,function(v){for(var x=document.querySelectorAll(WE),f=0,n=x.length;f<n;f++){var c=x[f];c&&c.getAttribute(Wa)!=="active"&&(VE(v,c),c.parentNode&&c.parentNode.removeChild(c))}}(this))}e.registerId=function(r){return Hs(r)};var t=e.prototype;return t.reconstructWithOptions=function(r,s){return s===void 0&&(s=!0),new e(Gn({},this.options,{},r),this.gs,s&&this.names||void 0)},t.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},t.getTag=function(){return this.tag||(this.tag=(p=(s=this.options).isServer,v=s.useCSSOMInjection,x=s.target,r=p?new ZE(x):v?new qE(x):new QE(x),new HE(r)));var r,s,p,v,x},t.hasNameForId=function(r,s){return this.names.has(r)&&this.names.get(r).has(s)},t.registerName=function(r,s){if(Hs(r),this.names.has(r))this.names.get(r).add(s);else{var p=new Set;p.add(s),this.names.set(r,p)}},t.insertRules=function(r,s,p){this.registerName(r,s),this.getTag().insertRules(Hs(r),p)},t.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},t.clearRules=function(r){this.getTag().clearGroup(Hs(r)),this.clearNames(r)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(r){for(var s=r.getTag(),p=s.length,v="",x=0;x<p;x++){var f=$E(x);if(f!==void 0){var n=r.names.get(f),c=s.getGroup(x);if(n&&c&&n.size){var h=Wa+".g"+x+'[id="'+f+'"]',i="";n!==void 0&&n.forEach(function(o){o.length>0&&(i+=o+",")}),v+=""+c+h+'{content:"'+i+`"}/*!sc*/
`}}}return v}(this)},e}(),ek=/(a)(d)/gi,lv=function(e){return String.fromCharCode(e+(e>25?39:97))};function Gf(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=lv(t%52)+r;return(lv(t%52)+r).replace(ek,"$1-$2")}var Pa=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},N1=function(e){return Pa(5381,e)};function tk(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(es(r)&&!Cd(r))return!1}return!0}var rk=N1("5.3.6"),nk=function(){function e(t,r,s){this.rules=t,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&tk(t),this.componentId=r,this.baseHash=Pa(rk,r),this.baseStyle=s,I1.registerId(r)}return e.prototype.generateAndInjectStyles=function(t,r,s){var p=this.componentId,v=[];if(this.baseStyle&&v.push(this.baseStyle.generateAndInjectStyles(t,r,s)),this.isStatic&&!s.hash)if(this.staticRulesId&&r.hasNameForId(p,this.staticRulesId))v.push(this.staticRulesId);else{var x=Ga(this.rules,t,r,s).join(""),f=Gf(Pa(this.baseHash,x)>>>0);if(!r.hasNameForId(p,f)){var n=s(x,"."+f,void 0,p);r.insertRules(p,f,n)}v.push(f),this.staticRulesId=f}else{for(var c=this.rules.length,h=Pa(this.baseHash,s.hash),i="",o=0;o<c;o++){var a=this.rules[o];if(typeof a=="string")i+=a;else if(a){var u=Ga(a,t,r,s),d=Array.isArray(u)?u.join(""):u;h=Pa(h,d+o),i+=d}}if(i){var l=Gf(h>>>0);if(!r.hasNameForId(p,l)){var g=s(i,"."+l,void 0,p);r.insertRules(p,l,g)}v.push(l)}}return v.join(" ")},e}(),ik=/^\s*\/\/.*$/gm,ak=[":","[",".","#"];function ok(e){var t,r,s,p,v=e===void 0?Ti:e,x=v.options,f=x===void 0?Ti:x,n=v.plugins,c=n===void 0?Nl:n,h=new PE(f),i=[],o=function(d){function l(g){if(g)try{d(g+"}")}catch{}}return function(g,m,y,_,S,T,A,N,Q,re){switch(g){case 1:if(Q===0&&m.charCodeAt(0)===64)return d(m+";"),"";break;case 2:if(N===0)return m+"/*|*/";break;case 3:switch(N){case 102:case 112:return d(y[0]+m),"";default:return m+(re===0?"/*|*/":"")}case-2:m.split("/*|*/}").forEach(l)}}}(function(d){i.push(d)}),a=function(d,l,g){return l===0&&ak.indexOf(g[r.length])!==-1||g.match(p)?d:"."+t};function u(d,l,g,m){m===void 0&&(m="&");var y=d.replace(ik,""),_=l&&g?g+" "+l+" { "+y+" }":y;return t=m,r=l,s=new RegExp("\\"+r+"\\b","g"),p=new RegExp("(\\"+r+"\\b){2,}"),h(g||!l?"":l,_)}return h.use([].concat(c,[function(d,l,g){d===2&&g.length&&g[0].lastIndexOf(r)>0&&(g[0]=g[0].replace(s,a))},o,function(d){if(d===-2){var l=i;return i=[],l}}])),u.hash=c.length?c.reduce(function(d,l){return l.name||cs(15),Pa(d,l.name)},5381).toString():"",u}var j1=Ir.createContext();j1.Consumer;var B1=Ir.createContext(),sk=(B1.Consumer,new I1),Xf=ok();function lk(){return $.useContext(j1)||sk}function uk(){return $.useContext(B1)||Xf}var ck=function(){function e(t,r){var s=this;this.inject=function(p,v){v===void 0&&(v=Xf);var x=s.name+v.hash;p.hasNameForId(s.id,x)||p.insertRules(s.id,x,v(s.rules,x,"@keyframes"))},this.toString=function(){return cs(12,String(s.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=r}return e.prototype.getName=function(t){return t===void 0&&(t=Xf),this.name+t.hash},e}(),fk=/([A-Z])/,hk=/([A-Z])/g,dk=/^ms-/,pk=function(e){return"-"+e.toLowerCase()};function uv(e){return fk.test(e)?e.replace(hk,pk).replace(dk,"-ms-"):e}var cv=function(e){return e==null||e===!1||e===""};function Ga(e,t,r,s){if(Array.isArray(e)){for(var p,v=[],x=0,f=e.length;x<f;x+=1)(p=Ga(e[x],t,r,s))!==""&&(Array.isArray(p)?v.push.apply(v,p):v.push(p));return v}if(cv(e))return"";if(Cd(e))return"."+e.styledComponentId;if(es(e)){if(typeof(c=e)!="function"||c.prototype&&c.prototype.isReactComponent||!t)return e;var n=e(t);return Ga(n,t,r,s)}var c;return e instanceof ck?r?(e.inject(r,s),e.getName(s)):e:Wf(e)?function h(i,o){var a,u,d=[];for(var l in i)i.hasOwnProperty(l)&&!cv(i[l])&&(Array.isArray(i[l])&&i[l].isCss||es(i[l])?d.push(uv(l)+":",i[l],";"):Wf(i[l])?d.push.apply(d,h(i[l],l)):d.push(uv(l)+": "+(a=l,(u=i[l])==null||typeof u=="boolean"||u===""?"":typeof u!="number"||u===0||a in AE?String(u).trim():u+"px")+";"));return o?[o+" {"].concat(d,["}"]):d}(e):e.toString()}var fv=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function z1(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return es(e)||Wf(e)?fv(Ga(av(Nl,[e].concat(r)))):r.length===0&&e.length===1&&typeof e[0]=="string"?e:fv(Ga(av(e,r)))}var gk=function(e,t,r){return r===void 0&&(r=Ti),e.theme!==r.theme&&e.theme||t||r.theme},vk=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,mk=/(^-|-$)/g;function Ac(e){return e.replace(vk,"-").replace(mk,"")}var yk=function(e){return Gf(N1(e)>>>0)};function $s(e){return typeof e=="string"&&!0}var Vf=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},xk=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function _k(e,t,r){var s=e[r];Vf(t)&&Vf(s)?U1(s,t):e[r]=t}function U1(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];for(var p=0,v=r;p<v.length;p++){var x=v[p];if(Vf(x))for(var f in x)xk(f)&&_k(e,x[f],f)}return e}var H1=Ir.createContext();H1.Consumer;var Mc={};function $1(e,t,r){var s=Cd(e),p=!$s(e),v=t.attrs,x=v===void 0?Nl:v,f=t.componentId,n=f===void 0?function(m,y){var _=typeof m!="string"?"sc":Ac(m);Mc[_]=(Mc[_]||0)+1;var S=_+"-"+yk("5.3.6"+_+Mc[_]);return y?y+"-"+S:S}(t.displayName,t.parentComponentId):f,c=t.displayName,h=c===void 0?function(m){return $s(m)?"styled."+m:"Styled("+ov(m)+")"}(e):c,i=t.displayName&&t.componentId?Ac(t.displayName)+"-"+t.componentId:t.componentId||n,o=s&&e.attrs?Array.prototype.concat(e.attrs,x).filter(Boolean):x,a=t.shouldForwardProp;s&&e.shouldForwardProp&&(a=t.shouldForwardProp?function(m,y,_){return e.shouldForwardProp(m,y,_)&&t.shouldForwardProp(m,y,_)}:e.shouldForwardProp);var u,d=new nk(r,i,s?e.componentStyle:void 0),l=d.isStatic&&x.length===0,g=function(m,y){return function(_,S,T,A){var N=_.attrs,Q=_.componentStyle,re=_.defaultProps,ve=_.foldedComponentIds,we=_.shouldForwardProp,Te=_.styledComponentId,Ce=_.target,xe=function(k,D,K){k===void 0&&(k=Ti);var G=Gn({},D,{theme:k}),Z={};return K.forEach(function(le){var ne,he,ie,X=le;for(ne in es(X)&&(X=X(G)),X)G[ne]=Z[ne]=ne==="className"?(he=Z[ne],ie=X[ne],he&&ie?he+" "+ie:he||ie):X[ne]}),[G,Z]}(gk(S,$.useContext(H1),re)||Ti,S,N),Oe=xe[0],me=xe[1],ee=function(k,D,K,G){var Z=lk(),le=uk(),ne=D?k.generateAndInjectStyles(Ti,Z,le):k.generateAndInjectStyles(K,Z,le);return ne}(Q,A,Oe),O=T,j=me.$as||S.$as||me.as||S.as||Ce,z=$s(j),F=me!==S?Gn({},S,{},me):S,U={};for(var L in F)L[0]!=="$"&&L!=="as"&&(L==="forwardedAs"?U.as=F[L]:(we?we(L,tv,j):!z||tv(L))&&(U[L]=F[L]));return S.style&&me.style!==S.style&&(U.style=Gn({},S.style,{},me.style)),U.className=Array.prototype.concat(ve,Te,ee!==Te?ee:null,S.className,me.className).filter(Boolean).join(" "),U.ref=O,$.createElement(j,U)}(u,m,y,l)};return g.displayName=h,(u=Ir.forwardRef(g)).attrs=o,u.componentStyle=d,u.displayName=h,u.shouldForwardProp=a,u.foldedComponentIds=s?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Nl,u.styledComponentId=i,u.target=s?e.target:e,u.withComponent=function(m){var y=t.componentId,_=function(T,A){if(T==null)return{};var N,Q,re={},ve=Object.keys(T);for(Q=0;Q<ve.length;Q++)N=ve[Q],A.indexOf(N)>=0||(re[N]=T[N]);return re}(t,["componentId"]),S=y&&y+"-"+($s(m)?m:Ac(ov(m)));return $1(m,Gn({},_,{attrs:o,componentId:S}),r)},Object.defineProperty(u,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(m){this._foldedDefaultProps=s?U1({},e.defaultProps,m):m}}),u.toString=function(){return"."+u.styledComponentId},p&&zE(u,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),u}var Kf=function(e){return function t(r,s,p){if(p===void 0&&(p=Ti),!Jo.isValidElementType(s))return cs(1,String(s));var v=function(){return r(s,p,z1.apply(void 0,arguments))};return v.withConfig=function(x){return t(r,s,Gn({},p,{},x))},v.attrs=function(x){return t(r,s,Gn({},p,{attrs:Array.prototype.concat(p.attrs,x).filter(Boolean)}))},v}($1,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){Kf[e]=Kf(e)});const _u=Kf;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xi=function(){return Xi=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var p in t=arguments[r])Object.prototype.hasOwnProperty.call(t,p)&&(e[p]=t[p]);return e},Xi.apply(this,arguments)};function fs(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var hv,dv,pv,gv,vv,wk=z1(hv||(hv=fs([`
  display: flex;
  align-items: center;
  min-width: 322px;
  max-width: 508px;
  height: 48px;
  border: dashed 2px `,`;
  padding: 8px 16px 8px 8px;
  border-radius: 5px;
  cursor: pointer;
  flex-grow: 0;
`],[`
  display: flex;
  align-items: center;
  min-width: 322px;
  max-width: 508px;
  height: 48px;
  border: dashed 2px `,`;
  padding: 8px 16px 8px 8px;
  border-radius: 5px;
  cursor: pointer;
  flex-grow: 0;
`])),"#0658c2"),Ck=_u.label(dv||(dv=fs([`
  position: relative;
  `,`;
  &.is-disabled {
    border: dashed 2px `,`;
    cursor: no-drop;
    svg {
      fill: `,`;
      color: `,`;
      path {
        fill: `,`;
        color: `,`;
      }
    }
  }
  & > input {
    display: none;
  }
`],[`
  position: relative;
  `,`;
  &.is-disabled {
    border: dashed 2px `,`;
    cursor: no-drop;
    svg {
      fill: `,`;
      color: `,`;
      path {
        fill: `,`;
        color: `,`;
      }
    }
  }
  & > input {
    display: none;
  }
`])),function(e){return e.overRide?"":wk},"#666","#666","#666","#666","#666"),Sk=_u.div(pv||(pv=fs([`
  border: dashed 2px `,`;
  border-radius: 5px;
  background-color: `,`;
  opacity: 0.5;
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  & > span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
  }
`],[`
  border: dashed 2px `,`;
  border-radius: 5px;
  background-color: `,`;
  opacity: 0.5;
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  & > span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
  }
`])),"#666","#999"),bk=_u.div(gv||(gv=fs([`
  display: flex;
  justify-content: space-between;
  flex-grow: 1;
  & > span {
    font-size: 12px;
    color: `,`;
  }
  .file-types {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100px;
  }
`],[`
  display: flex;
  justify-content: space-between;
  flex-grow: 1;
  & > span {
    font-size: 12px;
    color: `,`;
  }
  .file-types {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100px;
  }
`])),function(e){return e.error?"red":"#666"}),Tk=_u.span(vv||(vv=fs([`
  font-size: 14px;
  color: `,`;
  span {
    text-decoration: underline;
  }
`],[`
  font-size: 14px;
  color: `,`;
  span {
    text-decoration: underline;
  }
`])),"#666"),mv=function(e){return e/1e3/1e3},Ek=function(e){return e===void 0?"":e.map(function(t){return".".concat(t.toLowerCase())}).join(",")};function kk(e){var t=e.types,r=e.minSize,s=e.maxSize;if(t){var p=t.toString(),v="";return s&&(v+="size >= ".concat(s,", ")),r&&(v+="size <= ".concat(r,", ")),W("span",Xi({title:"".concat(v,"types: ").concat(p),className:"file-types"},{children:p}),void 0)}return null}function Ok(){return vt("svg",Xi({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[W("path",{d:"M5.33317 6.66667H22.6665V16H25.3332V6.66667C25.3332 5.196 24.1372 4 22.6665 4H5.33317C3.8625 4 2.6665 5.196 2.6665 6.66667V22.6667C2.6665 24.1373 3.8625 25.3333 5.33317 25.3333H15.9998V22.6667H5.33317V6.66667Z",fill:"#0658C2"},void 0),W("path",{d:"M10.6665 14.6667L6.6665 20H21.3332L15.9998 12L11.9998 17.3333L10.6665 14.6667Z",fill:"#0658C2"},void 0),W("path",{d:"M25.3332 18.6667H22.6665V22.6667H18.6665V25.3333H22.6665V29.3333H25.3332V25.3333H29.3332V22.6667H25.3332V18.6667Z",fill:"#0658C2"},void 0)]}),void 0)}var Dc=0,Pk=function(e,t,r,s,p){return r?W("span",{children:"File type/size error, Hovered on types!"},void 0):W(Tk,{children:s?W("span",{children:"Upload disabled"},void 0):e||t?vt($i,{children:[W("span",{children:"Uploaded Successfully!"},void 0)," Upload another?"]},void 0):W($i,{children:vt($i,p?{children:[W("span",{children:p.split(" ")[0]},void 0)," ",p.substr(p.indexOf(" ")+1)]}:{children:[W("span",{children:"Upload"},void 0)," or drop a file right here"]},void 0)},void 0)},void 0)},Ei=function(e){var t=e.name,r=e.hoverTitle,s=e.types,p=e.handleChange,v=e.classes,x=e.children,f=e.maxSize,n=e.minSize,c=e.fileOrFiles,h=e.onSizeError,i=e.onTypeError,o=e.onSelect,a=e.onDrop,u=e.disabled,d=e.label,l=e.multiple,g=e.onDraggingStateChange,m=e.dropMessageStyle,y=$.useRef(null),_=$.useRef(null),S=$.useState(!1),T=S[0],A=S[1],N=$.useState(null),Q=N[0],re=N[1],ve=$.useState(!1),we=ve[0],Te=ve[1],Ce=function(me){return s&&!function(ee,O){var j=ee.name.split(".").pop();return O.map(function(z){return z.toLowerCase()}).includes(j.toLowerCase())}(me,s)?(Te(!0),i&&i("File type is not supported"),!1):f&&mv(me.size)>f?(Te(!0),h&&h("File size is too big"),!1):!(n&&mv(me.size)<n)||(Te(!0),h&&h("File size is too small"),!1)},xe=function(me){var ee=!1;if(me){if(me instanceof File)ee=!Ce(me);else for(var O=0;O<me.length;O++){var j=me[O];ee=!Ce(j)||ee}return!ee&&(p&&p(me),re(me),A(!0),Te(!1),!0)}return!1},Oe=function(me){var ee=me.labelRef,O=me.inputRef,j=me.multiple,z=me.handleChanges,F=me.onDrop,U=$.useState(!1),L=U[0],k=U[1],D=$.useCallback(function(){O.current.click()},[O]),K=$.useCallback(function(ne){ne.preventDefault(),ne.stopPropagation(),Dc++,ne.dataTransfer.items&&ne.dataTransfer.items.length!==0&&k(!0)},[]),G=$.useCallback(function(ne){ne.preventDefault(),ne.stopPropagation(),--Dc>0||k(!1)},[]),Z=$.useCallback(function(ne){ne.preventDefault(),ne.stopPropagation()},[]),le=$.useCallback(function(ne){ne.preventDefault(),ne.stopPropagation(),k(!1),Dc=0;var he=ne.dataTransfer.files;if(he&&he.length>0){var ie=j?he:he[0],X=z(ie);F&&X&&F(ie)}},[z]);return $.useEffect(function(){var ne=ee.current;return ne.addEventListener("click",D),ne.addEventListener("dragenter",K),ne.addEventListener("dragleave",G),ne.addEventListener("dragover",Z),ne.addEventListener("drop",le),function(){ne.removeEventListener("click",D),ne.removeEventListener("dragenter",K),ne.removeEventListener("dragleave",G),ne.removeEventListener("dragover",Z),ne.removeEventListener("drop",le)}},[D,K,G,Z,le,ee]),L}({labelRef:y,inputRef:_,multiple:l,handleChanges:xe,onDrop:a});return $.useEffect(function(){g==null||g(Oe)},[Oe]),$.useEffect(function(){c?(A(!0),re(c)):(_.current&&(_.current.value=""),A(!1),re(null))},[c]),vt(Ck,Xi({overRide:x,className:"".concat(v||""," ").concat(u?"is-disabled":""),ref:y,htmlFor:t,onClick:function(me){me.preventDefault(),me.stopPropagation()}},{children:[W("input",{onClick:function(me){me.stopPropagation(),_&&_.current&&_.current.click()},onChange:function(me){var ee=me.target.files,O=l?ee:ee[0],j=xe(O);o&&j&&o(O)},accept:Ek(s),ref:_,type:"file",name:t,disabled:u,multiple:l},void 0),Oe&&W(Sk,Xi({style:m},{children:W("span",{children:r||"Drop Here"},void 0)}),void 0),!x&&vt($i,{children:[W(Ok,{},void 0),vt(bk,Xi({error:we},{children:[Pk(Q,T,we,u,d),W(kk,{types:s,minSize:n,maxSize:f},void 0)]}),void 0)]},void 0),x]}),void 0)};const Ak=e=>{const t=qr(e);["pawgenics_gene","pawgenics_signedHash","pawgenics_publicKey","pawgenics_parent1Gene","pawgenics_parent2Gene","pawgenics_parent1PublicKey","pawgenics_parent2PublicKey","pawgenics_parent1SignedHash","pawgenics_parent2SignedHash","pawgenics_parentMarriageHash"].every(s=>{if(Ft(t,s)===void 0)throw`missing ${s}`;return!0})},Bl=e=>{const t=pt.sign.open(e.parentMarriageHash,e.parent2PublicKey);if(t===null)throw"invalid marriage id";const r=pt.sign.open(e.signedHash,e.parent1PublicKey);if(r===null)throw"invalid hash";const s=pt.hash(Ln([r,e.publicKey])),p=na.generateDogHashFromParents(t,e.parent1SignedHash,e.parent2SignedHash),v=pt.hash(Ln([p,e.publicKey]));if(!bd(v,s))throw"hash doesn't match"},Mk=e=>{const t=Zr.buildDogFromDataURL(e);Bl(t);const r=qr(e),s=Ft(r,gt.SIGNED_MARRIAGE_ID),p=Zt(s),v=Ft(r,gt.PUBLIC_KEY),x=Zt(v),f=Ft(r,gt.SIGNED_HASH),n=Zt(f),c=pt.sign.open(p,x);if(!bd(n,c))throw"signed dog hash doesn't match"},Dk=(e,t)=>{const r=Zr.buildDogFromDataURL(e),s=Zr.buildDogFromDataURL(t);Bl(r),Bl(s);const p=qr(e),v=qr(t),x=Ft(p,gt.SIGNED_MARRIAGE_ID),f=Zt(x),n=Ft(p,gt.PUBLIC_KEY),c=Zt(n),h=Ft(v,gt.PUBLIC_KEY),i=Zt(h),o=pt.sign.open(f,c),a=na.generateMarriageHash(o,c,i),u=Ft(v,gt.SIGNED_APPROVAL_HASH),d=Zt(u),l=pt.sign.open(d,i);if(!bd(a,l))throw"marriage hash doesn't match"},Rk=(e,t)=>{const r=qr(t),s=Ft(r,gt.SECRET_KEY),p=Zt(s),x=Zr.buildDogFromDataURL(e).publicKey,f=new Uint8Array([1,2,3]),n=pt.sign(f,p);if(pt.sign.open(n,x)==null)throw"invalid key"},bd=(e,t)=>e.length===t.length&&e.every((r,s)=>r===t[s]),Vi={validateMetadataPresence:Ak,validateDogAuthenticity:Bl,validateProposalAuthenticity:Mk,validateApprovalAuthenticity:Dk,validateKeyAuthenticity:Rk},Lk=()=>{const[e,t]=$.useState(null),[r,s]=$.useState(null),[p,v]=$.useState(null),[x,f]=$.useState(null),n=o=>{const a=new FileReader;a.onload=()=>{try{Vi.validateDogAuthenticity(Zr.buildDogFromDataURL(a.result)),t(a.result),v(null)}catch{v("Invalid dog!"),setTimeout(()=>v(null),5e3)}},a.readAsDataURL(o)},c=o=>{const a=new FileReader;a.onload=()=>{try{Vi.validateKeyAuthenticity(e,a.result),s(a.result)}catch{v("Invalid key!"),setTimeout(()=>v(null),5e3)}},a.readAsDataURL(o)},h=async()=>{const o=qr(e),a=qr(r),u=Ft(o,gt.SIGNED_HASH),d=Ft(a,gt.SECRET_KEY),l=Zt(u),g=Zt(d);f(await Zr.generateProposalPNG(e,g,l))},i={padding:"0.75em"};return W(Fn,{className:"text-center",children:x===null?vt("div",{children:[p&&W(ed,{variant:"danger",children:p}),vt("div",{style:i,children:[W("h4",{children:"Place your dog here"}),e?W("img",{src:e,style:{borderRadius:"10%"}}):W(Ei,{handleChange:n,name:"file",types:["PNG"]})]}),W("div",{style:i,children:e&&vt("div",{children:[W("h4",{children:"Place your key here"}),r?W("div",{children:W("img",{src:r})}):W("div",{children:W(Ei,{handleChange:c,name:"file",types:["PNG"]})})]})}),e&&r&&W("div",{children:W(Rn,{onClick:h,children:"Generate Proposal"})})]}):vt("div",{children:[W("h3",{children:"Your proposal is ready!"}),W("p",{children:"Save and share them with the world!"}),W(uu,{imageDataURL:x})]})})},Fk=()=>{const[e,t]=$.useState(null),[r,s]=$.useState(null),[p,v]=$.useState(null),[x,f]=$.useState(null),[n,c]=$.useState(null),h=d=>{const l=new FileReader;l.onload=()=>{try{Vi.validateProposalAuthenticity(l.result),t(l.result)}catch{f("Invalid proposal!"),setTimeout(()=>f(null),5e3)}},l.readAsDataURL(d)},i=d=>{const l=new FileReader;l.onload=()=>{s(l.result)},l.readAsDataURL(d)},o=d=>{const l=new FileReader;l.onload=()=>{try{Vi.validateKeyAuthenticity(r,l.result),v(l.result)}catch{f("Invalid key!"),setTimeout(()=>f(null),5e3)}},l.readAsDataURL(d)},a=async()=>{c(await Zr.generateApprovalPNG(e,r,p))},u={padding:"0.75em"};return W(Fn,{className:"text-center",children:n===null?vt("div",{children:[x&&W(ed,{variant:"danger",children:x}),vt("div",{style:u,children:[W("h4",{children:"Place the proposal here"}),e?W("img",{src:e,style:{borderRadius:"10%"}}):W(Ei,{handleChange:h,name:"file",types:["PNG"]})]}),W("div",{style:u,children:e&&vt("div",{children:[W("h4",{children:"Place your dog here"}),r?W("img",{src:r,style:{borderRadius:"10%"}}):W(Ei,{handleChange:i,name:"file",types:["PNG"]})]})}),W("div",{style:u,children:r&&vt("div",{children:[W("h4",{children:"Place your key here"}),p?W("img",{src:p}):W(Ei,{handleChange:o,name:"file",types:["PNG"]})]})}),e&&r&&p&&W("div",{children:W(Rn,{onClick:a,children:"Approve!"})})]}):vt("div",{children:[W("h3",{children:"Your approval is ready!"}),W("p",{children:"Save and share your approval to the original proposer!"}),W(uu,{imageDataURL:n})]})})},Ik=()=>{const[e,t]=$.useState(null),[r,s]=$.useState(null),[p,v]=$.useState(null),[x,f]=$.useState(null),[n,c]=$.useState(null),[h,i]=$.useState(null);return W(Fn,{className:"text-center",children:x===null?vt("div",{children:[n&&W(ed,{variant:"danger",children:n}),vt("div",{children:[W("h4",{children:"Place the original proposal here"}),e?W("img",{src:e}):W("div",{children:W(Ei,{handleChange:l=>{const g=new FileReader;g.onload=()=>{try{Vi.validateProposalAuthenticity(g.result),t(g.result)}catch{c("Invalid proposal!"),setTimeout(()=>c(null),5e3)}},g.readAsDataURL(l)},name:"file",types:["PNG"]})})]}),W("div",{children:e&&vt("div",{children:[W("h4",{children:"Place the approval here"}),r?W("img",{src:r}):W("div",{children:W(Ei,{handleChange:l=>{const g=new FileReader;g.onload=()=>{try{Vi.validateApprovalAuthenticity(e,g.result),s(g.result)}catch{c("Invalid approval!"),setTimeout(()=>c(null),5e3)}},g.readAsDataURL(l)},name:"file",types:["PNG"]})})]})}),W("div",{children:e&&r&&vt("div",{children:[W("h4",{children:"Place the proposer key here"}),p?W("img",{src:p}):W("div",{children:W(Ei,{handleChange:l=>{const g=new FileReader;g.onload=()=>{try{Vi.validateKeyAuthenticity(e,g.result),v(g.result)}catch{c("Invalid key!"),setTimeout(()=>c(null),5e3)}},g.readAsDataURL(l)},name:"file",types:["PNG"]})})]})}),e&&r&&p&&W("div",{children:W(Rn,{onClick:async()=>{const l=Zr.buildDogFromDataURL(e),g=Zr.buildDogFromDataURL(r),m=qr(p),y=Ft(m,gt.SECRET_KEY),_=Zt(y),S=pt.sign.keyPair(),[T,A]=await na.buildDogFromMarriage(l,g,_,S);f(T),i(A)},children:"Generate Puppies!"})})]}):vt("div",{children:[W(M1,{dog:x,id:"dogPup"}),W(uu,{imageDataURL:h})]})})},Nk=()=>{const[e,t]=$.useState(""),r=s=>new URL(Object.assign({"../assets/approve.png":Im,"../assets/map.png":Nm,"../assets/propose.png":jm,"../assets/puppy.png":Bm})[`../assets/${s}.png`],self.location).href;return vt("div",{children:[W(al,{show:e==="proposal",onHide:()=>t(""),title:"Generate Proposal",content:W(Lk,{})}),W(al,{show:e==="approval",onHide:()=>t(""),title:"Generate Approval",content:W(Fk,{})}),W(al,{show:e==="puppy",onHide:()=>t(""),title:"Generate Puppies!",content:W(Ik,{})}),vt(Fn,{children:[vt(Cn,{children:[W("h1",{style:{padding:"0.5em 0 0.5em 0"},className:"text-center",children:"Breeding"}),W("p",{className:"text-center",children:"Combine your dog with other's and bring new pup!"})]}),vt(Cn,{className:"justify-content-md-center text-center",children:[W(sn,{md:"auto",children:W(sr,{style:{width:"18rem",cursor:"pointer"},onClick:()=>t("proposal"),children:vt(sr.Body,{children:[W(sr.Title,{className:"text-center",children:"Step 1"}),W(sr.Subtitle,{className:"mb-2 text-muted text-center",children:"Generate Proposal"}),W(sr.Text,{className:"text-center",children:"Let the world know that your dog is looking for a partner!"}),W("img",{src:r("propose"),style:{width:"15rem"}}),W(Rn,{onClick:()=>t("proposal"),style:{margin:"1em"},children:"Propose!"})]})})}),W(sn,{md:"auto",children:W(sr,{style:{width:"18rem",cursor:"pointer"},onClick:()=>t("approval"),children:vt(sr.Body,{children:[W(sr.Title,{className:"text-center",children:"Step 2"}),W(sr.Subtitle,{className:"mb-2 text-muted text-center",children:"Approve The Proposal"}),W(sr.Text,{className:"text-center",children:"Interested with another dog's offer? Approve the proposal!"}),W("img",{src:r("approve"),style:{width:"15rem"}}),W(Rn,{onClick:()=>t("approval"),style:{margin:"1em"},children:"Approve!"})]})})}),W(sn,{md:"auto",children:W(sr,{style:{width:"18rem",cursor:"pointer"},onClick:()=>t("puppy"),children:vt(sr.Body,{children:[W(sr.Title,{className:"text-center",children:"Step 3"}),W(sr.Subtitle,{className:"mb-2 text-muted text-center",children:"Make Puppies!"}),W(sr.Text,{className:"text-center",children:"Bring new puppies to the world after you receive their approval!"}),W("img",{src:r("puppy"),style:{width:"15rem"}}),W(Rn,{onClick:()=>t("puppy"),style:{margin:"1em"},children:"Puppy!"})]})})})]})]})]})},jk=()=>{const e={color:"black",textDecoration:"none"},t={padding:"0.5em"};return vt("div",{children:[(()=>W(Pc,{bg:"light",sticky:"top",children:vt(Fn,{children:[W(Pc.Brand,{children:W("img",{src:"./logo.svg",width:"30",height:"30",className:"d-inline-block align-top",alt:"React Bootstrap logo"})}),W(Pc.Brand,{children:W(nl,{to:"/",style:e,children:"Pawgenics"})}),vt(Oc,{className:"me-auto",children:[W(Oc.Item,{style:t,children:W(nl,{to:"/adopt",style:e,children:"Adopt"})}),W(Oc.Item,{style:t,children:W(nl,{to:"/breed",style:e,children:"Breed"})})]})]})}))(),W(Fn,{children:vt(pS,{children:[W(rl,{path:"/",element:W(CE,{})}),W(rl,{path:"/adopt",element:W(wE,{})}),W(rl,{path:"/breed",element:W(Nk,{})})]})})]})};Lc.createRoot(document.getElementById("root")).render(W(Ir.StrictMode,{children:W(xS,{children:W(jk,{})})}));
